{"version":3,"file":"js/app.509e3b9c.js","mappings":"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","sources":["webpack://shop_front_mobile/./src/App.vue","webpack://shop_front_mobile/./src/components/NavBar.vue","webpack://shop_front_mobile/./src/views/home/HomeView.vue","webpack://shop_front_mobile/./src/components/Home/SwipeCard.vue","webpack://shop_front_mobile/./src/util/request.js","webpack://shop_front_mobile/./src/api/res.js","webpack://shop_front_mobile/./src/util/cache.js","webpack://shop_front_mobile/src/components/Home/SwipeCard.vue","webpack://shop_front_mobile/./src/components/Home/SwipeCard.vue?d4d0","webpack://shop_front_mobile/./src/components/Home/SwipeCard.vue?45c7","webpack://shop_front_mobile/./src/components/Home/SortClass.vue","webpack://shop_front_mobile/./src/api/good/good.js","webpack://shop_front_mobile/src/components/Home/SortClass.vue","webpack://shop_front_mobile/./src/components/Home/SortClass.vue?8dbf","webpack://shop_front_mobile/./src/components/Home/SortClass.vue?9586","webpack://shop_front_mobile/./src/components/Home/ToggleGoods.vue","webpack://shop_front_mobile/./src/components/GoodsList.vue","webpack://shop_front_mobile/./src/components/GoodCard.vue","webpack://shop_front_mobile/src/components/GoodCard.vue","webpack://shop_front_mobile/./src/components/GoodCard.vue?e398","webpack://shop_front_mobile/./src/components/GoodCard.vue?92f3","webpack://shop_front_mobile/src/components/GoodsList.vue","webpack://shop_front_mobile/./src/components/GoodsList.vue?6c0f","webpack://shop_front_mobile/./src/components/GoodsList.vue?8ce1","webpack://shop_front_mobile/src/components/Home/ToggleGoods.vue","webpack://shop_front_mobile/./src/components/Home/ToggleGoods.vue?a93a","webpack://shop_front_mobile/./src/components/Home/ToggleGoods.vue?16e0","webpack://shop_front_mobile/./src/components/Home/NoticeBar.vue","webpack://shop_front_mobile/./src/api/system/notice.js","webpack://shop_front_mobile/src/components/Home/NoticeBar.vue","webpack://shop_front_mobile/./src/components/Home/NoticeBar.vue?c72b","webpack://shop_front_mobile/./src/components/Home/NoticeBar.vue?a459","webpack://shop_front_mobile/src/views/home/HomeView.vue","webpack://shop_front_mobile/./src/views/home/HomeView.vue?4e37","webpack://shop_front_mobile/./src/views/home/HomeView.vue?1aeb","webpack://shop_front_mobile/./src/views/home/MyView.vue","webpack://shop_front_mobile/./src/components/My/MyTop.vue","webpack://shop_front_mobile/./src/components/My/ChangeIcon.vue","webpack://shop_front_mobile/./src/api/user/users.js","webpack://shop_front_mobile/src/components/My/ChangeIcon.vue","webpack://shop_front_mobile/./src/components/My/ChangeIcon.vue?f4be","webpack://shop_front_mobile/./src/components/My/ChangeIcon.vue?3698","webpack://shop_front_mobile/./src/util/copy.js","webpack://shop_front_mobile/src/components/My/MyTop.vue","webpack://shop_front_mobile/./src/components/My/MyTop.vue?73fe","webpack://shop_front_mobile/./src/components/My/MyTop.vue?03ee","webpack://shop_front_mobile/./src/components/My/PurseCard.vue","webpack://shop_front_mobile/./src/api/user/purse.js","webpack://shop_front_mobile/src/components/My/PurseCard.vue","webpack://shop_front_mobile/./src/components/My/PurseCard.vue?46f3","webpack://shop_front_mobile/./src/components/My/PurseCard.vue?0892","webpack://shop_front_mobile/./src/components/My/CardGroup.vue","webpack://shop_front_mobile/src/components/My/CardGroup.vue","webpack://shop_front_mobile/./src/components/My/CardGroup.vue?dc6d","webpack://shop_front_mobile/./src/components/My/CardGroup.vue?1a07","webpack://shop_front_mobile/./src/components/My/MenuList.vue","webpack://shop_front_mobile/./src/components/My/MenuItem.vue","webpack://shop_front_mobile/src/components/My/MenuItem.vue","webpack://shop_front_mobile/./src/components/My/MenuItem.vue?32a0","webpack://shop_front_mobile/./src/components/My/MenuItem.vue?d6bd","webpack://shop_front_mobile/src/components/My/MenuList.vue","webpack://shop_front_mobile/./src/components/My/MenuList.vue?03d1","webpack://shop_front_mobile/./src/components/My/MenuList.vue?fab3","webpack://shop_front_mobile/src/views/home/MyView.vue","webpack://shop_front_mobile/./src/views/home/MyView.vue?0335","webpack://shop_front_mobile/./src/views/home/MyView.vue?4007","webpack://shop_front_mobile/./src/views/home/ShopcartView.vue","webpack://shop_front_mobile/./src/components/ShopCart/CartList.vue","webpack://shop_front_mobile/./src/components/ShopCart/CartCard.vue","webpack://shop_front_mobile/./src/api/shopcart/shopcart.js","webpack://shop_front_mobile/src/components/ShopCart/CartCard.vue","webpack://shop_front_mobile/./src/components/ShopCart/CartCard.vue?ca5e","webpack://shop_front_mobile/./src/components/ShopCart/CartCard.vue?9ac1","webpack://shop_front_mobile/./src/components/GoodsSku.vue","webpack://shop_front_mobile/./src/api/good/props.js","webpack://shop_front_mobile/src/components/GoodsSku.vue","webpack://shop_front_mobile/./src/components/GoodsSku.vue?82b6","webpack://shop_front_mobile/./src/components/GoodsSku.vue?5355","webpack://shop_front_mobile/src/components/ShopCart/CartList.vue","webpack://shop_front_mobile/./src/components/ShopCart/CartList.vue?ce07","webpack://shop_front_mobile/./src/components/ShopCart/CartList.vue?1c99","webpack://shop_front_mobile/src/views/home/ShopcartView.vue","webpack://shop_front_mobile/./src/views/home/ShopcartView.vue?17c1","webpack://shop_front_mobile/./src/views/home/ShopcartView.vue?8524","webpack://shop_front_mobile/./src/views/home/CategoryView.vue","webpack://shop_front_mobile/src/views/home/CategoryView.vue","webpack://shop_front_mobile/./src/views/home/CategoryView.vue?a1ec","webpack://shop_front_mobile/./src/views/home/CategoryView.vue?8999","webpack://shop_front_mobile/./src/views/login/LoginView.vue","webpack://shop_front_mobile/./src/components/TopNav.vue","webpack://shop_front_mobile/src/components/TopNav.vue","webpack://shop_front_mobile/./src/components/TopNav.vue?70e3","webpack://shop_front_mobile/./src/components/TopNav.vue?9661","webpack://shop_front_mobile/src/views/login/LoginView.vue","webpack://shop_front_mobile/./src/views/login/LoginView.vue?1da0","webpack://shop_front_mobile/./src/views/login/LoginView.vue?f970","webpack://shop_front_mobile/./src/views/login/RegisterView.vue","webpack://shop_front_mobile/src/views/login/RegisterView.vue","webpack://shop_front_mobile/./src/views/login/RegisterView.vue?924f","webpack://shop_front_mobile/./src/views/login/RegisterView.vue?e829","webpack://shop_front_mobile/./src/views/second/CollectView.vue","webpack://shop_front_mobile/./src/components/CollectList.vue","webpack://shop_front_mobile/./src/api/user/collect.js","webpack://shop_front_mobile/./src/components/GoodRowcard.vue","webpack://shop_front_mobile/src/components/GoodRowcard.vue","webpack://shop_front_mobile/./src/components/GoodRowcard.vue?a6fe","webpack://shop_front_mobile/./src/components/GoodRowcard.vue?5abf","webpack://shop_front_mobile/src/components/CollectList.vue","webpack://shop_front_mobile/./src/components/CollectList.vue?0b38","webpack://shop_front_mobile/./src/components/CollectList.vue?ca37","webpack://shop_front_mobile/src/views/second/CollectView.vue","webpack://shop_front_mobile/./src/views/second/CollectView.vue?05dd","webpack://shop_front_mobile/./src/views/second/CollectView.vue?70d3","webpack://shop_front_mobile/./src/views/second/SearchView.vue","webpack://shop_front_mobile/./src/components/Search/SearchNav.vue","webpack://shop_front_mobile/src/components/Search/SearchNav.vue","webpack://shop_front_mobile/./src/components/Search/SearchNav.vue?3baf","webpack://shop_front_mobile/./src/components/Search/SearchNav.vue?ac31","webpack://shop_front_mobile/./src/components/Search/SearchToggle.vue","webpack://shop_front_mobile/src/components/Search/SearchToggle.vue","webpack://shop_front_mobile/./src/components/Search/SearchToggle.vue?92f3","webpack://shop_front_mobile/./src/components/Search/SearchToggle.vue?4894","webpack://shop_front_mobile/src/views/second/SearchView.vue","webpack://shop_front_mobile/./src/views/second/SearchView.vue?5a9a","webpack://shop_front_mobile/./src/views/second/SearchView.vue?e144","webpack://shop_front_mobile/./src/views/second/EventView.vue","webpack://shop_front_mobile/./src/components/Detail/ShareNav.vue","webpack://shop_front_mobile/src/components/Detail/ShareNav.vue","webpack://shop_front_mobile/./src/components/Detail/ShareNav.vue?c271","webpack://shop_front_mobile/./src/components/Detail/ShareNav.vue?c048","webpack://shop_front_mobile/src/views/second/EventView.vue","webpack://shop_front_mobile/./src/views/second/EventView.vue?1dac","webpack://shop_front_mobile/./src/views/second/EventView.vue?93b2","webpack://shop_front_mobile/./src/views/second/RechargeView.vue","webpack://shop_front_mobile/./src/components/DefaultPage.vue","webpack://shop_front_mobile/src/components/DefaultPage.vue","webpack://shop_front_mobile/./src/components/DefaultPage.vue?b00f","webpack://shop_front_mobile/./src/components/DefaultPage.vue?bd55","webpack://shop_front_mobile/src/views/second/RechargeView.vue","webpack://shop_front_mobile/./src/views/second/RechargeView.vue?4026","webpack://shop_front_mobile/./src/views/second/RechargeView.vue?7419","webpack://shop_front_mobile/./src/views/second/PurseView.vue","webpack://shop_front_mobile/./src/components/ErrorCard.vue","webpack://shop_front_mobile/src/components/ErrorCard.vue","webpack://shop_front_mobile/./src/components/ErrorCard.vue?3f36","webpack://shop_front_mobile/./src/components/ErrorCard.vue?91f9","webpack://shop_front_mobile/src/views/second/PurseView.vue","webpack://shop_front_mobile/./src/views/second/PurseView.vue?0026","webpack://shop_front_mobile/./src/views/second/PurseView.vue?0a66","webpack://shop_front_mobile/./src/views/second/UserView.vue","webpack://shop_front_mobile/./src/components/ChangePhone.vue","webpack://shop_front_mobile/src/components/ChangePhone.vue","webpack://shop_front_mobile/./src/components/ChangePhone.vue?3da2","webpack://shop_front_mobile/./src/components/ChangePhone.vue?8b1e","webpack://shop_front_mobile/src/views/second/UserView.vue","webpack://shop_front_mobile/./src/views/second/UserView.vue?143f","webpack://shop_front_mobile/./src/views/second/UserView.vue?8793","webpack://shop_front_mobile/./src/views/second/InfoView.vue","webpack://shop_front_mobile/./src/api/user/info.js","webpack://shop_front_mobile/src/views/second/InfoView.vue","webpack://shop_front_mobile/./src/views/second/InfoView.vue?ac95","webpack://shop_front_mobile/./src/views/second/InfoView.vue?264c","webpack://shop_front_mobile/./src/views/second/SigninView.vue","webpack://shop_front_mobile/./src/api/user/signin.js","webpack://shop_front_mobile/src/views/second/SigninView.vue","webpack://shop_front_mobile/./src/views/second/SigninView.vue?73e0","webpack://shop_front_mobile/./src/views/second/SigninView.vue?694a","webpack://shop_front_mobile/./src/views/second/AddressView.vue","webpack://shop_front_mobile/./src/components/Address/AddressList.vue","webpack://shop_front_mobile/./src/components/Address/AddressCard.vue","webpack://shop_front_mobile/./src/api/user/address.js","webpack://shop_front_mobile/src/components/Address/AddressCard.vue","webpack://shop_front_mobile/./src/components/Address/AddressCard.vue?81f0","webpack://shop_front_mobile/./src/components/Address/AddressCard.vue?562f","webpack://shop_front_mobile/./src/util/position.js","webpack://shop_front_mobile/src/components/Address/AddressList.vue","webpack://shop_front_mobile/./src/components/Address/AddressList.vue?3b47","webpack://shop_front_mobile/./src/components/Address/AddressList.vue?4c20","webpack://shop_front_mobile/src/views/second/AddressView.vue","webpack://shop_front_mobile/./src/views/second/AddressView.vue?d288","webpack://shop_front_mobile/./src/views/second/AddressView.vue?b8ac","webpack://shop_front_mobile/./src/views/second/BillsView.vue","webpack://shop_front_mobile/src/views/second/BillsView.vue","webpack://shop_front_mobile/./src/views/second/BillsView.vue?2241","webpack://shop_front_mobile/./src/views/second/BillsView.vue?447d","webpack://shop_front_mobile/./src/views/second/BillsDetailView.vue","webpack://shop_front_mobile/src/views/second/BillsDetailView.vue","webpack://shop_front_mobile/./src/views/second/BillsDetailView.vue?8610","webpack://shop_front_mobile/./src/views/second/BillsDetailView.vue?7ad6","webpack://shop_front_mobile/./src/views/goods/GoodsDetail.vue","webpack://shop_front_mobile/./src/api/comment/comment.js","webpack://shop_front_mobile/./src/components/Comment/CommentCard.vue","webpack://shop_front_mobile/src/components/Comment/CommentCard.vue","webpack://shop_front_mobile/./src/components/Comment/CommentCard.vue?23da","webpack://shop_front_mobile/./src/components/Comment/CommentCard.vue?ed81","webpack://shop_front_mobile/src/views/goods/GoodsDetail.vue","webpack://shop_front_mobile/./src/views/goods/GoodsDetail.vue?6739","webpack://shop_front_mobile/./src/views/goods/GoodsDetail.vue?7db7","webpack://shop_front_mobile/./src/views/comment/CommentDetail.vue","webpack://shop_front_mobile/./src/api/comment/pickcomment.js","webpack://shop_front_mobile/./src/components/Comment/CommentChildCard.vue","webpack://shop_front_mobile/src/components/Comment/CommentChildCard.vue","webpack://shop_front_mobile/./src/components/Comment/CommentChildCard.vue?dd39","webpack://shop_front_mobile/./src/components/Comment/CommentChildCard.vue?7244","webpack://shop_front_mobile/./src/util/xxsFilter.js","webpack://shop_front_mobile/src/views/comment/CommentDetail.vue","webpack://shop_front_mobile/./src/views/comment/CommentDetail.vue?df58","webpack://shop_front_mobile/./src/views/comment/CommentDetail.vue?21c2","webpack://shop_front_mobile/./src/views/comment/CommentView.vue","webpack://shop_front_mobile/./src/components/Comment/CommentList.vue","webpack://shop_front_mobile/./src/api/comment/ordercomment.js","webpack://shop_front_mobile/src/components/Comment/CommentList.vue","webpack://shop_front_mobile/./src/components/Comment/CommentList.vue?4275","webpack://shop_front_mobile/./src/components/Comment/CommentList.vue?0cc9","webpack://shop_front_mobile/./src/components/Comment/CommentPopup.vue","webpack://shop_front_mobile/src/components/Comment/CommentPopup.vue","webpack://shop_front_mobile/./src/components/Comment/CommentPopup.vue?4820","webpack://shop_front_mobile/./src/components/Comment/CommentPopup.vue?ece5","webpack://shop_front_mobile/src/views/comment/CommentView.vue","webpack://shop_front_mobile/./src/views/comment/CommentView.vue?ff68","webpack://shop_front_mobile/./src/views/comment/CommentView.vue?e1bb","webpack://shop_front_mobile/./src/views/comment/AddCommentView.vue","webpack://shop_front_mobile/./src/components/Comment/CommentForm.vue","webpack://shop_front_mobile/src/components/Comment/CommentForm.vue","webpack://shop_front_mobile/./src/components/Comment/CommentForm.vue?d6e6","webpack://shop_front_mobile/./src/components/Comment/CommentForm.vue?81a8","webpack://shop_front_mobile/./src/api/order/order.js","webpack://shop_front_mobile/src/views/comment/AddCommentView.vue","webpack://shop_front_mobile/./src/views/comment/AddCommentView.vue?53cf","webpack://shop_front_mobile/./src/views/comment/AddCommentView.vue?91ac","webpack://shop_front_mobile/./src/views/orders/OrderView.vue","webpack://shop_front_mobile/./src/components/Order/OrderList.vue","webpack://shop_front_mobile/./src/components/Goods/GoodsInfo.vue","webpack://shop_front_mobile/src/components/Goods/GoodsInfo.vue","webpack://shop_front_mobile/./src/components/Goods/GoodsInfo.vue?2efc","webpack://shop_front_mobile/./src/components/Goods/GoodsInfo.vue?0fcb","webpack://shop_front_mobile/src/components/Order/OrderList.vue","webpack://shop_front_mobile/./src/components/Order/OrderList.vue?fe40","webpack://shop_front_mobile/./src/components/Order/OrderList.vue?ae58","webpack://shop_front_mobile/src/views/orders/OrderView.vue","webpack://shop_front_mobile/./src/views/orders/OrderView.vue?3451","webpack://shop_front_mobile/./src/views/orders/OrderView.vue?bd38","webpack://shop_front_mobile/./src/views/orders/CheckOrder.vue","webpack://shop_front_mobile/./src/components/Address/SelectAddress.vue","webpack://shop_front_mobile/src/components/Address/SelectAddress.vue","webpack://shop_front_mobile/./src/components/Address/SelectAddress.vue?2456","webpack://shop_front_mobile/./src/components/Address/SelectAddress.vue?d8b6","webpack://shop_front_mobile/src/views/orders/CheckOrder.vue","webpack://shop_front_mobile/./src/views/orders/CheckOrder.vue?d81a","webpack://shop_front_mobile/./src/views/orders/CheckOrder.vue?4f8d","webpack://shop_front_mobile/./src/store/index.js","webpack://shop_front_mobile/./src/router/index.js","webpack://shop_front_mobile/src/components/NavBar.vue","webpack://shop_front_mobile/./src/components/NavBar.vue?dd1b","webpack://shop_front_mobile/./src/components/NavBar.vue?3457","webpack://shop_front_mobile/src/App.vue","webpack://shop_front_mobile/./src/App.vue?51dd","webpack://shop_front_mobile/./src/App.vue?0e40","webpack://shop_front_mobile/./src/util/filters.js","webpack://shop_front_mobile/./src/util/directive.js","webpack://shop_front_mobile/./src/main.js","webpack://shop_front_mobile/./src/assets/image/icon/ sync ^\\.\\/.*$","webpack://shop_front_mobile/webpack/bootstrap","webpack://shop_front_mobile/webpack/runtime/chunk loaded","webpack://shop_front_mobile/webpack/runtime/compat get default export","webpack://shop_front_mobile/webpack/runtime/define property getters","webpack://shop_front_mobile/webpack/runtime/ensure chunk","webpack://shop_front_mobile/webpack/runtime/get javascript chunk filename","webpack://shop_front_mobile/webpack/runtime/get mini-css chunk filename","webpack://shop_front_mobile/webpack/runtime/global","webpack://shop_front_mobile/webpack/runtime/hasOwnProperty shorthand","webpack://shop_front_mobile/webpack/runtime/load script","webpack://shop_front_mobile/webpack/runtime/make namespace object","webpack://shop_front_mobile/webpack/runtime/publicPath","webpack://shop_front_mobile/webpack/runtime/jsonp chunk loading","webpack://shop_front_mobile/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":_vm.routerAnimate}},[(_vm.keepAlive)?_c('keep-alive',[_c('router-view')],1):_vm._e(),(!_vm.keepAlive)?_c('router-view'):_vm._e()],1),_c('NavBar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isNavBar),expression:\"isNavBar\"}]})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"animate__animated animate__fadeIn nav-bar\"},_vm._l((_vm.option),function(p,i){return _c('div',{key:p.path,staticClass:\"item\",class:_vm.active === i ? 'active' : '',on:{\"click\":function($event){return _vm.toPage(i)}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":_vm.active === i ? p.onIcon : p.icon}}),_c('span',[_vm._v(_vm._s(p.title))])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wind-init home\"},[_c('div',{staticClass:\"bg\"}),_c('div',{staticClass:\"search-nav\",on:{\"click\":_vm.toSearchView}},[_c('input',{staticClass:\"v-input search\",attrs:{\"type\":\"text\",\"placeholder\":\"搜索\",\"disabled\":\"\"}}),_c('van-icon',{staticClass:\"icon\",attrs:{\"name\":\"search\",\"size\":\"0.5rem\",\"color\":\"grey\"}})],1),_c('swipe-card'),_c('sort-class'),_c('notice-bar'),_c('toggle-goods')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-swipe',{staticClass:\"v-click v-card home-swiper\",attrs:{\"autoplay\":6000,\"touchable\":true,\"indicator-color\":\"#fff\"}},_vm._l((_vm.eventData),function(p,i){return _c('van-swipe-item',{key:i,on:{\"click\":function($event){return _vm.toEventView(p)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.getImgSrc(p.icon)),expression:\"getImgSrc(p.icon)\"}]})])}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\r\n// axios 简单封装\r\nconst baseURL = \"http://43.139.55.209:8081/api\";\r\nconst request = axios.create({\r\n  baseURL,\r\n  timeout: 6000,\r\n  headers: { \"Content-Type\": \"application/json\" },\r\n});\r\n\r\n// request.interceptors.request.use(\r\n//   config => {\r\n//     console.log(config);\r\n//     return config;\r\n//   },\r\n//   err => {\r\n//     return Promise.reject(err);\r\n//   }\r\n// );\r\nexport { request, baseURL };\r\n","import { baseURL, request } from \"@/util/request\";\r\n// 获取图片资源路径\r\nexport function getResourImageByName(url) {\r\n  return baseURL + \"/resources/image?name=\" + url;\r\n}\r\n\r\n// 获取首页最新活动轮播事件\r\nexport function getEventActives() {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/events/query\",\r\n  });\r\n}\r\n\r\n/**\r\n * 获取活动的商品\r\n * @param {*} page\r\n * @param {*} size\r\n * @param {*} id\r\n * @returns\r\n */\r\nexport function getEventGoodsById(page, size, id) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/eventsGoods/query/${page}/${size}/${id}`,\r\n  });\r\n}\r\n","/**\r\n * 异步缓存数组数据 list Array\r\n * @param {Array} oldList 旧函数\r\n * @param {function} asyncFn\r\n * @param {object} asyncParams 异步函数的参数\r\n * @param {string} uuid\r\n * @returns caches\r\n */\r\nexport const asyncCacheData = async (oldList, asyncFn, asyncParams = {}, uuid) => {\r\n  // 缓存\r\n  let list = JSON.parse(sessionStorage.getItem(uuid)) || [];\r\n  if (list.length > 0) {\r\n    list.forEach(p => {\r\n      oldList.push(p);\r\n    });\r\n  }\r\n  // 是否为空的异步形参\r\n  const res = JSON.stringify(asyncParams) === \"{}\" ? await asyncFn() : await asyncFn(...asyncParams);\r\n  if (list.length > 0) {\r\n    if (JSON.stringify(list) !== JSON.stringify(res.data.data)) {\r\n      // 若更新了\r\n      console.log(\"更新了分类\");\r\n      list = res.data.data;\r\n      sessionStorage.setItem(uuid, JSON.stringify(res.data.data));\r\n    }\r\n  } else {\r\n    list = res.data.data;\r\n    sessionStorage.setItem(uuid, JSON.stringify(res.data.data));\r\n  }\r\n  return list;\r\n};\r\n","<template :keepAlive=\"true\">\r\n  <van-swipe\r\n    class=\"v-click v-card home-swiper\"\r\n    :autoplay=\"6000\"\r\n    :touchable=\"true\"\r\n    indicator-color=\"#fff\"\r\n  >\r\n    <van-swipe-item\r\n      @click=\"toEventView(p)\"\r\n      v-for=\"(p, i) in eventData\"\r\n      :key=\"i\"\r\n    >\r\n      <img v-lazy=\"getImgSrc(p.icon)\" />\r\n    </van-swipe-item>\r\n  </van-swipe>\r\n</template>\r\n<script>\r\nimport { getEventActives, getResourImageByName } from \"@/api/res\";\r\nimport { asyncCacheData } from \"@/util/cache\";\r\nexport default {\r\n  name: \"SwipeCard\",\r\n  data() {\r\n    return {\r\n      eventData: [],\r\n    };\r\n  },\r\n  created() {\r\n    // 获取活动\r\n    asyncCacheData(this.eventData, getEventActives, {}, \"eventData\").then(\r\n      (list) => {\r\n        this.eventData = list;\r\n      }\r\n    );\r\n  },\r\n  methods: {\r\n    toEventView(p) {\r\n      // 跳转\r\n      this.$router.push({\r\n        name: \"active\",\r\n        params: { animate: \"forward\" },\r\n        query: {\r\n          eid: p.id,\r\n          event: p,\r\n        },\r\n      });\r\n    },\r\n\r\n    getImgSrc(icon) {\r\n      return getResourImageByName(icon);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.v-card {\r\n  height: 4.5rem;\r\n  padding: 0;\r\n  margin-top: 0.5rem;\r\n  margin-bottom: 0.3rem;\r\n  box-shadow: var(--shadow-color3);\r\n  border-radius: 10px;\r\n}\r\n.home-swiper img {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: block;\r\n  object-fit: cover;\r\n  -webkit-user-drag: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SwipeCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SwipeCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SwipeCard.vue?vue&type=template&id=5e7944ac&scoped=true&%3AkeepAlive=true&\"\nimport script from \"./SwipeCard.vue?vue&type=script&lang=js&\"\nexport * from \"./SwipeCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SwipeCard.vue?vue&type=style&index=0&id=5e7944ac&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e7944ac\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.firstSortList),expression:\"firstSortList\"}],staticClass:\"v-card sort-class\"},[_vm._l((_vm.firstSortList),function(p,i){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(i < 9),expression:\"i < 9\"}],key:p.id,staticClass:\"v-click item\",on:{\"click\":function($event){return _vm.toCategoryView(i)}}},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.getImgSrc(p.icon)}}),_c('span',[_vm._v(_vm._s(p.name))])])}),_c('div',{staticClass:\"item\",on:{\"click\":function($event){return _vm.toCategoryView(0)}}},[_c('van-icon',{staticClass:\"img\",attrs:{\"name\":\"qr\",\"size\":\"0.8rem\"}}),_c('span',[_vm._v(\"更多\")])],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\n\r\n/**\r\n * 获取商品列表\r\n * @param {number} page\r\n * @param {number} size\r\n * @param {\"name\": \"string\",\"cid\": \"string\",\"recommend\": 0,\"isNew\": 0,\"saleSort\": \"string\",\"priceSort\": \"string\"} data\r\n * @returns\r\n *  name: \"string\",\r\n    cid: \"string\",\r\n    recommend: 0, // 0, 1是0否推荐\r\n    isNew: 0, // 1是0否新品\r\n    saleSort: \"Asc\", // Asc/Des,销量排序\r\n    priceSort: \"Asc\", // Asc/Des,价格排序\r\n */\r\nexport function getGoodsListByPageSize(page, size, type) {\r\n  return request({\r\n    method: \"post\",\r\n    url: `/goods/query/${page}/${size}`,\r\n    data: type,\r\n  });\r\n}\r\n\r\n/**\r\n * 根据id查询商品详细信息\r\n * @param {*} id\r\n * @returns\r\n */\r\nexport function getGoodDetailById(id) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/goods/query/${id}`,\r\n  });\r\n}\r\n\r\n/**\r\n * @商品分类\r\n * @returns\r\n */\r\n// 获取一级分类列表\r\nexport function getFirstSortList() {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/goodsCategory/query/one\",\r\n  });\r\n}\r\n// 获取二级分类列表\r\nexport function getSecondSortList(id) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/goodsCategory/query/child/${id}`,\r\n  });\r\n}\r\n\r\n// 获取全部分类列表\r\nexport function getAllSortList() {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/goodsCategory/select`,\r\n  });\r\n}\r\n","<template>\r\n  <div class=\"v-card sort-class\" v-show=\"firstSortList\">\r\n    <div\r\n      class=\"v-click item\"\r\n      v-for=\"(p, i) in firstSortList\"\r\n      :key=\"p.id\"\r\n      v-show=\"i < 9\"\r\n      @click=\"toCategoryView(i)\"\r\n    >\r\n      <img :src=\"getImgSrc(p.icon)\" class=\"img\" />\r\n      <span>{{ p.name }}</span>\r\n    </div>\r\n    <div class=\"item\" @click=\"toCategoryView(0)\">\r\n      <van-icon name=\"qr\" class=\"img\" size=\"0.8rem\" />\r\n      <span>更多</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getFirstSortList } from \"@/api/good/good\";\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport { asyncCacheData } from \"@/util/cache\";\r\nexport default {\r\n  name: \"SortClass\",\r\n  data() {\r\n    return {\r\n      firstSortList: [],\r\n    };\r\n  },\r\n  created() {\r\n    // 设置前置缓存\r\n    asyncCacheData(\r\n      this.firstSortList,\r\n      getFirstSortList,\r\n      {},\r\n      \"firstSortList\"\r\n    ).then((list) => {\r\n      this.firstSortList = list;\r\n    });\r\n  },\r\n  methods: {\r\n    // 跳转到分类页面\r\n    toCategoryView(id) {\r\n      this.$router.push({\r\n        name: \"category\",\r\n        params: {\r\n          animate: \"forward\",\r\n        },\r\n        query: { id },\r\n      });\r\n    },\r\n    // 获取图片地址\r\n    getImgSrc(url) {\r\n      return getResourImageByName(url);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.sort-class {\r\n  /* box-shadow: var(--shadow-color3); */\r\n  box-shadow: none;\r\n  margin-top: 0.1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  flex-wrap: wrap;\r\n  backdrop-filter: saturate(50%) blur(10px);\r\n  position: relative;\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 10px;\r\n  padding: 0.3rem 0;\r\n\r\n  /* background-image: radial-gradient(\r\n    var(--bg-color5) 1px,\r\n    var(--theme-color) 1px\r\n  );\r\n  background-size: 4px 4px;\r\n  backdrop-filter: saturate(50%) blur(10px); */\r\n}\r\n.sort-class::before,\r\n.sort-class::after {\r\n  content: \"\";\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  filter: blur(20px);\r\n  z-index: -1;\r\n  background: linear-gradient(160deg, #fdb513, rgba(255, 255, 255, 0.288) 23%);\r\n}\r\n\r\n.sort-class::after {\r\n  background: linear-gradient(\r\n    -50deg,\r\n    #ff2b4fad,\r\n    rgba(255, 255, 255, 0.288) 20%\r\n  );\r\n}\r\n.sort-class .item {\r\n  width: 20%;\r\n  text-align: center;\r\n  padding: 0 0.12rem;\r\n  margin-bottom: 0.1rem;\r\n}\r\n.sort-class .item .img {\r\n  display: block;\r\n  width: 1.25rem;\r\n  height: 1.25rem;\r\n  margin: auto;\r\n  padding: 0.25rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SortClass.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SortClass.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SortClass.vue?vue&type=template&id=c9069fba&scoped=true&\"\nimport script from \"./SortClass.vue?vue&type=script&lang=js&\"\nexport * from \"./SortClass.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SortClass.vue?vue&type=style&index=0&id=c9069fba&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c9069fba\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"goods\"},[_c('div',{staticClass:\"topNav\"},_vm._l((_vm.option),function(p,i){return _c('div',{key:i,staticClass:\"nav-item\",class:_vm.active === i ? 'active' : '',on:{\"click\":function($event){_vm.active = i}}},[_c('label',[_vm._v(_vm._s(p.title))]),_c('span',[_vm._v(_vm._s(p.fTitle))])])}),0),_c('van-tabs',{staticClass:\"tabs\",attrs:{\"line-width\":\"1.6rem\",\"color\":\"var(--theme-color2)\",\"animated\":\"\",\"swipeable\":\"\",\"lazy-render\":\"\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.option),function(p,i){return _c('van-tab',{key:i},[_c('goods-list',{attrs:{\"type\":p.type,\"active\":_vm.active}})],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-list',{staticClass:\"animate__animated animate__fadeIn good-list\",attrs:{\"error\":_vm.isHttpError,\"finished\":_vm.finished,\"finished-text\":\"没有更多商品了\"},on:{\"update:error\":function($event){_vm.isHttpError=$event},\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.goodsList),function(item){return _c('good-card',{key:item.id,staticClass:\"item\",attrs:{\"item\":item}})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"v-card good-card\",on:{\"click\":function($event){return _vm.toGoodsDetail(_vm.item.goods.id)}}},[_c('van-image',{staticClass:\"bg\",attrs:{\"lazy-load\":\"\",\"src\":_vm.getImgSrc(_vm.item.goods.images[0])},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('van-loading',{attrs:{\"type\":\"spinner\",\"size\":\"24\"}})]},proxy:true}])}),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.item.goods.name))]),_c('div',{staticClass:\"price\"},[_vm._v(\" ￥\"),_c('span',{staticClass:\"tip\"},[_vm._v(_vm._s(_vm.item.price))])]),_c('div',{staticClass:\"sales\"},[_vm._v(\"销量 \"+_vm._s(_vm.item.goods.sale))]),_c('van-icon',{staticClass:\"lf-tip\",attrs:{\"name\":\"shopping-cart-o\",\"size\":\"0.4rem\",\"color\":\"var(--text-color)\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"v-card good-card\" @click=\"toGoodsDetail(item.goods.id)\">\r\n    <!-- 商品图片 -->\r\n    <van-image class=\"bg\" lazy-load :src=\"getImgSrc(item.goods.images[0])\">\r\n      <template v-slot:loading>\r\n        <van-loading type=\"spinner\" size=\"24\" />\r\n      </template>\r\n    </van-image>\r\n    <!-- 介绍 -->\r\n    <div class=\"bottom\">\r\n      <div class=\"title\">{{ item.goods.name }}</div>\r\n      <div class=\"price\">\r\n        ￥<span class=\"tip\">{{ item.price }}</span>\r\n      </div>\r\n      <div class=\"sales\">销量 {{ item.goods.sale }}</div>\r\n      <van-icon\r\n        name=\"shopping-cart-o\"\r\n        class=\"lf-tip\"\r\n        size=\"0.4rem\"\r\n        color=\"var(--text-color)\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getResourImageByName } from \"@/api/res\";\r\nexport default {\r\n  props: [\"item\"],\r\n  name: \"SortClass\",\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    // 点击跳转对应的商品详情页面\r\n    toGoodsDetail(id) {\r\n      this.$router.push({\r\n        name: \"detail\",\r\n        query: { id },\r\n        params: { animate: \"forward\" },\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    // 获取图片地址\r\n    getImgSrc() {\r\n      return (url) => {\r\n        return getResourImageByName(url);\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.good-card {\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  border-radius: 10px;\r\n  margin: 0.2rem 0;\r\n  backdrop-filter: blur(20px);\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n.bg {\r\n  display: block;\r\n  width: 100%;\r\n  height: 4rem;\r\n  object-fit: cover;\r\n}\r\n/* 详情 */\r\n.bottom {\r\n  padding: 0.2rem 0.25rem;\r\n}\r\n.bottom .title {\r\n  font-size: 0.4rem;\r\n}\r\n\r\n.price {\r\n  font-size: 0.4rem;\r\n  padding-top: 0.1rem;\r\n  color: var(--tip-color);\r\n}\r\n.price .tip {\r\n  font-size: 0.55rem;\r\n}\r\n.sales {\r\n  font-size: 0.3rem;\r\n  opacity: 0.7;\r\n}\r\n.bottom .lf-tip {\r\n  position: absolute;\r\n  right: 0.3rem;\r\n  bottom: 0.3rem;\r\n  border: none;\r\n  box-shadow: none;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodCard.vue?vue&type=template&id=8c168c4a&scoped=true&\"\nimport script from \"./GoodCard.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoodCard.vue?vue&type=style&index=0&id=8c168c4a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8c168c4a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <!-- 商品列表 -->\r\n  <van-list\r\n    class=\"animate__animated animate__fadeIn good-list\"\r\n    v-model=\"loading\"\r\n    :error.sync=\"isHttpError\"\r\n    :finished=\"finished\"\r\n    finished-text=\"没有更多商品了\"\r\n    @load=\"onLoad\"\r\n  >\r\n    <!-- 商品卡片 -->\r\n    <good-card\r\n      :item=\"item\"\r\n      v-for=\"item in goodsList\"\r\n      :key=\"item.id\"\r\n      class=\"item\"\r\n    />\r\n  </van-list>\r\n</template>\r\n<script>\r\nimport { getGoodsListByPageSize } from \"@/api/good/good\";\r\nimport { getEventGoodsById } from \"@/api/res\";\r\nimport GoodCard from \"./GoodCard.vue\";\r\nexport default {\r\n  components: { GoodCard },\r\n  props: {\r\n    reqType: {\r\n      // 请求类型\r\n      type: String,\r\n      required: false,\r\n      default: \"type\",\r\n    },\r\n    type: {\r\n      // 筛选配置\r\n      type: Object,\r\n      required: false,\r\n    },\r\n  },\r\n  name: \"GoodsList\",\r\n  data() {\r\n    return {\r\n      currentPage: 1, // 当前分页\r\n      goodsList: [], // 商品列表\r\n      isHttpError: false, // 网络请求错误\r\n      loading: false, // 加载中\r\n      finished: false, // 完成\r\n    };\r\n  },\r\n  methods: {\r\n    // 加载对应的商品列表\r\n    onLoad() {\r\n      switch (this.reqType) {\r\n        case \"type\": // 搜索名 or 分类\r\n          this.reqGoodsByType();\r\n          break;\r\n        case \"eid\": // 请求分页搜索活动商品\r\n          this.reqGoodsByEid();\r\n          break;\r\n      }\r\n    },\r\n    // 请求分页搜索商品或分类\r\n    reqGoodsByType() {\r\n      if (this.type === undefined) return;\r\n      this.loading = true;\r\n      getGoodsListByPageSize(this.currentPage, 8, this.type)\r\n        .then((res) => {\r\n          if (res.data.code === 20011) {\r\n            const data = res.data.data;\r\n            data.records.map((p) => {\r\n              p.goods.images = p.goods.images.split(\",\");\r\n              this.goodsList.push(p);\r\n            });\r\n\r\n            // 加载状态结束\r\n            this.loading = false; // 下一页\r\n\r\n            // 数据全部加载完成\r\n            if (data.total >= this.goodsList.length) {\r\n              // console.log(this.currentPage, data.pages);// 数据页数\r\n              this.finished = true;\r\n            } else {\r\n              this.currentPage = data.current;\r\n              this.currentPage++;\r\n            }\r\n          } else {\r\n            this.isHttpError = true;\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.isHttpError = true;\r\n        });\r\n    },\r\n\r\n    // 请求分页搜索活动商品\r\n    reqGoodsByEid() {\r\n      if (!this.$route.query?.eid) return;\r\n\r\n      this.loading = true;\r\n      // 请求活动商品\r\n      getEventGoodsById(this.currentPage, 8, this.$route.query?.eid)\r\n        .then((res) => {\r\n          // console.log(res.data);\r\n          if (res.status === 200 && res.data.code === 20011) {\r\n            const data = res.data.data;\r\n            data.records.forEach((p) => {\r\n              p.goods.images = p.goods.images.split(\",\");\r\n              this.goodsList.push(p);\r\n            });\r\n\r\n            // 加载状态结束\r\n            this.loading = false; // 下一页\r\n\r\n            // 数据全部加载完成\r\n            if (this.goodsList.length === data.total) {\r\n              this.finished = true;\r\n            } else {\r\n              this.currentPage = data.current;\r\n              this.currentPage++; // 下一页\r\n            }\r\n          } else {\r\n            this.isHttpError = true;\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.isHttpError = true;\r\n        });\r\n    },\r\n\r\n    // 重新加载\r\n    reStart() {\r\n      new Promise((res) => {\r\n        this.currentPage = 1;\r\n        this.goodsList.splice(0); // 清空数组\r\n        return res(true);\r\n      }).then(() => {\r\n        this.onLoad();\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    type(newVal, oldVal) {\r\n      // 销量升降序\r\n      if (newVal.saleSort !== oldVal.saleSort) {\r\n        this.reStart();\r\n      }\r\n      // 价格升降序\r\n      if (newVal.priceSort !== oldVal.priceSort) {\r\n        this.reStart();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 商品 */\r\n.good-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  margin-top: 0.2rem;\r\n  padding: 0.1rem;\r\n  animation-delay: var(--router-delay) / 2;\r\n}\r\n.good-list .item {\r\n  width: 48%;\r\n}\r\n.good-list >>> .van-list__loading,\r\n.good-list >>> .van-list__finished-text,\r\n.good-list >>> .van-list__error-text {\r\n  width: 100%;\r\n  font-size: 0.35rem;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsList.vue?vue&type=template&id=5d0963ac&scoped=true&\"\nimport script from \"./GoodsList.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoodsList.vue?vue&type=style&index=0&id=5d0963ac&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d0963ac\",\n  null\n  \n)\n\nexport default component.exports","<template >\r\n  <div class=\"goods\">\r\n    <!-- 标题 -->\r\n    <div class=\"topNav\">\r\n      <div\r\n        class=\"nav-item\"\r\n        :class=\"active === i ? 'active' : ''\"\r\n        v-for=\"(p, i) in option\"\r\n        :key=\"i\"\r\n        @click=\"active = i\"\r\n      >\r\n        <label>{{ p.title }}</label>\r\n        <span>{{ p.fTitle }}</span>\r\n      </div>\r\n    </div>\r\n    <van-tabs\r\n      class=\"tabs\"\r\n      v-model=\"active\"\r\n      line-width=\"1.6rem\"\r\n      color=\"var(--theme-color2)\"\r\n      animated\r\n      swipeable\r\n      lazy-render\r\n    >\r\n      <!-- 四种商品栏目 -->\r\n      <van-tab v-for=\"(p, i) in option\" :key=\"i\">\r\n        <goods-list :type=\"p.type\" :active=\"active\" />\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\nimport GoodsList from \"@/components/GoodsList.vue\";\r\nexport default {\r\n  components: { GoodsList },\r\n  name: \"ToggleGoods\",\r\n  data() {\r\n    return {\r\n      active: 0,\r\n      option: [\r\n        { title: \"推荐\", fTitle: \"为你推荐\", type: { recommend: 1 } },\r\n        { title: \"日常\", fTitle: \"生活日常\", type: {} },\r\n        { title: \"新品\", fTitle: \"新品速达\", type: { isNew: 1 } },\r\n        { title: \"热销\", fTitle: \"当季热卖\", type: { saleSort: \"Des\" } },\r\n      ],\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.goods {\r\n  border-radius: 10px 10px 0 0;\r\n  background-color: var(--theme-color);\r\n}\r\n.tabs {\r\n  width: 100%;\r\n  margin-top: -50px;\r\n  height: auto;\r\n}\r\n.topNav {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding: 0.2rem 0;\r\n  user-select: none;\r\n  width: 100%;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n.nav-item {\r\n  margin: 0.2rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: 0.4s;\r\n}\r\n.nav-item.active {\r\n  transform: scale(1.06);\r\n}\r\n.nav-item label {\r\n  color: var(--theme-color4);\r\n  font-size: 0.45rem;\r\n  text-align: center;\r\n  transition: 0.4s;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n}\r\n.nav-item.active label {\r\n  font-weight: 600;\r\n  transition: 0.4s;\r\n}\r\n.nav-item.active span {\r\n  color: var(--theme-color4);\r\n  transition: 0.4s;\r\n}\r\n.nav-item span {\r\n  color: rgba(0, 0, 0, 0.6);\r\n  font-size: 0.32rem;\r\n  transition: 0.4s;\r\n  position: relative;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ToggleGoods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ToggleGoods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ToggleGoods.vue?vue&type=template&id=92e6d34e&scoped=true&\"\nimport script from \"./ToggleGoods.vue?vue&type=script&lang=js&\"\nexport * from \"./ToggleGoods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ToggleGoods.vue?vue&type=style&index=0&id=92e6d34e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92e6d34e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-swipe',{staticClass:\"v-card notice-list\",attrs:{\"autoplay\":4000,\"vertical\":\"\",\"show-indicators\":false}},[_c('van-swipe-item',{staticClass:\"notice-bar\"},[_c('van-icon',{staticClass:\"icon\",attrs:{\"name\":\"medal\",\"color\":\"var(--tip-color2)\",\"size\":\"0.6rem\"}}),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.mainNotice?.content)+\" \")])],1),_vm._l((_vm.noticeList),function(notice){return _c('van-swipe-item',{key:notice.id,staticClass:\"notice-bar\"},[_c('van-icon',{staticClass:\"icon\",attrs:{\"name\":\"hot-o\",\"color\":\"var(--tip-color2)\",\"size\":\"0.6rem\"}}),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(notice?.content)+\" \")])],1)})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\n\r\n// 分页获取公告\r\nexport function getNoticeByPage(page, size) {\r\n  return request({\r\n    method: \"post\",\r\n    url: `/notices/query/${page}/${size}`,\r\n  });\r\n}\r\n\r\n// 默认首要公告\r\nexport function getIndexNotice() {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/notices/index\",\r\n  });\r\n}\r\n","<template>\r\n  <van-swipe\r\n    class=\"v-card notice-list\"\r\n    :autoplay=\"4000\"\r\n    vertical\r\n    :show-indicators=\"false\"\r\n  >\r\n    <van-swipe-item class=\"notice-bar\">\r\n      <van-icon\r\n        class=\"icon\"\r\n        name=\"medal\"\r\n        color=\"var(--tip-color2)\"\r\n        size=\"0.6rem\"\r\n      />\r\n      <span class=\"content\">{{ mainNotice?.content }} </span>\r\n    </van-swipe-item>\r\n    <van-swipe-item\r\n      class=\"notice-bar\"\r\n      v-for=\"notice in noticeList\"\r\n      :key=\"notice.id\"\r\n    >\r\n      <van-icon\r\n        class=\"icon\"\r\n        name=\"hot-o\"\r\n        color=\"var(--tip-color2)\"\r\n        size=\"0.6rem\"\r\n      />\r\n      <span class=\"content\">{{ notice?.content }} </span>\r\n    </van-swipe-item>\r\n  </van-swipe>\r\n</template>\r\n<script>\r\nimport { getIndexNotice, getNoticeByPage } from \"@/api/system/notice\";\r\nexport default {\r\n  name: \"NoticeBar\",\r\n  data() {\r\n    return {\r\n      noticeList: [], // 公告\r\n      mainNotice: {},\r\n    };\r\n  },\r\n  async created() {\r\n    const resList = await getNoticeByPage(1, 8);\r\n    this.noticeList = resList.data.data?.records;\r\n    const res = await getIndexNotice();\r\n    this.mainNotice = res.data.data;\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.notice-list {\r\n  padding: 0;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 1rem;\r\n  overflow: hidden;\r\n}\r\n.notice-bar {\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0rem 0.3rem;\r\n}\r\n.content {\r\n  width: 100%;\r\n  padding-left: 0.2rem;\r\n  font-size: 0.3rem;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.tag {\r\n  font-size: 0.3rem;\r\n  background-color: var(--tip-color2);\r\n  padding: 0.1rem 0.2rem;\r\n  border-radius: 5px;\r\n  color: var(--theme-color);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NoticeBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NoticeBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NoticeBar.vue?vue&type=template&id=27b02090&scoped=true&\"\nimport script from \"./NoticeBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NoticeBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NoticeBar.vue?vue&type=style&index=0&id=27b02090&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27b02090\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"wind-init home\">\r\n    <div class=\"bg\"></div>\r\n    <!-- 搜索栏 -->\r\n    <div class=\"search-nav\" @click=\"toSearchView\">\r\n      <input type=\"text\" class=\"v-input search\" placeholder=\"搜索\" disabled />\r\n      <van-icon name=\"search\" class=\"icon\" size=\"0.5rem\" color=\"grey\" />\r\n    </div>\r\n    <!-- 轮播图广告 -->\r\n    <swipe-card />\r\n    <!-- 分类栏目 -->\r\n    <sort-class />\r\n    <!-- 公告 -->\r\n    <notice-bar />\r\n    <!-- 商品栏目 -->\r\n    <toggle-goods />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SwipeCard from \"@/components/Home/SwipeCard.vue\";\r\nimport SortClass from \"@/components/Home/SortClass.vue\";\r\nimport ToggleGoods from \"@/components/Home/ToggleGoods.vue\";\r\nimport NoticeBar from \"@/components/Home/NoticeBar.vue\";\r\nexport default {\r\n  name: \"HomeView\",\r\n  components: { SwipeCard, SortClass, ToggleGoods, NoticeBar },\r\n  methods: {\r\n    // 导航到搜索页面\r\n    toSearchView() {\r\n      this.$router.push({\r\n        name: \"search\",\r\n        params: {\r\n          animate: \"forward\",\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.home {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: var(--bg-color6);\r\n  min-height: 100vh;\r\n}\r\n.bg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  z-index: 0;\r\n  height: 3.5rem;\r\n  background-image: linear-gradient(\r\n    var(--theme-color2) 40%,\r\n    var(--theme-color)\r\n  );\r\n}\r\n/* 搜索 */\r\n.search-nav {\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n}\r\n.search-nav .search {\r\n  width: 100%;\r\n  padding: 0.25rem 0.5rem;\r\n  margin: auto;\r\n  border: 1px solid var(--border-color);\r\n  padding-left: 1rem;\r\n}\r\n\r\n.search-nav .icon {\r\n  position: absolute;\r\n  top: 0.25rem;\r\n  left: 0.4rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeView.vue?vue&type=template&id=794fb244&scoped=true&\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeView.vue?vue&type=style&index=0&id=794fb244&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"794fb244\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wind-init my-view\"},[_c('my-top'),(_vm.isLoginState)?_c('purse-card'):_vm._e(),_c('card-group'),(_vm.isLoginState)?_c('menu-list'):_vm._e(),(!_vm.isLoginState)?_c('span',{staticClass:\"animate__animated animate__fadeIn bottom-span\"},[_vm._v(\"————— 登录了解更多 —————\")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"my-top\"},[(_vm.isLoginState)?_c('div',{staticClass:\"left\",on:{\"click\":function($event){_vm.showIconPanel = true}}},[_c('van-image',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userInfo.icon),expression:\"userInfo.icon\"}],staticClass:\"img\",attrs:{\"round\":\"\",\"src\":_vm.getImage(_vm.userInfo.icon),\"lazy-load\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.userInfo.icon),expression:\"!userInfo.icon\"}],staticClass:\"img\",attrs:{\"src\":require(\"@/assets/image/icon/camera.png\")}})],1):_c('div',{staticClass:\"left\"},[_c('label',{staticClass:\"title2\"},[_vm._v(\"欢迎您！\")]),_c('span',[_vm._v(\"期待你的每次到来~\")]),_c('button',{staticClass:\"v-btn tolg-btn\",on:{\"click\":_vm.toLoginPage}},[_vm._v(\"立即登录\")])]),(_vm.isLoginState)?_c('div',{staticClass:\"right\"},[_c('label',{staticClass:\"title\",on:{\"click\":function($event){return _vm.toView('userinfo')}}},[_vm._v(_vm._s(_vm.userInfo?.nickname))]),_c('span',{staticClass:\"userid\",on:{\"click\":function($event){return _vm.copyID(_vm.userInfo.username)}}},[_vm._v(\"ID:\"+_vm._s(_vm.userInfo?.username))])]):_vm._e(),_c('img',{staticClass:\"bg\",attrs:{\"src\":require(\"@/assets/image/bg/shopcard_bg.png\")}}),(_vm.isLoginState)?_c('button',{staticClass:\"v-btn v-cancel signin\",on:{\"click\":function($event){return _vm.toView('signin')}}},[_vm._v(\" 签到 \")]):_vm._e()]),_c('change-icon',{model:{value:(_vm.showIconPanel),callback:function ($$v) {_vm.showIconPanel=$$v},expression:\"showIconPanel\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-popup',{staticClass:\"icon-popup\",style:({ width: '80%', height: '8rem', margin: '0 auto' }),attrs:{\"transition\":\"popup\",\"closeable\":\"\",\"round\":\"\",\"duration\":\"0.24\",\"position\":\"center\"},on:{\"open\":_vm.open},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"flex-col icon-ctn\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"上传头像\")]),_c('van-uploader',{staticClass:\"update\",attrs:{\"accept\":\"image/png, image/jpeg, image/jpg,\",\"preview-size\":\"3rem\",\"max-count\":1,\"max-size\":500 * 1024,\"preview-options\":{ closeable: true },\"after-read\":_vm.uploadIcon},on:{\"oversize\":_vm.overSizeFile},model:{value:(_vm.imgList),callback:function ($$v) {_vm.imgList=$$v},expression:\"imgList\"}}),_c('div',{staticClass:\"btn-group\"},[_c('input',{staticClass:\"v-btn v-cancel\",attrs:{\"type\":\"button\",\"value\":\"取消\"},on:{\"click\":function($event){_vm.show = false}}}),_c('input',{staticClass:\"v-btn\",attrs:{\"type\":\"submit\",\"value\":\"确定\"},on:{\"click\":_vm.updateIconPathInfo}})])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\n\r\n// --------------用户注册、登录---------------\r\n/**\r\n * \r\n * @param {Object} userInfo{\r\n   username: \"tom\",\r\n   phone: \"134150000001\",\r\n   password: \"pariatur\",\r\n   code: \"232332\",\r\n }; \r\n * @returns \r\n */\r\nexport function register({ username, phone, password, code }) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/users/register\",\r\n    data: {\r\n      username,\r\n      phone,\r\n      password,\r\n      code,\r\n    },\r\n  });\r\n}\r\n// 用户注册-获取短信验证码 phone\r\nexport function getRegisterCode(phone) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/users/registerCode/${phone}`,\r\n  });\r\n}\r\n/**\r\n * 用户通过验证码登录\r\n * @param {number} phone\r\n * @param {number} code\r\n * @returns\r\n */\r\nexport function loginByCode(phone, code) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/users/login\",\r\n    data: {\r\n      phone,\r\n      code,\r\n      loginType: 1,\r\n    },\r\n  });\r\n}\r\n/**\r\n * 用户登录-密码\r\n * @param {*} username\r\n * @param {*} password\r\n * @param {*} loginType 密码登录0\r\n * @returns\r\n */\r\nexport function loginByPwd(username, password) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/users/login\",\r\n    data: {\r\n      username,\r\n      password,\r\n      loginType: 0,\r\n    },\r\n  });\r\n}\r\n// 用户登录-获取短信验证码\r\nexport function getLoginCode(phone) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/users/loginCode/${phone}`,\r\n  });\r\n}\r\n// 用户验证-查询个人用户\r\nexport function checkUser(token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/users/me\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 忘记密码：发送验证码 phone\r\n * @修改密码\r\n */\r\nexport function getUpdatePwdCode(username, phone) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/users/forgetCode/${username}/${phone}`,\r\n    // params: {\r\n    //   phone,\r\n    // },\r\n  });\r\n}\r\n\r\n/**\r\n *  验证验证码\r\n * @param {*} userInfo {username,phone,code}\r\n * @returns\r\n */\r\nexport function checkUpdatePwdCode({ username, phone, code }) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/users/forgetCode/check\",\r\n    params: {\r\n      username,\r\n      phone,\r\n      code,\r\n    },\r\n  });\r\n}\r\n// 忘记密码 phone newPassword\r\nexport function updatePwd(userInfo) {\r\n  const { phone, newPassword } = userInfo;\r\n  return request({\r\n    method: \"put\",\r\n    url: \"/users/updatePassword\",\r\n    data: {\r\n      phone,\r\n      newPassword,\r\n    },\r\n  });\r\n}\r\n\r\n// --------------------修改用户-------------------\r\n/**\r\n * 上传用户头像\r\n * @param {file:icon} fromData\r\n * @param {登录token:string} token\r\n * @returns res\r\n */\r\nexport function updateUserIcon(fromData, token) {\r\n  return request({\r\n    method: \"put\",\r\n    url: \"/users/update/icon\",\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n      Authorization: token,\r\n    },\r\n    data: fromData,\r\n    timeout: 10000,\r\n  });\r\n}\r\n\r\n/**\r\n *  修改昵称\r\n * @param {string} nickName 昵称\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function updateNickName(nickname, token) {\r\n  return request({\r\n    method: \"put\",\r\n    url: \"/users/updateNickName\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: { nickname },\r\n  });\r\n}\r\n\r\n/**\r\n *  修改用户名\r\n * @param {string} username 用户名\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function updateUserName(username, token) {\r\n  return request({\r\n    method: \"put\",\r\n    url: `/users/updateUsername/${username}`,\r\n    headers: { Authorization: token },\r\n  });\r\n}\r\n/**\r\n * 验证用户是否更换账号username\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getIsNotUpdateUsername(token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/uses/isNotUpdateUsername\",\r\n    headers: { Authorization: token },\r\n  });\r\n}\r\n\r\n/**\r\n *  修改手机号byCode\r\n * @param {string} phone 电话\r\n * @param {string} code 验证码\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function updatePhone(phone, code, token) {\r\n  return request({\r\n    method: \"put\",\r\n    url: `/users/updatePhone/${phone}/${code}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: { phone },\r\n  });\r\n}\r\n/**\r\n *  获取验证码（修改手机号）\r\n * @param {string} phone 电话\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function getUpdateCode(phone, token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/users/updateTelCode/${phone}`,\r\n    headers: { Authorization: token },\r\n  });\r\n}\r\n\r\n/**\r\n * 修改密码（新旧）\r\n * @param {*} newPassword\r\n * @param {*} oldPassword\r\n * @param {String} token\r\n * @returns\r\n */\r\nexport function changeUserPwd(newPassword, oldPassword, token) {\r\n  return request({\r\n    method: \"put\",\r\n    url: \"/users/updatePassword\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: { newPassword, oldPassword },\r\n  });\r\n}\r\n\r\n// 退出登录\r\nexport function exitLogin(token) {\r\n  return request({\r\n    method: \"delete\",\r\n    url: \"/users/logout\",\r\n    headers: { Authorization: token },\r\n  });\r\n}\r\n","<template>\r\n  <!-- 头像弹窗 -->\r\n  <van-popup\r\n    transition=\"popup\"\r\n    class=\"icon-popup\"\r\n    closeable\r\n    round\r\n    v-model=\"show\"\r\n    duration=\"0.24\"\r\n    @open=\"open\"\r\n    position=\"center\"\r\n    :style=\"{ width: '80%', height: '8rem', margin: '0 auto' }\"\r\n  >\r\n    <div class=\"flex-col icon-ctn\">\r\n      <span class=\"title\">上传头像</span>\r\n      <van-uploader\r\n        class=\"update\"\r\n        accept=\"image/png, image/jpeg, image/jpg,\"\r\n        v-model=\"imgList\"\r\n        preview-size=\"3rem\"\r\n        :max-count=\"1\"\r\n        :max-size=\"500 * 1024\"\r\n        @oversize=\"overSizeFile\"\r\n        :preview-options=\"{ closeable: true }\"\r\n        :after-read=\"uploadIcon\"\r\n      />\r\n      <div class=\"btn-group\">\r\n        <input\r\n          type=\"button\"\r\n          @click=\"show = false\"\r\n          value=\"取消\"\r\n          class=\"v-btn v-cancel\"\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          @click=\"updateIconPathInfo\"\r\n          value=\"确定\"\r\n          class=\"v-btn\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </van-popup>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport { updateUserIcon } from \"@/api/user/users\";\r\nimport { getResourImageByName } from \"@/api/res\";\r\nexport default {\r\n  name: \"ChangeIcon\",\r\n  props: [\"value\"],\r\n  data() {\r\n    return {\r\n      show: false,\r\n      imgList: [], // 头像\r\n      uploadPath: \"\", // 上传后的地址\r\n      isUpload: false,\r\n    };\r\n  },\r\n  methods: {\r\n    // 上传头像\r\n    async uploadIcon(file) {\r\n      if (!file?.content) {\r\n        return (this.show = false);\r\n      }\r\n\r\n      this.isUpload = true;\r\n      file.status = \"uploading\";\r\n      file.message = \"上传中...\";\r\n      // 上传图片\r\n      const fileRes = await updateUserIcon(\r\n        this.imgList[0],\r\n        this.$store.getters.token\r\n      );\r\n      // 上传头像文件\r\n      if (fileRes.status !== 200 || fileRes.data.code != 20011) {\r\n        file.status = \"failed\";\r\n        file.message = \"上传失败\";\r\n        return this.$toast({ type: \"fail\", message: \"上传失败！\" });\r\n      } else {\r\n        // 修改成功\r\n        this.uploadPath = fileRes.data.data;\r\n        file.status = \"done\";\r\n        file.message = \"\";\r\n        this.$notify({ type: \"success\", message: \"修改成功！\" });\r\n        this.isUpload = false;\r\n        this.$set(this.userInfo, \"icon\", this.uploadPath);\r\n      }\r\n    },\r\n\r\n    // 修改头像\r\n    async updateIconPathInfo() {\r\n      if (this.isUpload) {\r\n        return this.$toast(\"正在上传...\");\r\n      }\r\n      this.show = false;\r\n    },\r\n\r\n    // 图片\r\n    open() {\r\n      if (this.userIcon) {\r\n        this.$set(this.imgList, [0], { url: this.userIcon });\r\n      }\r\n    },\r\n    // 文件大小\r\n    overSizeFile() {\r\n      this.$toast(`大小不能超过 500kb`);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\"]),\r\n    userIcon() {\r\n      if (this.userInfo?.icon) {\r\n        return getResourImageByName(this.userInfo.icon);\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    value(newVal) {\r\n      this.show = newVal;\r\n    },\r\n    show(newVal) {\r\n      this.$emit(\"input\", newVal);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scpoed>\r\n/* 修改头像 */\r\n.icon-ctn {\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0.5rem 0.3rem;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n.icon-ctn .title {\r\n  font-size: 0.6rem;\r\n  letter-spacing: 0.1em;\r\n  font-weight: 600;\r\n  margin: 0.3rem 0;\r\n}\r\n.btn-group {\r\n  display: flex;\r\n  width: 80%;\r\n  margin: 0.2rem 0;\r\n  justify-content: space-around;\r\n}\r\n.btn-group .v-btn {\r\n  padding: 0.15rem 0.6rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChangeIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChangeIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangeIcon.vue?vue&type=template&id=f1534568&\"\nimport script from \"./ChangeIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangeIcon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChangeIcon.vue?vue&type=style&index=0&id=f1534568&prod&scpoed=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function copyText(text) {\r\n  // 动态创建 textarea 标签\r\n  const textarea = document.createElement(\"textarea\");\r\n  // 将该 textarea 设为 readonly 防止 iOS 下自动唤起键盘，同时将 textarea 移出可视区域\r\n  textarea.readOnly = \"readonly\";\r\n  textarea.style.position = \"absolute\";\r\n  textarea.style.opacity = \"0\";\r\n  textarea.style.left = \"-9999px\";\r\n  // 将要 copy 的值赋给 textarea 标签的 value 属性\r\n  textarea.value = text;\r\n  // 将 textarea 插入到 body 中\r\n  document.body.appendChild(textarea);\r\n  // 选中值并复制\r\n  textarea.select();\r\n  const result = document.execCommand(\"Copy\");\r\n  document.body.removeChild(textarea);\r\n  return result;\r\n}\r\n/**\r\n *\r\n * 复制文本\r\n * @param text 复制的文本\r\n * @returns promise\r\n */\r\nexport function copyTextAsync(text) {\r\n  // 新语法\r\n  if (navigator.clipboard) {\r\n    return navigator.clipboard.writeText(text);\r\n  } else {\r\n    // 兼容移动端版本\r\n    return new Promise((res, rej) => {\r\n      if (copyText(text)) {\r\n        return res(true);\r\n      } else {\r\n        return rej(false);\r\n      }\r\n    });\r\n  }\r\n}\r\n","<template>\r\n  <div>\r\n    <div class=\"my-top\">\r\n      <div class=\"left\" v-if=\"isLoginState\" @click=\"showIconPanel = true\">\r\n        <van-image\r\n          class=\"img\"\r\n          round\r\n          v-show=\"userInfo.icon\"\r\n          :src=\"getImage(userInfo.icon)\"\r\n          lazy-load\r\n        />\r\n        <img\r\n          v-show=\"!userInfo.icon\"\r\n          src=\"@/assets/image/icon/camera.png\"\r\n          class=\"img\"\r\n        />\r\n      </div>\r\n      <!-- 昵称 -->\r\n      <div class=\"left\" v-else>\r\n        <label class=\"title2\">欢迎您！</label>\r\n        <span>期待你的每次到来~</span>\r\n        <button class=\"v-btn tolg-btn\" @click=\"toLoginPage\">立即登录</button>\r\n      </div>\r\n      <div class=\"right\" v-if=\"isLoginState\">\r\n        <label class=\"title\" @click=\"toView('userinfo')\">{{\r\n          userInfo?.nickname\r\n        }}</label>\r\n        <span class=\"userid\" @click=\"copyID(userInfo.username)\"\r\n          >ID:{{ userInfo?.username }}</span\r\n        >\r\n      </div>\r\n      <img src=\"@/assets/image/bg/shopcard_bg.png\" class=\"bg\" />\r\n      <button\r\n        class=\"v-btn v-cancel signin\"\r\n        @click=\"toView('signin')\"\r\n        v-if=\"isLoginState\"\r\n      >\r\n        签到\r\n      </button>\r\n    </div>\r\n    <!-- 修改头像 -->\r\n    <change-icon v-model=\"showIconPanel\" />\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport router from \"@/router\";\r\nimport { mapState } from \"vuex\";\r\nimport { Toast } from \"vant\";\r\nimport ChangeIcon from \"./ChangeIcon.vue\";\r\nimport { copyTextAsync } from \"@/util/copy\";\r\nexport default {\r\n  name: \"MyTop\",\r\n  data() {\r\n    return { showIconPanel: false };\r\n  },\r\n  methods: {\r\n    // 返回静态资源地址\r\n    getImage(url) {\r\n      return getResourImageByName(url);\r\n    },\r\n    // 去登录\r\n    toView(name) {\r\n      router.push({\r\n        name,\r\n        params: {\r\n          animate: \"forward\",\r\n          toBack: true,\r\n        },\r\n      });\r\n    },\r\n    // 去登录\r\n    toLoginPage() {\r\n      router.push({\r\n        name: \"login\",\r\n        params: {\r\n          animate: \"forward\",\r\n          toBack: true,\r\n        },\r\n      });\r\n    },\r\n    // 复制\r\n    copyID(username) {\r\n      copyTextAsync(username)\r\n        .then(() => {\r\n          Toast({\r\n            message: \"复制成功！\",\r\n            position: \"bottom\",\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          Toast({\r\n            message: \"复制失败！\" + err,\r\n            position: \"bottom\",\r\n          });\r\n        });\r\n      // 新\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"isLoginState\", \"userInfo\"]),\r\n  },\r\n  components: { ChangeIcon },\r\n};\r\n</script>\r\n  <style scoped>\r\n/* 头部个人信息 */\r\n.my-top {\r\n  margin-top: 4vh;\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: transparent;\r\n  padding: 0.3rem;\r\n}\r\n.my-top .left {\r\n  display: flex;\r\n  cursor: pointer;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  padding: 0.1rem;\r\n  padding-right: 0;\r\n}\r\n.my-top .left .img {\r\n  width: 2rem;\r\n  height: 2rem;\r\n  display: block;\r\n  border-radius: 50%;\r\n  background-color: var(--theme-color3);\r\n  box-shadow: var(--shadow-color2);\r\n  object-fit: cover;\r\n  overflow: hidden;\r\n  margin-right: 0.2rem;\r\n}\r\n.my-top .right {\r\n  height: 2rem;\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  padding: 0.1rem;\r\n  padding-right: 0;\r\n}\r\n.my-top .title2 {\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n  letter-spacing: 0.1em;\r\n  padding: 0.2rem 0;\r\n}\r\n.my-top .right .title {\r\n  cursor: pointer;\r\n  width: 7em;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\n.my-top .bg {\r\n  z-index: -1;\r\n  display: block;\r\n  width: 3.5rem;\r\n  object-fit: contain;\r\n  position: absolute;\r\n  right: 0.3rem;\r\n  top: 0.7rem;\r\n}\r\n.my-top .signin {\r\n  position: absolute;\r\n  animation: 6s rubberBand2 0.3s infinite;\r\n  right: 0.9rem;\r\n  padding: 0.1rem 0.6rem;\r\n  background-color: var(--tip-color2);\r\n  color: var(--theme-color);\r\n  opacity: 0.9;\r\n  backdrop-filter: blur(10px);\r\n  font-size: 0.4rem;\r\n}\r\n.tolg-btn {\r\n  animation: 0.6s rubberBand 0.3s ease;\r\n  width: 80%;\r\n  margin: 0.2rem 0;\r\n  padding: 0.2rem 0.1rem;\r\n}\r\n\r\n@keyframes rubberBand2 {\r\n  0% {\r\n    -webkit-transform: scaleX(1);\r\n    transform: scaleX(1);\r\n  }\r\n  90% {\r\n    -webkit-transform: scaleX(1);\r\n    transform: scaleX(1);\r\n  }\r\n  91.5% {\r\n    -webkit-transform: scale3d(1.25, 0.75, 1);\r\n    transform: scale3d(1.25, 0.75, 1);\r\n  }\r\n  93% {\r\n    -webkit-transform: scale3d(0.75, 1.25, 1);\r\n    transform: scale3d(0.75, 1.25, 1);\r\n  }\r\n  94.5% {\r\n    -webkit-transform: scale3d(1.15, 0.85, 1);\r\n    transform: scale3d(1.15, 0.85, 1);\r\n  }\r\n  96% {\r\n    -webkit-transform: scale3d(0.95, 1.05, 1);\r\n    transform: scale3d(0.95, 1.05, 1);\r\n  }\r\n  97.8% {\r\n    -webkit-transform: scale3d(1.05, 0.95, 1);\r\n    transform: scale3d(1.05, 0.95, 1);\r\n  }\r\n  100% {\r\n    -webkit-transform: scaleX(1);\r\n    transform: scaleX(1);\r\n  }\r\n}\r\n@keyframes rubberBand {\r\n  0% {\r\n    -webkit-transform: scaleX(1);\r\n    transform: scaleX(1);\r\n  }\r\n  30% {\r\n    -webkit-transform: scale3d(1.25, 0.75, 1);\r\n    transform: scale3d(1.25, 0.75, 1);\r\n  }\r\n  40% {\r\n    -webkit-transform: scale3d(0.75, 1.25, 1);\r\n    transform: scale3d(0.75, 1.25, 1);\r\n  }\r\n  50% {\r\n    -webkit-transform: scale3d(1.15, 0.85, 1);\r\n    transform: scale3d(1.15, 0.85, 1);\r\n  }\r\n  65% {\r\n    -webkit-transform: scale3d(0.95, 1.05, 1);\r\n    transform: scale3d(0.95, 1.05, 1);\r\n  }\r\n  75% {\r\n    -webkit-transform: scale3d(1.05, 0.95, 1);\r\n    transform: scale3d(1.05, 0.95, 1);\r\n  }\r\n  to {\r\n    -webkit-transform: scaleX(1);\r\n    transform: scaleX(1);\r\n  }\r\n}\r\n</style>\r\n  ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyTop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyTop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyTop.vue?vue&type=template&id=00ccf971&scoped=true&\"\nimport script from \"./MyTop.vue?vue&type=script&lang=js&\"\nexport * from \"./MyTop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyTop.vue?vue&type=style&index=0&id=00ccf971&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00ccf971\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.purseInfo),expression:\"purseInfo\"}],staticClass:\"v-card purse-card\"},[_c('div',{staticClass:\"v-click animate__animated animate__slideInUp top\"},[_vm._m(0),_c('div',{staticClass:\"right\"},[_c('label',[_vm._v(\"积分卡\")]),_c('span',[_vm._v(\"剩余:\"+_vm._s(_vm.purseInfo?.points || 0))])])]),_c('div',{staticClass:\"bottom\"},[_c('span',[_vm._v(\"余额\")]),_c('label',{on:{\"click\":_vm.reqPurseInfo}},[_c('span',[_vm._v(\"￥\")]),_c('label',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLodaing),expression:\"!isLodaing\"}]},[_vm._v(_vm._s(_vm._f(\"price\")(_vm.purseInfo?.balance)))]),_c('van-loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLodaing),expression:\"isLodaing\"}],staticClass:\"load\",attrs:{\"color\":\"var(--text-color)\",\"size\":\"0.6rem\"}})],1),_c('div',{staticClass:\"tip\",on:{\"click\":function($event){return _vm.toView('purse')}}},[_c('img',{staticClass:\"bg\",attrs:{\"src\":require(\"@/assets/image/icon/coins_icon.png\")}}),_c('span',[_vm._v(\"钱包\")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"left\"},[_c('img',{staticClass:\"bg\",attrs:{\"src\":require(\"@/assets/image/icon/balance_icon.png\")}})])\n}]\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\n\r\n/**\r\n * 获取钱包信息\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function getPurseInfo(token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/waller\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n *  用户钱包自定义金额充值\r\n * @param {Number} chargeType 充值类型\r\n * @param {Number} recharge 充值金额\r\n * @param {String} token\r\n * @returns\r\n */\r\nexport function reChargeByBombo(chargeType, rechargeComboId, token) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/waller/recharge\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: {\r\n      chargeType,\r\n      rechargeComboId,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n *  用户钱包自定义金额充值\r\n * @param {Number} chargeType 充值类型\r\n * @param {Number} recharge 充值金额\r\n * @param {String} token\r\n * @returns\r\n */\r\nexport function reChargeByValue(chargeType, rechargeAmount, token) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/waller/recharge\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: {\r\n      chargeType,\r\n      rechargeAmount,\r\n    },\r\n  });\r\n}\r\n/**\r\n * 查询用户账单\r\n * @param {String} year\r\n * @param {String} month\r\n * @param {String} day\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function getBills(year, month, token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/waller/bill/${year}/${month}`,\r\n    headers: { Authorization: token },\r\n  });\r\n}\r\n\r\n/**\r\n * 查询充值列表\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function getRechargeCombo(token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/rechargeCombo/all\",\r\n    headers: { Authorization: token },\r\n  });\r\n}\r\n","<template>\r\n  <div class=\"v-card purse-card\" v-show=\"purseInfo\">\r\n    <!-- 积分 -->\r\n    <div class=\"v-click animate__animated animate__slideInUp top\">\r\n      <div class=\"left\">\r\n        <img class=\"bg\" src=\"@/assets/image/icon/balance_icon.png\" />\r\n      </div>\r\n      <!-- <div class=\"right\" @click=\"toView('recharge')\"> -->\r\n      <div class=\"right\">\r\n        <label>积分卡</label>\r\n        <span>剩余:{{ purseInfo?.points || 0 }}</span>\r\n      </div>\r\n    </div>\r\n    <!-- 余额 -->\r\n    <div class=\"bottom\">\r\n      <span>余额</span>\r\n      <label @click=\"reqPurseInfo\">\r\n        <span>￥</span>\r\n        <label v-show=\"!isLodaing\">{{ purseInfo?.balance | price }}</label>\r\n        <van-loading\r\n          class=\"load\"\r\n          v-show=\"isLodaing\"\r\n          color=\"var(--text-color)\"\r\n          size=\"0.6rem\"\r\n        />\r\n      </label>\r\n      <div class=\"tip\" @click=\"toView('purse')\">\r\n        <img src=\"@/assets/image/icon/coins_icon.png\" class=\"bg\" />\r\n        <span>钱包</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getPurseInfo } from \"@/api/user/purse\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"PurseCard\",\r\n  data() {\r\n    return {\r\n      isLodaing: true,\r\n      timer: \"\",\r\n    };\r\n  },\r\n  // 钱包信息\r\n  computed: { ...mapState([\"purseInfo\"]) },\r\n  mounted() {\r\n    this.reqPurseInfo(); // 请求钱包信息\r\n  },\r\n\r\n  methods: {\r\n    toView(routerName) {\r\n      this.$router.push({\r\n        name: routerName,\r\n        params: {\r\n          animate: \"toup\",\r\n        },\r\n      });\r\n    },\r\n\r\n    // 请求钱包信息\r\n    reqPurseInfo() {\r\n      if (this.timer !== \"\") return;\r\n      this.isLodaing = true;\r\n      this.timer = setTimeout(async () => {\r\n        const res = await getPurseInfo(this.$store.getters.token);\r\n        if (res.status == 200 && res.data.code === 20011) {\r\n          this.$store.commit(\"setPurseInfo\", res.data.data);\r\n          this.isLodaing = false;\r\n          this.timer = \"\";\r\n          return;\r\n        }\r\n        this.isError = true;\r\n      }, 800);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.purse-card {\r\n  user-select: none;\r\n  background-color: var(--theme-color2);\r\n  backdrop-filter: blur(20px);\r\n  padding: 0.3rem;\r\n  margin-top: 0.3rem;\r\n  padding-bottom: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nspan {\r\n  font-size: 0.38rem;\r\n  padding: 0.05rem 0;\r\n}\r\n.top {\r\n  width: 52%;\r\n  padding: 0.15rem;\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: var(--bg-color3);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 16px 16px 0 0;\r\n  border: 1px solid var(--bg-color3);\r\n  animation-timing-function: cubic-bezier(0.35, 0.225, 0.035, 1.035);\r\n}\r\n.top .left .bg {\r\n  margin: 0.1rem;\r\n  margin-right: 0.3rem;\r\n  width: 1.3rem;\r\n  height: 1.3rem;\r\n}\r\n.top .right,\r\n.bottom {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  color: var(--text-color);\r\n  transition: 0.3s;\r\n}\r\nlabel {\r\n  cursor: pointer;\r\n}\r\n.bottom {\r\n  position: relative;\r\n  padding: 0.3rem;\r\n  margin-bottom: 0;\r\n  left: -0.3rem;\r\n  background-color: var(--bg-color);\r\n  box-shadow: var(--shadow-color2);\r\n  width: calc(100% + 0.6rem);\r\n  border-radius: 0 0 16px 16px;\r\n}\r\n.bottom .tip {\r\n  box-shadow: var(--shadow-color);\r\n  border-radius: 2rem 0 0 2rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  right: 0;\r\n  padding: 0.2rem 0.3rem;\r\n  background-color: var(--bg-color4);\r\n  transition: 0.5s;\r\n}\r\n.tip:hover,\r\n.tip:active {\r\n  transform: scale(0.9);\r\n  transform-origin: 100% 100%;\r\n}\r\n.bottom .load {\r\n  font-weight: 600;\r\n  display: inline-block;\r\n}\r\n.bottom .tip .bg {\r\n  width: 0.8rem;\r\n  padding-right: 0.2rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PurseCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PurseCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PurseCard.vue?vue&type=template&id=c9cf9f52&scoped=true&\"\nimport script from \"./PurseCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PurseCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PurseCard.vue?vue&type=style&index=0&id=c9cf9f52&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c9cf9f52\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-swipe',{staticClass:\"animate__animated animate__fadeInLeft card-group\",attrs:{\"loop\":\"\",\"autoplay\":\"8000\",\"stop-propagation\":\"\",\"indicator-color\":\"transparent\"}},_vm._l((_vm.option),function(p,i){return _c('van-swipe-item',{key:i,staticClass:\"v-card CardGroup\"},[_c('div',{staticClass:\"v-click left-card\",on:{\"click\":function($event){return _vm.toView(p[0].target)}}},[_c('div',{staticClass:\"left\"},[_c('span',[_vm._v(_vm._s(p[0].title))]),_c('span',[_vm._v(_vm._s(p[0].name))])]),_c('img',{staticClass:\"bg\",attrs:{\"src\":p[0].icon}})]),_c('span',{staticStyle:{\"border\":\"1px solid var(--bg-color3)\",\"height\":\"1.8rem\"}}),_c('div',{staticClass:\"v-click right-card\",on:{\"click\":function($event){return _vm.toView(p[1].target)}}},[_c('div',{staticClass:\"left\"},[_c('span',[_vm._v(_vm._s(p[1].title))]),_c('span',[_vm._v(_vm._s(p[1].name))])]),_c('img',{staticClass:\"bg\",attrs:{\"src\":p[1].icon}})])])}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-swipe\r\n    loop\r\n    autoplay=\"8000\"\r\n    stop-propagation\r\n    indicator-color=\"transparent\"\r\n    class=\"animate__animated animate__fadeInLeft card-group\"\r\n  >\r\n    <van-swipe-item class=\"v-card CardGroup\" v-for=\"(p, i) in option\" :key=\"i\">\r\n      <div class=\"v-click left-card\" @click=\"toView(p[0].target)\">\r\n        <div class=\"left\">\r\n          <span>{{ p[0].title }}</span>\r\n          <span>{{ p[0].name }}</span>\r\n        </div>\r\n        <img :src=\"p[0].icon\" class=\"bg\" />\r\n      </div>\r\n      <span style=\"border: 1px solid var(--bg-color3); height: 1.8rem\"></span>\r\n      <div class=\"v-click right-card\" @click=\"toView(p[1].target)\">\r\n        <div class=\"left\">\r\n          <span>{{ p[1].title }}</span>\r\n          <span>{{ p[1].name }}</span>\r\n        </div>\r\n        <img :src=\"p[1].icon\" class=\"bg\" />\r\n      </div>\r\n    </van-swipe-item>\r\n  </van-swipe>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"CardGroup\",\r\n  data() {\r\n    return {\r\n      option: [\r\n        [\r\n          {\r\n            title: \"我的订单\",\r\n            name: \"查看最近商品\",\r\n            icon: require(\"@/assets/image/bg/order_bg.png\"),\r\n            target: \"order\",\r\n          },\r\n          {\r\n            title: \"收藏商品\",\r\n            name: \"收藏你所喜欢\",\r\n            icon: require(\"@/assets/image/bg/collect_bg.png\"),\r\n            target: \"collect\",\r\n          },\r\n        ],\r\n        [\r\n          {\r\n            title: \"账单\",\r\n            name: \"记录你的账单\",\r\n            icon: require(\"@/assets/gif/cars.gif\"),\r\n            target: \"bills\",\r\n          },\r\n          {\r\n            title: \"地址管理\",\r\n            name: \"查看最近地址\",\r\n            icon: require(\"@/assets/image/icon/onCategoty.png\"),\r\n            target: \"address\",\r\n          },\r\n        ],\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    // 二级页面跳转\r\n    toView(target) {\r\n      this.$router.push({\r\n        name: this.$store.getters.token !== \"\" ? target : \"login\",\r\n        params: {\r\n          animate: \"forward\",\r\n          toBack: true,\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.CardGroup {\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0.3rem 0rem;\r\n  width: 100%;\r\n}\r\n.left-card,\r\n.right-card {\r\n  display: flex;\r\n  width: 50%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  padding: 0.4rem 0.2rem;\r\n  cursor: pointer;\r\n}\r\n.left {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.left span:nth-child(2) {\r\n  font-size: 0.3rem;\r\n  opacity: 0.6;\r\n}\r\n.CardGroup img {\r\n  display: block;\r\n  height: 1.1rem;\r\n  width: 1.1rem;\r\n  padding: 0.1rem;\r\n  object-fit: cover;\r\n}\r\n.CardGroup img:nth-child(3) {\r\n  height: 2.2rem;\r\n  width: 2.2rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CardGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CardGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardGroup.vue?vue&type=template&id=651e13ff&scoped=true&\"\nimport script from \"./CardGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./CardGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardGroup.vue?vue&type=style&index=0&id=651e13ff&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"651e13ff\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"MenuList\"},[_vm._l((_vm.option),function(p,i){return _c('menu-item',{key:i,attrs:{\"title\":p.title,\"target-name\":p.targetName}})}),_c('button',{staticClass:\"v-btn lg-off\",on:{\"click\":_vm.cannelLogin}},[_vm._v(\"退出登录\")])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"v-click item\",on:{\"click\":_vm.toView}},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"flex-center-center right\"},[_c('span',[_vm._v(_vm._s(_vm.value))]),_vm._t(\"default\"),_c('van-icon',{attrs:{\"name\":\"arrow\",\"size\":\"0.42rem\"}})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"v-click item\" @click=\"toView\">\r\n    <span class=\"title\">{{ title }}</span>\r\n    <div class=\"flex-center-center right\">\r\n      <span>{{ value }}</span>\r\n      <slot></slot>\r\n      <van-icon name=\"arrow\" size=\"0.42rem\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport router from \"@/router\";\r\nexport default {\r\n  props: [\"title\", \"targetName\", \"value\"],\r\n  name: \"MenuItem\",\r\n  methods: {\r\n    toView() {\r\n      if (this.targetName) {\r\n        router.push({\r\n          name: this.targetName ?? \"my\",\r\n          params: {\r\n            animate: \"forward\",\r\n          },\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 0.4rem;\r\n  cursor: pointer;\r\n}\r\n.item .title,\r\n.item .right span {\r\n  font-size: 0.4rem;\r\n  letter-spacing: 0.05em;\r\n  font-weight: 600;\r\n  padding-right: 0.1rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuItem.vue?vue&type=template&id=0e6243b6&scoped=true&\"\nimport script from \"./MenuItem.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuItem.vue?vue&type=style&index=0&id=0e6243b6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e6243b6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"MenuList\">\r\n    <menu-item\r\n      v-for=\"(p, i) in option\"\r\n      :title=\"p.title\"\r\n      :target-name=\"p.targetName\"\r\n      :key=\"i\"\r\n    />\r\n    <button class=\"v-btn lg-off\" @click=\"cannelLogin\">退出登录</button>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Dialog } from \"vant\";\r\nimport MenuItem from \"./MenuItem.vue\";\r\nexport default {\r\n  name: \"MenuList\",\r\n  components: { MenuItem },\r\n  data() {\r\n    return {\r\n      option: [\r\n        { title: \"账号与安全\", targetName: \"user\" },\r\n        { title: \"个人信息\", targetName: \"userinfo\" },\r\n        { title: \"设置\", targetName: \"option\" },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    // 退出登录\r\n    cannelLogin() {\r\n      Dialog.confirm({\r\n        title: \"确认退出登录？\",\r\n        beforeClose: (action, done) => {\r\n          if (action === \"confirm\") {\r\n            setTimeout(() => {\r\n              this.$store.commit(\"loginOut\"); // 登出\r\n              done(); // 完成\r\n            }, 1500);\r\n          } else {\r\n            done(); // 完成\r\n          }\r\n        },\r\n      }).catch(() => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.MenuList {\r\n  margin-top: 0.5rem;\r\n  padding: 0 0.3rem;\r\n}\r\n.lg-off {\r\n  margin-top: 0.4rem;\r\n  width: 100%;\r\n  padding-top: 0.2rem;\r\n  padding-bottom: 0.2rem;\r\n  font-size: 0.45rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuList.vue?vue&type=template&id=4f3a3f9c&scoped=true&\"\nimport script from \"./MenuList.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuList.vue?vue&type=style&index=0&id=4f3a3f9c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f3a3f9c\",\n  null\n  \n)\n\nexport default component.exports","\r\n<template>\r\n  <div class=\"wind-init my-view\">\r\n    <!-- 顶部个人信息 -->\r\n    <my-top />\r\n    <!-- 钱包卡片 -->\r\n    <purse-card v-if=\"isLoginState\" />\r\n    <!-- 卡片组 -->\r\n    <card-group />\r\n    <!-- 菜单栏列表 -->\r\n    <menu-list v-if=\"isLoginState\" />\r\n    <!-- 了解更多 -->\r\n    <span\r\n      v-if=\"!isLoginState\"\r\n      class=\"animate__animated animate__fadeIn bottom-span\"\r\n      >————— 登录了解更多 —————</span\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MyTop from \"@/components/My/MyTop.vue\";\r\nimport PurseCard from \"@/components/My/PurseCard.vue\";\r\nimport CardGroup from \"@/components/My/CardGroup.vue\";\r\nimport MenuList from \"@/components/My/MenuList.vue\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  components: { MyTop, PurseCard, CardGroup, MenuList },\r\n  name: \"MyView\",\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    ...mapState([\"isLoginState\"]),\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.my-view {\r\n  user-select: none;\r\n}\r\n.bottom-span {\r\n  animation-delay: var(--router-delay);\r\n  display: block;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 0.32rem;\r\n  color: var(--bg-color3);\r\n  margin: 0.4rem 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyView.vue?vue&type=template&id=665dd0c6&scoped=true&\"\nimport script from \"./MyView.vue?vue&type=script&lang=js&\"\nexport * from \"./MyView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyView.vue?vue&type=style&index=0&id=665dd0c6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"665dd0c6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"contian\"},[(_vm.$store.state.isLoginState)?_c('div',{staticClass:\"shop-view\"},[_c('div',{staticClass:\"top\"},[_c('span',{staticClass:\"title\"},[_c('span',{staticClass:\"big\"},[_vm._v(\"购物车\")]),_c('small',[_vm._v(\" (\"+_vm._s(_vm.getCartCount)+\"件商品)\")])]),_c('span',{staticClass:\"edit\",staticStyle:{\"margin-left\":\"auto\",\"padding-right\":\"0.2rem\",\"color\":\"var(--text-color3)\"},on:{\"click\":_vm.deleteAllCart}},[_vm._v(\" 清空 \")]),_c('span',{staticClass:\"edit\",style:(_vm.isEdit ? 'color:var(--tip-color2)' : ''),on:{\"click\":function($event){_vm.isEdit = !_vm.isEdit}}},[_vm._v(_vm._s(_vm.isEdit ? \"退出管理\" : \"管理\"))])]),_c('cart-list',{ref:\"cardList\",attrs:{\"selectAll\":_vm.selectAll,\"isEdit\":_vm.isEdit},on:{\"changeSelectArr\":_vm.changeSelectArr,\"getCartLength\":_vm.getCartLength,\"changeSelectAll\":_vm.changeSelectAll}}),_c('van-submit-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEdit),expression:\"!isEdit\"}],staticClass:\"bar submits\",attrs:{\"price\":_vm.getFinallPrices,\"button-text\":\"结算\"},on:{\"submit\":_vm.onSubmitOrder}},[_c('van-checkbox',{attrs:{\"checked-color\":\"var(--tip-color2)\"},on:{\"click\":_vm.onChangeSelectAll},model:{value:(_vm.selectAll),callback:function ($$v) {_vm.selectAll=$$v},expression:\"selectAll\"}},[_vm._v(\"全选\")])],1),_c('van-submit-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit),expression:\"isEdit\"}],staticClass:\"bar deletes\",attrs:{\"button-text\":\"删除\",\"button-color\":\"var(--tip-color2)\"},on:{\"submit\":_vm.deleteShopCart}},[_c('van-checkbox',{staticStyle:{\"margin-right\":\"auto\"},attrs:{\"checked-color\":\"var(--tip-color2)\"},on:{\"click\":_vm.onChangeSelectAll},model:{value:(_vm.selectAll),callback:function ($$v) {_vm.selectAll=$$v},expression:\"selectAll\"}},[_vm._v(\"全选\")])],1)],1):_vm._e(),(!_vm.$store.state.isLoginState)?_c('div',{staticClass:\"toLogin flex-center-center flex-col\"},[_c('button',{staticClass:\"v-btn v-click animate__tada animate__tada\",staticStyle:{\"width\":\"auto\"},on:{\"click\":_vm.toLogin}},[_vm._v(\" 登录 \")]),_c('div',{staticClass:\"title\"},[_vm._v(\"您还未登录 ~\")])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-pull-refresh',{staticStyle:{\"min-height\":\"90vh\"},attrs:{\"head-height\":60},on:{\"refresh\":_vm.onReflesh},model:{value:(_vm.isRefresh),callback:function ($$v) {_vm.isRefresh=$$v},expression:\"isRefresh\"}},[_c('div',{staticClass:\"cart-list\"},[(!_vm.isEmpty)?_c('van-list',{staticClass:\"list\",attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.getAllShopCartList},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('van-checkbox-group',{on:{\"change\":_vm.changeSelectArr},model:{value:(_vm.selectList),callback:function ($$v) {_vm.selectList=$$v},expression:\"selectList\"}},[_c('transition-group',{attrs:{\"name\":\"sliceInZoomOut\",\"tag\":\"div\"}},_vm._l((_vm.cartList),function(item,i){return _c('cart-card',_vm._b({key:item.id,attrs:{\"showSku\":_vm.showSku,\"item\":item,\"index\":i},on:{\"onSelectProps\":function($event){return _vm.onSelectProps(item?.goodsId, item?.id)},\"deleteCartByOne\":_vm.deleteCartByOne},scopedSlots:_vm._u([{key:\"checkbox\",fn:function(){return [_c('van-checkbox',{attrs:{\"icon-size\":\"0.5rem\",\"name\":i,\"checked-color\":\"var(--tip-color2)\"}})]},proxy:true}],null,true)},'cart-card',_vm.$attrs,false))}),1)],1)],1):_vm._e(),_c('goods-sku',{attrs:{\"GOOD_ID\":_vm.GOOD_ID,\"cartId\":_vm.shopcartId},on:{\"updataShopcart\":_vm.updataShopcart},model:{value:(_vm.showSku),callback:function ($$v) {_vm.showSku=$$v},expression:\"showSku\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"v-card item\"},[_vm._t(\"checkbox\"),_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.getImgSrc(_vm.item?.icon)},on:{\"click\":function($event){return _vm.toGoodsView(_vm.item.goodsId)}}}),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.item?.name))]),_c('p',{staticClass:\"props\",on:{\"click\":_vm.onselectProps}},[_c('span',[_vm._v(_vm._s(_vm.item?.props))]),_c('van-icon',{staticStyle:{\"display\":\"inline-block\",\"line-height\":\"0.4rem\"},attrs:{\"name\":_vm.$attrs.showSku && _vm.isItem ? 'arrow-down' : 'arrow'}})],1),_c('div',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(_vm.item?.unitPrice))])]),(!_vm.$attrs.isEdit)?_c('div',{staticClass:\"animate__animated animate__fadeIn counts\",on:{\"mouseenter\":function($event){_vm.showCount = true},\"mouseleave\":function($event){_vm.showCount = false}}},[_c('van-stepper',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showCount),expression:\"showCount\"}],attrs:{\"disabled\":Number(_vm.item.stock) <= 0,\"default-value\":_vm.item.quantity,\"value\":_vm.item.quantity,\"async-change\":\"\",\"name\":\"nums\",\"integer\":\"\",\"min\":\"1\",\"max\":\"99\",\"input-width\":\"0.6rem\",\"button-size\":\"0.6rem\"},on:{\"focus\":function($event){_vm.showCount = true},\"blur\":function($event){_vm.showCount = false},\"change\":_vm.onSubChange}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showCount),expression:\"!showCount\"}],staticClass:\"count-box\"},[_vm._v(\"x\"+_vm._s(_vm.item?.quantity))])],1):_c('van-icon',{staticClass:\"icons v-click\",attrs:{\"name\":\"minus\",\"size\":\"0.4rem\",\"color\":\"var(--theme-color)\"},on:{\"click\":_vm.deleteShopCartById}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\nimport qs from \"qs\";\r\n/**\r\n * 根据购物车id获取购物车\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getAllShopCart(token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/shoppingCart/query`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n/**\r\n * 根据购物车id获取购物车\r\n * @param {*} id\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getShopCartById(id, token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/shoppingCart/query/${id}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 增加购物车\r\n * @param {number} gid\r\n * @param {number} quantity\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function addShopCart(gid, quantity, token) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/shoppingCart/save\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: {\r\n      gid,\r\n      quantity,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 修改购物车（数量、属性）\r\n * @param {number} id 购物车id\r\n * @param {number} goodsItemId 商品属性id\r\n * @param {number} quantity\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function updateShopCartProps(id, goodsItemId, quantity, token) {\r\n  return request({\r\n    method: \"put\",\r\n    url: \"/shoppingCart/update\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: { id, goodsItemId, quantity },\r\n  });\r\n}\r\n\r\n/**\r\n * 删除单一购物车\r\n * @param {number} id 购物车id\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function deleteOneShopCart(id, token) {\r\n  return request({\r\n    method: \"delete\",\r\n    url: `/shoppingCart/delete/${id}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 批量删除购物车\r\n * @param {array} ids array\r\n * @param {number} quantity\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function deleteShopcartByIds(ids, token) {\r\n  return request({\r\n    method: \"delete\",\r\n    url: `/shoppingCart/deletes`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    params: { ids },\r\n    paramsSerializer: {\r\n      serialize(params) {\r\n        return qs.stringify(params, { indices: false });\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 清空购物车\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function clearAllShopCart(token) {\r\n  return request({\r\n    method: \"delete\",\r\n    url: \"/shoppingCart/empty\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n","<template >\r\n  <div class=\"v-card item\">\r\n    <!-- 选中插槽 -->\r\n    <slot name=\"checkbox\"></slot>\r\n    <!-- 图片 -->\r\n    <img\r\n      :src=\"getImgSrc(item?.icon)\"\r\n      class=\"img\"\r\n      @click=\"toGoodsView(item.goodsId)\"\r\n    />\r\n    <div class=\"content\">\r\n      <div class=\"title\">{{ item?.name }}</div>\r\n      <!-- 规格展示 -->\r\n      <p class=\"props\" @click=\"onselectProps\">\r\n        <span>{{ item?.props }}</span>\r\n        <van-icon\r\n          style=\"display: inline-block; line-height: 0.4rem\"\r\n          :name=\"$attrs.showSku && isItem ? 'arrow-down' : 'arrow'\"\r\n        />\r\n      </p>\r\n      <div class=\"price\">￥{{ item?.unitPrice }}</div>\r\n    </div>\r\n    <!-- 件数 -->\r\n    <div\r\n      class=\"animate__animated animate__fadeIn counts\"\r\n      v-if=\"!$attrs.isEdit\"\r\n      @mouseenter=\"showCount = true\"\r\n      @mouseleave=\"showCount = false\"\r\n    >\r\n      <van-stepper\r\n        @focus=\"showCount = true\"\r\n        @blur=\"showCount = false\"\r\n        v-show=\"showCount\"\r\n        :disabled=\"Number(item.stock) <= 0\"\r\n        :default-value=\"item.quantity\"\r\n        :value=\"item.quantity\"\r\n        async-change\r\n        @change=\"onSubChange\"\r\n        name=\"nums\"\r\n        integer\r\n        min=\"1\"\r\n        max=\"99\"\r\n        input-width=\"0.6rem\"\r\n        button-size=\"0.6rem\"\r\n      />\r\n      <div class=\"count-box\" v-show=\"!showCount\">x{{ item?.quantity }}</div>\r\n    </div>\r\n    <van-icon\r\n      class=\"icons v-click\"\r\n      v-else\r\n      name=\"minus\"\r\n      size=\"0.4rem\"\r\n      color=\"var(--theme-color)\"\r\n      @click=\"deleteShopCartById\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport { updateShopCartProps } from \"@/api/shopcart/shopcart\";\r\nexport default {\r\n  name: \"CartCard\",\r\n  props: [\"item\", \"index\"],\r\n  data() {\r\n    return {\r\n      num: 1,\r\n      showCount: false,\r\n\r\n      isItem: false,\r\n    };\r\n  },\r\n  methods: {\r\n    // 提交\r\n    async onSubChange(newVal) {\r\n      this.$toast.loading({ forbidClick: true, duration: 0 });\r\n      // 修改数量\r\n      const res = await updateShopCartProps(\r\n        this.item?.id,\r\n        this.item?.goodsItemId,\r\n        newVal,\r\n        this.$store.getters.token\r\n      );\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.$set(this.item, \"quantity\", newVal);\r\n        this.$toast.clear();\r\n      } else {\r\n        this.$toast.fail(\"修改失败！\");\r\n      }\r\n    },\r\n\r\n    // 删除该商品购物车\r\n    deleteShopCartById() {\r\n      this.$emit(\"deleteCartByOne\", this.item.id, this.index);\r\n    },\r\n\r\n    // 打开属性弹窗\r\n    onselectProps() {\r\n      this.isItem = true;\r\n      this.$emit(\"onSelectProps\", this.item?.goodsId, this.item?.id);\r\n    },\r\n\r\n    // 跳转详情页\r\n    toGoodsView(id) {\r\n      this.$router.push({\r\n        name: \"detail\",\r\n        params: { animate: \"forward\" },\r\n        query: { id },\r\n      });\r\n    },\r\n\r\n    // 获取图片地址\r\n    getImgSrc(url) {\r\n      return getResourImageByName(url);\r\n    },\r\n  },\r\n  watch: {\r\n    // 修改数量\r\n    num(newVal) {\r\n      this.$set(this.item, \"quantity\", newVal);\r\n    },\r\n\r\n    \"$attrs.showSku\"(val) {\r\n      if (!val) {\r\n        this.isItem = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n  <style scoped>\r\n.item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.img {\r\n  width: 2rem;\r\n  height: 2rem;\r\n  object-fit: cover;\r\n  box-shadow: var(--shadow-color3);\r\n  border-radius: 8px;\r\n  margin: 0 0.2rem;\r\n}\r\n/* 内容 */\r\n.content {\r\n  flex: 1;\r\n}\r\n.content .props {\r\n  cursor: pointer;\r\n  display: inline-flex;\r\n  padding-right: 0.1rem;\r\n  max-width: 3.6rem;\r\n  color: var(--text-color3);\r\n  background-color: var(--bg-color5);\r\n  border-radius: 0.4em;\r\n  padding: 0.08rem 0.1rem;\r\n  font-size: 0.25rem;\r\n  text-overflow: clip;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n}\r\n.content .price {\r\n  color: var(--tip-color2);\r\n  font-size: 0.45rem;\r\n}\r\n.content .price::first-letter {\r\n  font-size: 0.3rem;\r\n}\r\n/* 右侧图标 */\r\n.counts {\r\n  height: 100%;\r\n  margin-top: auto;\r\n}\r\n.icons {\r\n  background-color: var(--tip-color2);\r\n  border-radius: 50%;\r\n  width: 0.6rem;\r\n  height: 0.6rem;\r\n  padding: 0.1rem;\r\n  animation: 0.5s fadeInRight;\r\n  cursor: pointer;\r\n}\r\n.count-box {\r\n  border: 1px solid var(--border-color);\r\n  padding: 0.06rem 0.14rem;\r\n  font-size: 0.36rem;\r\n  letter-spacing: 0.02rem;\r\n  /* background-color: var(--bg-color5); */\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartCard.vue?vue&type=template&id=17518170&scoped=true&\"\nimport script from \"./CartCard.vue?vue&type=script&lang=js&\"\nexport * from \"./CartCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartCard.vue?vue&type=style&index=0&id=17518170&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17518170\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-sku',{ref:\"skucart\",attrs:{\"sku\":_vm.initSku,\"goods\":{ picture: _vm.getImgSrc(_vm.goodProps?.defaultOption?.icon) },\"goods-id\":_vm.GOOD_ID,\"initial-sku\":_vm.skuDefault,\"quota\":99,\"stock-threshold\":10,\"show-add-cart-btn\":false,\"buy-text\":\"确认修改\",\"stepper-title\":\"购买数量\"},on:{\"sku-selected\":_vm.selectedSku,\"buy-clicked\":_vm.changeShorCartProps},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\n\r\n/**\r\n *  获取商品粗略规格\r\n * @param {string} gid\r\n * @returns\r\n */\r\nexport function getGoodPropsById(gid) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/goodsItem/query/${gid}`,\r\n  });\r\n}\r\n/**\r\n * 获取商品详细规格\r\n * @param {*} gid\r\n * @param {*} color\r\n * @param {*} combo\r\n * @param {*} size\r\n * @param {*} edition\r\n * @returns\r\n */\r\nexport function getGoodProps(gid, color, combo, size, edition) {\r\n  return request({\r\n    method: \"post\",\r\n    url: `/goodsItem/query`,\r\n    data: { gid, color, combo, size, edition },\r\n  });\r\n}\r\n","<template >\r\n  <!-- 规格详情选择 -->\r\n  <van-sku\r\n    v-model=\"show\"\r\n    ref=\"skucart\"\r\n    :sku=\"initSku\"\r\n    :goods=\"{ picture: getImgSrc(goodProps?.defaultOption?.icon) }\"\r\n    :goods-id=\"GOOD_ID\"\r\n    :initial-sku=\"skuDefault\"\r\n    :quota=\"99\"\r\n    :stock-threshold=\"10\"\r\n    :show-add-cart-btn=\"false\"\r\n    buy-text=\"确认修改\"\r\n    stepper-title=\"购买数量\"\r\n    @sku-selected=\"selectedSku\"\r\n    @buy-clicked=\"changeShorCartProps\"\r\n  />\r\n</template>\r\n<script>\r\nimport { getGoodProps, getGoodPropsById } from \"@/api/good/props\";\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport { mapState } from \"vuex\";\r\nimport { updateShopCartProps } from \"@/api/shopcart/shopcart\";\r\nexport default {\r\n  props: {\r\n    value: { required: true },\r\n    GOOD_ID: { required: true },\r\n    cartId: { required: false },\r\n    nums: { required: false },\r\n  },\r\n  model: {\r\n    prop: \"value\",\r\n    event: \"input\",\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n\r\n      goodProps: {},\r\n\r\n      // 内属性\r\n      allStock: \"\", // 总库存\r\n      selectProps: {}, // 选择的属性\r\n\r\n      combos: [],\r\n      sizes: [],\r\n      colors: [],\r\n      editions: [],\r\n      rows: [],\r\n\r\n      initSku: {},\r\n      skuDefault: {}, // 默认选项\r\n      selectPropsName: \"\", // 最终选项名称\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取商品规格\r\n    async getGoodProps() {\r\n      this.initSku = {};\r\n      this.combos = [];\r\n      this.sizes = [];\r\n      this.colors = [];\r\n      this.editions = [];\r\n      this.rows = [];\r\n      this.skuDefault = {}; // 默认选项\r\n      this.selectPropsName = \"\"; // 最终选项名称\r\n      // 获取路由的信息\r\n      if (this.GOOD_ID === \"\") return (this.isError = true);\r\n      const res = await getGoodPropsById(this.GOOD_ID);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.goodProps = res.data.data;\r\n        // 初始化属性组合\r\n        this.initProps();\r\n      } else {\r\n        this.isError = true;\r\n      }\r\n    },\r\n\r\n    // 属性变化触发\r\n    selectedSku(info) {\r\n      // console.log(info);\r\n      if (!info.selectedSkuComb) return;\r\n      this.selectPropsName = info.selectedSkuComb.props;\r\n    },\r\n\r\n    // 初始化属性组合\r\n    initProps() {\r\n      const { defaultOption, combo, colorAndIcon, size, edition } =\r\n        this.goodProps;\r\n      const price = Number(defaultOption.price).toFixed(2);\r\n      const props = {\r\n        tree: [], // 类组row\r\n        list: [], // 全部组合col\r\n\r\n        price, // 默认价格（单位元）\r\n        stock_num: 0,\r\n        listIndex: 0, // 库存不为0的坐标\r\n        hide_stock: false, // 是否隐藏剩余库存\r\n      };\r\n\r\n      // 套装\r\n      let row = 0;\r\n      if (combo.length > 0) {\r\n        row++;\r\n        let row1 = {\r\n          k: \"套装\",\r\n          k_s: \"combo\",\r\n          v: [],\r\n          largeImageMode: false, //  是否展示大图模式\r\n        };\r\n        // 套装子属性\r\n        combo.forEach((p, i) => {\r\n          row1.v.push({\r\n            id: i,\r\n            name: p.combo,\r\n          });\r\n          this.combos.push(p.combo);\r\n        });\r\n        this.rows.push(\"combo\");\r\n        props.tree.push(row1);\r\n      }\r\n\r\n      // 颜色\r\n      if (colorAndIcon.length > 0) {\r\n        row++;\r\n        let row2 = {\r\n          k: \"颜色\", // 属性类别\r\n          k_s: \"color\",\r\n          v: [], // 子属下\r\n        };\r\n        colorAndIcon.forEach((p, i) => {\r\n          row2.v.push({\r\n            id: i,\r\n            name: p.color,\r\n            imgUrl: p.icon ? this.getImgSrc(p.icon) : \"\",\r\n            previewImgUrl: p.icon ? this.getImgSrc(p.icon) : \"\",\r\n          });\r\n          this.colors.push(p.color);\r\n        });\r\n        this.rows.push(\"color\");\r\n        props.tree.push(row2);\r\n      }\r\n\r\n      // 规格\r\n      if (size.length > 0) {\r\n        row++;\r\n        let row3 = {\r\n          k: \"规格\", // 属性类别\r\n          k_s: \"size\",\r\n          v: [], // 子属性\r\n        };\r\n        size.forEach((p, i) => {\r\n          row3.v.push({\r\n            id: i,\r\n            isSellOut: p.isSellOut !== \"\",\r\n            // name: p.size + ` ${p.isSellOut || \"\"}`,\r\n            name: p.size,\r\n          });\r\n          this.sizes.push(p.size);\r\n        });\r\n        this.rows.push(\"size\");\r\n        props.tree.push(row3);\r\n      }\r\n\r\n      // 版本\r\n      if (edition.length > 0) {\r\n        row++;\r\n        row;\r\n        let row4 = {\r\n          k: \"版本\", // 属性类别\r\n          // k_s: `row${row}`,\r\n          k_s: \"edition\",\r\n          v: [], // 子属下\r\n        };\r\n        edition.forEach((p, i) => {\r\n          row4.v.push({\r\n            id: i,\r\n            name: p.edition,\r\n            imgUrl: this.getImgSrc(p.icon),\r\n            previewImgUrl: this.getImgSrc(p.icon),\r\n          });\r\n          this.editions.push(p.edition);\r\n        });\r\n        this.rows.push(\"edition\");\r\n        props.tree.push(row4);\r\n      }\r\n      // 内部属性\r\n      const GOOD_ID = this.goodProps.defaultOption.gid;\r\n      const rows = this.rows;\r\n      const goodsPropsList = {\r\n        color: this.colors,\r\n        size: this.sizes,\r\n        combo: this.combos,\r\n        edition: this.editions,\r\n      };\r\n      props.list = getList(props.tree);\r\n\r\n      // 主函数\r\n      function getList(tree) {\r\n        let res = [];\r\n        let group = 1; // 组数\r\n        for (let i = 0; i < tree.length; i++) {\r\n          group = tree[i].v ? group * tree[i].v.length : group;\r\n        }\r\n        const item = {}; // 产品规格\r\n        let indexCol = 0;\r\n        let allStock = 0;\r\n        callBack(tree, item, indexCol, allStock, rows);\r\n\r\n        // 递归\r\n        async function callBack(tree, item, indexCol, allStock, rows) {\r\n          for (let i = 0; i < tree[indexCol].v.length; i++) {\r\n            // row-value\r\n            item = JSON.parse(JSON.stringify(item));\r\n            item[rows[indexCol]] = i;\r\n            if (res.find((p) => item.id === p.id)) continue;\r\n            // 下一行 (递归次数)\r\n            if (indexCol + 1 === tree.length) {\r\n              // 初始化obj\r\n              const obj = {};\r\n              for (let k = 0; k < rows.length; k++) {\r\n                obj[rows[k]] = \"\";\r\n              }\r\n              for (const key in obj) {\r\n                obj[key] = goodsPropsList[key][item[key]];\r\n                item.props = (item?.props || \"\") + `${obj[key]} `;\r\n              }\r\n\r\n              // 网络请求添加不同组合的id\r\n              const { color, combo, size, edition } = obj;\r\n              const http = await getGoodProps(\r\n                GOOD_ID,\r\n                color,\r\n                combo,\r\n                size,\r\n                edition\r\n              );\r\n              if (http.status === 200 && http.data.data) {\r\n                const p = http.data.data.defaultOption;\r\n                item.id = String(p.id);\r\n                item.price = p.price * 100;\r\n                item.stock_num = +p.stock;\r\n                item.gid = String(p.gid);\r\n                item.icon = p.icon;\r\n                props.stock_num = props.stock_num + item.stock_num;\r\n                props.listIndex = res.push(JSON.parse(JSON.stringify(item)));\r\n                item.id = \"\";\r\n                item.props = \"\";\r\n              }\r\n              continue; // 继续\r\n            }\r\n            // 下一行\r\n            indexCol++;\r\n            callBack(tree, item, indexCol, allStock, rows); // 最后一排\r\n          }\r\n        }\r\n        return res;\r\n      }\r\n      this.initSku = props;\r\n      this.skuDefault = { ...props.list[0], selectedNum: 1 };\r\n      // console.log(props.list);\r\n    },\r\n\r\n    // 修改规格\r\n    async changeShorCartProps(info) {\r\n      this.$toast.loading({ forbidClick: true, duration: 0 });\r\n      this.show = false;\r\n      // 修改属性\r\n      const res = await updateShopCartProps(\r\n        this.cartId,\r\n        info.selectedSkuComb?.id,\r\n        info?.selectedNum,\r\n        this.$store.getters.token\r\n      );\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        // 更新单项\r\n        this.$emit(\"updataShopcart\", this.cartId, {\r\n          nums: info?.selectedNum,\r\n          icon: info?.selectedSkuComb.icon,\r\n          props: info?.selectedSkuComb.props,\r\n        }); // 刷新\r\n        this.$toast.clear();\r\n        this.$toast.success(\"修改成功！\");\r\n      } else {\r\n        this.$toast.fail(\"修改失败！\");\r\n      }\r\n    },\r\n\r\n    // 获取图片\r\n    getImgSrc(url) {\r\n      return getResourImageByName(url);\r\n    },\r\n  },\r\n  computed: {\r\n    // 解构\r\n    ...mapState([\"token\", \"isLoginState\"]),\r\n\r\n    // 获取默认属性规格\r\n    getOption() {\r\n      if (this.goodProps?.defaultOption) {\r\n        const p = this.goodProps?.defaultOption;\r\n        return `${p?.color ?? \"\"}  ${p?.size ?? \"\"}  ${p?.combo ?? \"\"} `;\r\n      }\r\n      return \"\";\r\n    },\r\n  },\r\n  watch: {\r\n    // v-model\r\n    value(val) {\r\n      this.show = val;\r\n    },\r\n    show(val) {\r\n      this.$emit(\"input\", val);\r\n    },\r\n\r\n    // 更新规格\r\n    GOOD_ID: {\r\n      immediate: true,\r\n      handler() {\r\n        this.getGoodProps();\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsSku.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsSku.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsSku.vue?vue&type=template&id=6f9dcace&scoped=true&\"\nimport script from \"./GoodsSku.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsSku.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f9dcace\",\n  null\n  \n)\n\nexport default component.exports","<template >\r\n  <van-pull-refresh\r\n    style=\"min-height: 90vh\"\r\n    v-model=\"isRefresh\"\r\n    :head-height=\"60\"\r\n    @refresh=\"onReflesh\"\r\n  >\r\n    <div class=\"cart-list\">\r\n      <!-- 列表 -->\r\n      <van-list\r\n        class=\"list\"\r\n        v-if=\"!isEmpty\"\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"getAllShopCartList\"\r\n      >\r\n        <!-- 1) 多选组 -->\r\n        <van-checkbox-group v-model=\"selectList\" @change=\"changeSelectArr\">\r\n          <transition-group name=\"sliceInZoomOut\" tag=\"div\">\r\n            <!-- 购物车卡片 -->\r\n            <cart-card\r\n              v-bind=\"$attrs\"\r\n              v-for=\"(item, i) in cartList\"\r\n              :showSku=\"showSku\"\r\n              :key=\"item.id\"\r\n              :item=\"item\"\r\n              :index=\"i\"\r\n              @onSelectProps=\"onSelectProps(item?.goodsId, item?.id)\"\r\n              @deleteCartByOne=\"deleteCartByOne\"\r\n            >\r\n              <template #checkbox>\r\n                <!-- 2)插槽多选框 -->\r\n                <van-checkbox\r\n                  icon-size=\"0.5rem\"\r\n                  :name=\"i\"\r\n                  checked-color=\"var(--tip-color2)\"\r\n                />\r\n              </template>\r\n            </cart-card>\r\n          </transition-group>\r\n        </van-checkbox-group>\r\n      </van-list>\r\n      <!-- 属性弹窗 -->\r\n      <goods-sku\r\n        @updataShopcart=\"updataShopcart\"\r\n        :GOOD_ID=\"GOOD_ID\"\r\n        v-model=\"showSku\"\r\n        :cartId=\"shopcartId\"\r\n      />\r\n    </div>\r\n  </van-pull-refresh>\r\n</template>\r\n<script>\r\nimport CartCard from \"@/components/ShopCart/CartCard.vue\";\r\nimport { getAllShopCart, deleteOneShopCart } from \"@/api/shopcart/shopcart\";\r\nimport GoodsSku from \"@/components/GoodsSku.vue\";\r\nexport default {\r\n  components: { CartCard, GoodsSku },\r\n  name: \"CartList\",\r\n  data() {\r\n    return {\r\n      isRefresh: false, // 是否更新\r\n      loading: false,\r\n      finished: false,\r\n      isEmpty: false,\r\n      selectList: [], // 坐标\r\n      cartList: [], // 购物车列表\r\n\r\n      // 当前gid\r\n      GOOD_ID: \"\",\r\n\r\n      // 当前购物车id\r\n      shopcartId: \"\",\r\n\r\n      // 属性切换\r\n      showSku: false,\r\n    };\r\n  },\r\n  methods: {\r\n    // 1) 购物车 功能\r\n    // 获取全部购物车列表\r\n    async getAllShopCartList() {\r\n      this.loading = true;\r\n      const res = await getAllShopCart(this.$store.getters.token);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        const data = res.data.data;\r\n        if (data.length === 0) {\r\n          this.loading = false;\r\n          this.finished = true;\r\n          return;\r\n        }\r\n        let count = 0;\r\n        let timer = setInterval(() => {\r\n          const p = data[count];\r\n          p.props = `${p?.color || \"\"} ${p?.size || \"\"} ${p?.edition || \"\"} ${\r\n            p?.combo || \"\"\r\n          }`;\r\n          this.cartList.push(p);\r\n          count++;\r\n          if (count >= data?.length) {\r\n            this.loading = false;\r\n            this.finished = true;\r\n            clearInterval(timer);\r\n            timer = \"\";\r\n            this.$emit(\"getCartLength\", data);\r\n          }\r\n        }, 100);\r\n      } else if (res.status === 200 && !res.data.code === 20011) {\r\n        this.isEmpty = true;\r\n      } else {\r\n        this.isEmpty = true;\r\n      }\r\n    },\r\n    // 获取选中的项目\r\n    changeSelectArr(arr) {\r\n      this.$emit(\"changeSelectArr\", arr, this.cartList);\r\n    },\r\n\r\n    /**\r\n     * @刷新\r\n     */\r\n    onReflesh() {\r\n      this.cartList.splice(0);\r\n      this.isRefresh = true;\r\n      this.getAllShopCartList();\r\n      this.isRefresh = false;\r\n    },\r\n\r\n    /**\r\n     * @更新全部购物车\r\n     */\r\n    updataShopcart(cartId, info) {\r\n      const { props, nums, icon } = info;\r\n      this.cartList.forEach((p, i) => {\r\n        if (p.id === cartId) {\r\n          this.$set(this.cartList[i], \"props\", props);\r\n          this.$set(this.cartList[i], \"quantity\", nums);\r\n          this.$set(this.cartList[i], \"icon\", icon);\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * @删除单一购物车\r\n     */\r\n    async deleteCartByOne(id, i) {\r\n      this.$toast.loading({\r\n        message: \"删除中...\",\r\n        forbidClick: true,\r\n        duration: 0,\r\n      });\r\n      const res = await deleteOneShopCart(id, this.$store.getters.token);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.cartList.splice(i, 1);\r\n        this.$toast.clear();\r\n      } else {\r\n        this.$toast.fail(\"删除购物车失败！\");\r\n      }\r\n    },\r\n\r\n    // 2) 属性修改 功能\r\n    onSelectProps(GOOD_ID, shopcartId) {\r\n      this.showSku = true; // 展示属性卡片\r\n      this.GOOD_ID = GOOD_ID; // 商品id\r\n      this.shopcartId = shopcartId; // 购物车id\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    // 列表发生改变\r\n    cartList: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler(val) {\r\n        this.$emit(\"changeSelectArr\", this.selectList, val);\r\n        this.$emit(\"getCartLength\", this.cartList); // 传出\r\n      },\r\n    },\r\n    // 全选\r\n    selectList: {\r\n      deep: true,\r\n      handler() {\r\n        this.$emit(\r\n          \"changeSelectAll\",\r\n          this.selectList.length > 0 &&\r\n            this.selectList.length === this.cartList.length\r\n        );\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.cart-list {\r\n  margin-top: 1.4rem;\r\n  padding-top: 0.2rem;\r\n  padding-bottom: 3.4rem;\r\n  border-radius: 12px 12px 0 0;\r\n  background-color: var(--theme-color);\r\n  border-top: 1px solid var(--border-color);\r\n  /* box-shadow: var(--shadow-color4); */\r\n}\r\n.item {\r\n  /* box-shadow: var(--shadow-color3); */\r\n  box-shadow: none;\r\n  background-color: var(--theme-color);\r\n  margin: 0.3rem 0.1rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartList.vue?vue&type=template&id=f8c1e6fc&scoped=true&\"\nimport script from \"./CartList.vue?vue&type=script&lang=js&\"\nexport * from \"./CartList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartList.vue?vue&type=style&index=0&id=f8c1e6fc&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8c1e6fc\",\n  null\n  \n)\n\nexport default component.exports","<template >\r\n  <div class=\"contian\">\r\n    <div class=\"shop-view\" v-if=\"$store.state.isLoginState\">\r\n      <!-- 顶部 -->\r\n      <div class=\"top\">\r\n        <span class=\"title\">\r\n          <span class=\"big\">购物车</span>\r\n          <small> ({{ getCartCount }}件商品)</small>\r\n        </span>\r\n        <!-- 清空 -->\r\n        <span\r\n          class=\"edit\"\r\n          style=\"\r\n            margin-left: auto;\r\n            padding-right: 0.2rem;\r\n            color: var(--text-color3);\r\n          \"\r\n          @click=\"deleteAllCart\"\r\n        >\r\n          清空\r\n        </span>\r\n        <span\r\n          class=\"edit\"\r\n          :style=\"isEdit ? 'color:var(--tip-color2)' : ''\"\r\n          @click=\"isEdit = !isEdit\"\r\n          >{{ isEdit ? \"退出管理\" : \"管理\" }}</span\r\n        >\r\n      </div>\r\n      <!-- 列表 -->\r\n      <cart-list\r\n        ref=\"cardList\"\r\n        :selectAll=\"selectAll\"\r\n        :isEdit=\"isEdit\"\r\n        @changeSelectArr=\"changeSelectArr\"\r\n        @getCartLength=\"getCartLength\"\r\n        @changeSelectAll=\"changeSelectAll\"\r\n      />\r\n      <!-- 1）批量结算 -->\r\n      <van-submit-bar\r\n        v-show=\"!isEdit\"\r\n        class=\"bar submits\"\r\n        :price=\"getFinallPrices\"\r\n        button-text=\"结算\"\r\n        @submit=\"onSubmitOrder\"\r\n      >\r\n        <van-checkbox\r\n          v-model=\"selectAll\"\r\n          @click=\"onChangeSelectAll\"\r\n          checked-color=\"var(--tip-color2)\"\r\n          >全选</van-checkbox\r\n        >\r\n      </van-submit-bar>\r\n      <!-- 2）批量删除 -->\r\n      <van-submit-bar\r\n        v-show=\"isEdit\"\r\n        class=\"bar deletes\"\r\n        button-text=\"删除\"\r\n        button-color=\"var(--tip-color2)\"\r\n        @submit=\"deleteShopCart\"\r\n      >\r\n        <van-checkbox\r\n          v-model=\"selectAll\"\r\n          checked-color=\"var(--tip-color2)\"\r\n          style=\"margin-right: auto\"\r\n          @click=\"onChangeSelectAll\"\r\n          >全选</van-checkbox\r\n        >\r\n      </van-submit-bar>\r\n    </div>\r\n    <!-- 未登录 -->\r\n    <div\r\n      class=\"toLogin flex-center-center flex-col\"\r\n      v-if=\"!$store.state.isLoginState\"\r\n    >\r\n      <button\r\n        class=\"v-btn v-click animate__tada animate__tada\"\r\n        style=\"width: auto\"\r\n        @click=\"toLogin\"\r\n      >\r\n        登录\r\n      </button>\r\n      <div class=\"title\">您还未登录 ~</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CartList from \"@/components/ShopCart/CartList.vue\";\r\nimport { clearAllShopCart, deleteShopcartByIds } from \"@/api/shopcart/shopcart\";\r\nexport default {\r\n  components: { CartList },\r\n  name: \"ShopcarView\",\r\n  data() {\r\n    return {\r\n      selectList: [], // 选中的坐标\r\n      cartList: [], // 用户的购物车列表\r\n      isEdit: false, // 编辑状态\r\n      selectAll: false, // 选中状态\r\n      finallPrice: 0,\r\n      counts: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    getFinallPrices() {\r\n      return this.finallPrice * 100;\r\n    },\r\n    getCartCount() {\r\n      return this.cartList.length;\r\n    },\r\n  },\r\n  methods: {\r\n    // 获取长度\r\n    getCartLength(cartList) {\r\n      this.cartList = cartList;\r\n    },\r\n    // 更改全选\r\n    changeSelectAll(val) {\r\n      this.selectAll = val;\r\n    },\r\n    // 外改内 全选\r\n    onChangeSelectAll() {\r\n      this.$refs.cardList.selectList.splice(0);\r\n      if (this.selectAll) {\r\n        this.cartList.forEach((p, i) => {\r\n          this.$refs.cardList.selectList.push(i);\r\n        });\r\n      } else {\r\n        this.$refs.cardList.selectList.splice(0);\r\n      }\r\n    },\r\n    // 获取选中的组合\r\n    changeSelectArr(selectList) {\r\n      this.finallPrice = 0; // 清空\r\n      this.selectList = selectList;\r\n      // 计算价格\r\n      this.selectList.forEach((i) => {\r\n        this.finallPrice =\r\n          this.finallPrice +\r\n          (this.cartList[i].unitPrice + this.cartList[i].postage) *\r\n            this.cartList[i].quantity;\r\n      });\r\n    },\r\n\r\n    // 提交选择的商品\r\n    async onSubmitOrder() {\r\n      if (this.selectList.length <= 0) return this.$toast(\" 请选择商品！\");\r\n      // 提交的商品列表\r\n      const goodsList = [];\r\n      this.selectList.forEach((i) => {\r\n        goodsList.push({\r\n          ...this.cartList[i],\r\n          id: this.cartList[i].goodsItemId, // 选中商品id\r\n          gid: this.cartList[i].goodsId,\r\n          images: this.cartList[i].icon,\r\n          price: this.cartList[i].unitPrice,\r\n        });\r\n      });\r\n      this.$router.push({\r\n        name: \"checkorder\",\r\n        params: {\r\n          animate: \"forward\",\r\n          toBack: \"true\",\r\n        },\r\n        query: {\r\n          // 传参\r\n          info: {\r\n            price: this.finallPrice, // 最终价格\r\n          },\r\n          goodsList,\r\n        },\r\n      });\r\n    },\r\n\r\n    // 批量删除的商品\r\n    async deleteShopCart() {\r\n      if (this.selectList.length <= 0) return this.$toast(\" 请选择商品！\");\r\n      // id集合\r\n      let ids = [];\r\n      this.selectList.forEach((p) => {\r\n        ids.push(this.cartList[p].id);\r\n      });\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"是否删除选中 ?\",\r\n          beforeClose: async (action, done) => {\r\n            if (action === \"confirm\") {\r\n              const res = await deleteShopcartByIds(\r\n                ids,\r\n                this.$store.getters.token\r\n              );\r\n              // console.log(res.data);\r\n              if (res.status === 200 && res.data.code === 20011) {\r\n                this.selectList.forEach((p) => {\r\n                  this.$children[0].cartList.splice(p, 1);\r\n                });\r\n                this.$children[0].selectList.splice(0);\r\n                done();\r\n                this.cartList = this.$toast({\r\n                  type: \"success\",\r\n                  message: \"删除成功!\",\r\n                });\r\n              } else {\r\n                this.$toast({ type: \"fail\", message: \"删除失败!\" });\r\n              }\r\n            } else {\r\n              done();\r\n            }\r\n          },\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    // 批量删除的商品\r\n    async deleteAllCart() {\r\n      // console.log(this.$children);\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"是否清空购物车 ?\",\r\n          beforeClose: async (action, done) => {\r\n            if (action === \"confirm\") {\r\n              const res = await clearAllShopCart(this.$store.getters.token);\r\n              // console.log(res.data);\r\n              if (res.status === 200 && res.data.code === 20011) {\r\n                this.$children[0]?.cartList?.splice(0);\r\n                this.$children[0]?.selectList?.splice(0);\r\n                done();\r\n                this.cartList = this.$toast({\r\n                  type: \"success\",\r\n                  message: \"清除成功!\",\r\n                });\r\n              } else {\r\n                this.$toast({ type: \"fail\", message: \"删除失败!\" });\r\n              }\r\n            } else {\r\n              done();\r\n            }\r\n          },\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    toLogin() {\r\n      this.$router.push({\r\n        name: \"login\",\r\n        params: {\r\n          animate: \"forward\",\r\n          toBack: \"true\",\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n  <style scoped>\r\n/* 登录 */\r\n.toLogin {\r\n  width: 100%;\r\n  height: 90vh;\r\n}\r\n.toLogin .title {\r\n  padding: 0.2rem;\r\n}\r\n/* 主内容 */\r\n.shop-view {\r\n  width: 100%;\r\n  min-height: 100vh;\r\n}\r\n.bar {\r\n  position: fixed;\r\n  bottom: 1.6rem;\r\n  box-shadow: var(--shadow-color3);\r\n}\r\n/* 顶部 */\r\n.top {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 99;\r\n  padding: 0.3rem;\r\n  background-color: transparent;\r\n  backdrop-filter: blur(30px);\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  user-select: none;\r\n}\r\n.top .title .big {\r\n  cursor: pointer;\r\n  font-size: 0.5rem;\r\n  font-weight: 600;\r\n}\r\n.top .edit {\r\n  font-size: 0.35rem;\r\n  cursor: pointer;\r\n}\r\n/* 动画 */\r\n.submits {\r\n  animation: 0.5s fadeInUp;\r\n}\r\n.deletes {\r\n  animation: 0.5s fadeInUp;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShopcartView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShopcartView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShopcartView.vue?vue&type=template&id=499611d8&scoped=true&\"\nimport script from \"./ShopcartView.vue?vue&type=script&lang=js&\"\nexport * from \"./ShopcartView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShopcartView.vue?vue&type=style&index=0&id=499611d8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"499611d8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"category-view\"},[_c('div',{staticClass:\"content\"},[_c('van-sidebar',{model:{value:(_vm.activeKey),callback:function ($$v) {_vm.activeKey=$$v},expression:\"activeKey\"}},_vm._l((_vm.firstSortList),function(p){return _c('van-sidebar-item',{key:p.id,staticClass:\"left-nav\",attrs:{\"title\":p.name}})}),1),_c('div',{staticClass:\"right\"},_vm._l((_vm.secondSortList),function(p,i){return _c('div',{key:i,staticClass:\"item v-click\",on:{\"click\":function($event){return _vm.toSortView(p.id)}}},[_c('img',{attrs:{\"src\":_vm.getImgSrc(p.icon)}}),_c('span',{staticClass:\"tip\"},[_vm._v(_vm._s(p.name))])])}),0)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"category-view\">\r\n    <div class=\"content\">\r\n      <van-sidebar v-model=\"activeKey\">\r\n        <van-sidebar-item\r\n          class=\"left-nav\"\r\n          v-for=\"p in firstSortList\"\r\n          :key=\"p.id\"\r\n          :title=\"p.name\"\r\n        />\r\n      </van-sidebar>\r\n      <div class=\"right\">\r\n        <div\r\n          class=\"item v-click\"\r\n          @click=\"toSortView(p.id)\"\r\n          v-for=\"(p, i) in secondSortList\"\r\n          :key=\"i\"\r\n        >\r\n          <img :src=\"getImgSrc(p.icon)\" />\r\n          <span class=\"tip\">{{ p.name }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getFirstSortList, getSecondSortList } from \"@/api/good/good\";\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport { Toast } from \"vant\";\r\nexport default {\r\n  name: \"CategoryView\",\r\n  data() {\r\n    return {\r\n      activeKey: -1,\r\n      firstSortList: [], // 导航栏信息\r\n      secondSortList: [],\r\n    };\r\n  },\r\n\r\n  created() {\r\n    // 获取所有的一级分类\r\n    getFirstSortList()\r\n      .then((res) => {\r\n        if (res.data.code === 20011) {\r\n          // 同步操作\r\n          for (let p of res.data.data) {\r\n            this.firstSortList.push(p);\r\n          }\r\n\r\n          if (this.$route.query.id >= 0 && this.$route.name == \"category\") {\r\n            // 获取首页分类的下标\r\n            this.activeKey = this.$route.query.id;\r\n          } else {\r\n            // 初始化\r\n            this.activeKey = 0;\r\n          }\r\n        }\r\n      })\r\n      .catch(() => {\r\n        Toast({ message: \"网络错误，请稍后再试！\" });\r\n      });\r\n  },\r\n  methods: {\r\n    // 获取对应的二级分类\r\n    getSecondList(id) {\r\n      this.secondSortList.splice(0);\r\n      getSecondSortList(id)\r\n        .then((res) => {\r\n          if (res.data.code === 20011) {\r\n            res.data.data.forEach((p) => {\r\n              this.secondSortList.push(p);\r\n            });\r\n          }\r\n        })\r\n        .catch(() => {\r\n          Toast({ message: \"网络错误，请稍后再试！\" });\r\n        });\r\n    },\r\n\r\n    // 获取图片地址\r\n    getImgSrc(icon) {\r\n      return getResourImageByName(icon);\r\n    },\r\n\r\n    // 去到搜索分类页面\r\n    toSortView(cid) {\r\n      this.$router.push({\r\n        name: \"search\",\r\n        params: {\r\n          animate: \"forward\",\r\n        },\r\n        query: {\r\n          cid,\r\n        },\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    activeKey(newVal, oldVal) {\r\n      // 加载二级菜单\r\n      if (newVal !== oldVal) {\r\n        this.getSecondList(this.firstSortList[newVal].id);\r\n      }\r\n    },\r\n    $route: {\r\n      handler(to) {\r\n        if (to.query.id >= 0 && to.name == \"category\") {\r\n          // 获取首页分类的下标\r\n          this.activeKey = to.query.id;\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.content {\r\n  position: relative;\r\n}\r\n.content .right {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  width: 80%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  padding: 0.2rem;\r\n}\r\n.right .item {\r\n  cursor: pointer;\r\n  width: 25%;\r\n  padding: 0.2rem;\r\n  text-align: center;\r\n  font-size: 0.3rem;\r\n}\r\n.right .item img {\r\n  box-sizing: border-box;\r\n  display: block;\r\n  width: 1.6rem;\r\n  height: 1.6rem;\r\n  object-fit: contain;\r\n  border-radius: 10px;\r\n  box-shadow: var(--shadow-color3);\r\n  margin-bottom: 0.2rem;\r\n}\r\n\r\n.van-sidebar {\r\n  height: 100vh;\r\n  width: 20%;\r\n  background-color: #f7f8fa;\r\n}\r\n.van-sidebar-item {\r\n  font-size: 0.4rem;\r\n  width: 100%;\r\n  height: 1.35rem;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.van-sidebar-item::before {\r\n  background-color: var(--theme-color2);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CategoryView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CategoryView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryView.vue?vue&type=template&id=5fc7cd48&scoped=true&\"\nimport script from \"./CategoryView.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CategoryView.vue?vue&type=style&index=0&id=5fc7cd48&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fc7cd48\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('TopNav',{attrs:{\"title\":_vm.title},on:{\"click-left\":_vm.onClickLeft}}),_c('div',{staticClass:\"froms\"},[_c('van-form',{on:{\"submit\":_vm.toSubmit}},[(_vm.isUpdatePwd)?_c('van-field',{staticClass:\"v-input\",attrs:{\"name\":\"user\",\"type\":\"text\",\"left-icon\":\"contact\",\"placeholder\":\" 请填写用户名\",\"rules\":[{ required: true }]},model:{value:(_vm.user),callback:function ($$v) {_vm.user=$$v},expression:\"user\"}}):_vm._e(),_c('van-field',{staticClass:\"v-input\",attrs:{\"name\":\"username\",\"type\":_vm.isUserPwd ? 'text' : 'tel',\"left-icon\":_vm.isUserPwd ? 'contact' : 'phone',\"placeholder\":_vm.isUserPwd ? ' 请填写用户名' : ' 请填写手机号',\"rules\":[{ required: true }]},on:{\"blur\":_vm.phoneCheck},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),(_vm.isUserPwd)?_c('van-field',{staticClass:\"v-input\",attrs:{\"type\":\"password\",\"left-icon\":\"eye-o\",\"name\":\"password\",\"placeholder\":\" 请填写密码\",\"rules\":[{ required: true }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}):_vm._e(),(!_vm.isUserPwd)?_c('van-field',{staticClass:\"v-input\",attrs:{\"type\":\"number\",\"left-icon\":\"label-o\",\"name\":\"code\",\"placeholder\":\" 验证码\",\"rules\":[{ required: true }]},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.codeFont),expression:\"codeFont\"}],staticClass:\"right-btn\",style:(_vm.codeFontDis ? 'opacity:0.7;' : 'opacity:1;'),attrs:{\"type\":\"button\",\"disabled\":_vm.codeFontDis},domProps:{\"value\":(_vm.codeFont)},on:{\"click\":_vm.getLoginCode,\"input\":function($event){if($event.target.composing)return;_vm.codeFont=$event.target.value}}})]},proxy:true}],null,false,3977395137),model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}):_vm._e(),(_vm.isUpdatePwd && _vm.isUpdateCodeCheck)?_c('van-field',{staticClass:\"v-input\",attrs:{\"type\":\"password\",\"left-icon\":\"eye-o\",\"name\":\"password\",\"placeholder\":\" 新密码\",\"rules\":[{ required: true }]},model:{value:(_vm.newPassword),callback:function ($$v) {_vm.newPassword=$$v},expression:\"newPassword\"}}):_vm._e(),_c('div',{staticClass:\"center-tips\"},[_c('van-checkbox',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isUpdatePwd),expression:\"!isUpdatePwd\"}],attrs:{\"icon-size\":\"0.4rem\",\"checked-color\":\"var(--theme-color2)\"},model:{value:(_vm.savePwd),callback:function ($$v) {_vm.savePwd=$$v},expression:\"savePwd\"}},[_vm._v(\" 自动登录 \")]),_c('div',{staticClass:\"right\",staticStyle:{\"margin-left\":\"auto\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isUserPwd),expression:\"isUserPwd\"}],staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){{\n                _vm.isUserPwd = !_vm.isUserPwd;\n                _vm.isUpdatePwd = true;\n              }}}},[_vm._v(\" \"+_vm._s(\"忘记密码\")+\" |  \")]),_c('div',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){{\n                _vm.isUserPwd = !_vm.isUserPwd;\n                _vm.isUpdatePwd = false;\n              }}}},[_vm._v(\" \"+_vm._s(_vm.isUserPwd ? \"验证码登录\" : \"账号登录\")+\" \")])])],1),(!_vm.isUpdatePwd)?_c('div',{staticClass:\"btns\"},[_c('input',{staticClass:\"v-btn login-btn\",attrs:{\"type\":\"submit\",\"value\":\"登录\"}}),_c('input',{staticClass:\"v-btn reg-btn\",attrs:{\"type\":\"button\",\"value\":\"注册\"},on:{\"click\":_vm.onClickRight}})]):_c('div',{staticClass:\"btns\"},[(!_vm.isUpdateCodeCheck)?_c('input',{staticClass:\"v-btn reg-btn update-btn\",attrs:{\"type\":\"submit\",\"value\":\"验证\"}}):_c('input',{staticClass:\"v-btn login-btn update-btn\",attrs:{\"type\":\"submit\",\"value\":\"修改密码\"}})])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"top-nav\"},[_c('div',{staticClass:\"left\",on:{\"click\":_vm.onClickLeft}},[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"size\":\"0.6rem\"}})],1),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"right\",on:{\"click\":_vm.onClickRight}},[_vm._v(_vm._s(_vm.rTitle))]),_vm._t(\"rblock\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"top-nav\">\r\n    <div class=\"left\" @click=\"onClickLeft\">\r\n      <van-icon name=\"arrow-left\" size=\"0.6rem\" />\r\n    </div>\r\n    <div class=\"title\">{{ title }}</div>\r\n    <div class=\"right\" @click=\"onClickRight\">{{ rTitle }}</div>\r\n    <slot name=\"rblock\"></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"TopNav\",\r\n  props: [\"title\", \"rTitle\"],\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$emit(\"click-left\");\r\n    },\r\n    onClickRight() {\r\n      this.$emit(\"click-right\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.top-nav {\r\n  user-select: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0.4rem 0.2rem;\r\n  font-size: 0.4rem;\r\n  /* box-shadow: var(--shadow-color3); */\r\n  /* border-bottom: 1px solid var(--bg-color3); */\r\n  background-image: radial-gradient(transparent 1px, var(--theme-color) 1px);\r\n  position: relative;\r\n}\r\n.top-nav .title {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  font-size: 0.5rem;\r\n  font-weight: 600;\r\n}\r\n.top-nav .right,\r\n.top-nav .left {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopNav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopNav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopNav.vue?vue&type=template&id=2f018b3c&scoped=true&\"\nimport script from \"./TopNav.vue?vue&type=script&lang=js&\"\nexport * from \"./TopNav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TopNav.vue?vue&type=style&index=0&id=2f018b3c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f018b3c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <!-- 顶部导航栏 -->\r\n    <TopNav :title=\"title\" @click-left=\"onClickLeft\" />\r\n\r\n    <!-- 表单 -->\r\n    <div class=\"froms\">\r\n      <van-form @submit=\"toSubmit\">\r\n        <!-- 忘记密码 -->\r\n        <van-field\r\n          v-if=\"isUpdatePwd\"\r\n          v-model=\"user\"\r\n          name=\"user\"\r\n          type=\"text\"\r\n          left-icon=\"contact\"\r\n          placeholder=\" 请填写用户名\"\r\n          :rules=\"[{ required: true }]\"\r\n          class=\"v-input\"\r\n        />\r\n        <van-field\r\n          v-model=\"username\"\r\n          name=\"username\"\r\n          :type=\"isUserPwd ? 'text' : 'tel'\"\r\n          :left-icon=\"isUserPwd ? 'contact' : 'phone'\"\r\n          :placeholder=\"isUserPwd ? ' 请填写用户名' : ' 请填写手机号'\"\r\n          :rules=\"[{ required: true }]\"\r\n          @blur=\"phoneCheck\"\r\n          class=\"v-input\"\r\n        />\r\n        <van-field\r\n          v-if=\"isUserPwd\"\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          left-icon=\"eye-o\"\r\n          name=\"password\"\r\n          placeholder=\" 请填写密码\"\r\n          class=\"v-input\"\r\n          :rules=\"[{ required: true }]\"\r\n        />\r\n        <van-field\r\n          v-if=\"!isUserPwd\"\r\n          v-model=\"code\"\r\n          type=\"number\"\r\n          left-icon=\"label-o\"\r\n          name=\"code\"\r\n          placeholder=\" 验证码\"\r\n          class=\"v-input\"\r\n          :rules=\"[{ required: true }]\"\r\n        >\r\n          <template #button>\r\n            <!-- 获取验证码 -->\r\n            <input\r\n              type=\"button\"\r\n              class=\"right-btn\"\r\n              @click=\"getLoginCode\"\r\n              :disabled=\"codeFontDis\"\r\n              v-model=\"codeFont\"\r\n              :style=\"codeFontDis ? 'opacity:0.7;' : 'opacity:1;'\"\r\n            />\r\n          </template>\r\n        </van-field>\r\n        <van-field\r\n          v-if=\"isUpdatePwd && isUpdateCodeCheck\"\r\n          v-model=\"newPassword\"\r\n          type=\"password\"\r\n          left-icon=\"eye-o\"\r\n          name=\"password\"\r\n          placeholder=\" 新密码\"\r\n          class=\"v-input\"\r\n          :rules=\"[{ required: true }]\"\r\n        />\r\n        <!-- 中底部文字按钮 -->\r\n        <div class=\"center-tips\">\r\n          <van-checkbox\r\n            v-model=\"savePwd\"\r\n            icon-size=\"0.4rem\"\r\n            checked-color=\"var(--theme-color2)\"\r\n            v-show=\"!isUpdatePwd\"\r\n          >\r\n            自动登录\r\n          </van-checkbox>\r\n          <div class=\"right\" style=\"margin-left: auto\">\r\n            <div\r\n              style=\"cursor: pointer\"\r\n              @click=\"\r\n                {\r\n                  isUserPwd = !isUserPwd;\r\n                  isUpdatePwd = true;\r\n                }\r\n              \"\r\n              v-show=\"isUserPwd\"\r\n            >\r\n              {{ \"忘记密码\" }}&nbsp;|&nbsp;\r\n            </div>\r\n            <div\r\n              style=\"cursor: pointer\"\r\n              @click=\"\r\n                {\r\n                  isUserPwd = !isUserPwd;\r\n                  isUpdatePwd = false;\r\n                }\r\n              \"\r\n            >\r\n              {{ isUserPwd ? \"验证码登录\" : \"账号登录\" }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"btns\" v-if=\"!isUpdatePwd\">\r\n          <input class=\"v-btn login-btn\" type=\"submit\" value=\"登录\" />\r\n          <input\r\n            class=\"v-btn reg-btn\"\r\n            type=\"button\"\r\n            value=\"注册\"\r\n            @click=\"onClickRight\"\r\n          />\r\n        </div>\r\n        <div class=\"btns\" v-else>\r\n          <input\r\n            v-if=\"!isUpdateCodeCheck\"\r\n            class=\"v-btn reg-btn update-btn\"\r\n            type=\"submit\"\r\n            value=\"验证\"\r\n          />\r\n          <input\r\n            v-else\r\n            class=\"v-btn login-btn update-btn\"\r\n            type=\"submit\"\r\n            value=\"修改密码\"\r\n          />\r\n        </div>\r\n      </van-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport router from \"@/router\";\r\nimport TopNav from \"@/components/TopNav.vue\";\r\nimport {\r\n  getLoginCode,\r\n  loginByPwd,\r\n  loginByCode,\r\n  checkUser,\r\n  getUpdatePwdCode,\r\n  checkUpdatePwdCode,\r\n  updatePwd,\r\n} from \"@/api/user/users\";\r\nexport default {\r\n  name: \"LoginFrom\",\r\n  components: { TopNav },\r\n\r\n  data() {\r\n    return {\r\n      title: \"登 录\",\r\n      rTitle: \"去注册\",\r\n      isUserPwd: true,\r\n      username: \"\",\r\n      password: \"\",\r\n      user: \"\", // 忘记密码\r\n      newPassword: \"\",\r\n      code: \"\",\r\n      codeFont: \"获取\",\r\n      codeFontDis: false,\r\n      savePwd: false, // 记住密码\r\n\r\n      isUpdatePwd: false, // 忘记密码\r\n      isUpdateCodeCheck: false, // 忘记密码--验证码通过\r\n      phoneReg:\r\n        /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/,\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    // 判断自动登录\r\n    this.autoLogin();\r\n  },\r\n  methods: {\r\n    // 表单提交\r\n    toSubmit() {\r\n      if (this.isUserPwd) {\r\n        this.toLoginByPwd(); // 密码登录\r\n      } else if (!this.isUpdatePwd && !this.isUpdatePwd) {\r\n        this.toLoginByReg(); // 验证码登录\r\n      } else if (this.isUpdatePwd && !this.isUpdateCodeCheck) {\r\n        this.checkUpdateCode(); // 验证修改密码的验证码\r\n      } else {\r\n        this.toForgetPwd(); // 修改密码\r\n      }\r\n    },\r\n    // 1）密码登录\r\n    async toLoginByPwd() {\r\n      let res = await loginByPwd(this.username, this.password);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.reqUserInfo(res.data.data);\r\n        // 查询用户信息\r\n        this.$notify({ type: \"success\", message: \"登录成功！\" });\r\n        this.toView();\r\n      } else {\r\n        // console.log(res.data);\r\n        this.$notify({\r\n          type: \"danger\",\r\n          message: this.isUserPwd ? \"账号密码错误！\" : \"验证码有误！\",\r\n        });\r\n      }\r\n    },\r\n\r\n    // 2）验证码登录\r\n    async toLoginByReg() {\r\n      // 验证码登录\r\n      const res = await loginByCode(this.username, this.code);\r\n      if (res.status === 200 && res.data?.code === 20011) {\r\n        // 查询用户信息\r\n        this.reqUserInfo(res.data.data);\r\n        this.$notify({ type: \"success\", message: \"登录成功！\" });\r\n        this.toView();\r\n      } else {\r\n        this.$notify({\r\n          type: \"danger\",\r\n          message: res.data?.message ?? \"用户不存在，请进行注册\",\r\n        });\r\n      }\r\n    },\r\n    // 请求获取登录||忘记密码 验证码\r\n    async getLoginCode() {\r\n      if (!this.username) {\r\n        return this.$notify(\"手机号不能为空！\");\r\n      } else if (!this.phoneCheck()) {\r\n        return this.$notify(\"手机号格式错误！\");\r\n      }\r\n      this.codeFontDis = true;\r\n      let times = 60;\r\n      let timer = setInterval(() => {\r\n        times--;\r\n        this.codeFont = times + \"s\";\r\n        if (times === 0) {\r\n          this.codeFont = \"获取\";\r\n          this.codeFontDis = false;\r\n          clearInterval(timer);\r\n        } else {\r\n          this.codeFont = times + \"s\";\r\n        }\r\n      }, 1000);\r\n      // 判断登录 || 忘记密码 验证码\r\n      const res = this.isUpdatePwd\r\n        ? await getUpdatePwdCode(this.user, this.username)\r\n        : await getLoginCode(this.username);\r\n\r\n      if (res.data.code === 20011) {\r\n        // this.$notify({\r\n        //   type: \"success\",\r\n        //   message: `获取成功！验证码为：\\n${res.data.data}`,\r\n        //   duration: 5000,\r\n        // });\r\n        this.$notify({\r\n          type: \"success\",\r\n          message: `获取成功,请查看手机验证码！`,\r\n        });\r\n\r\n        this.code = res.data.data; // 自动填写\r\n      } else {\r\n        this.$notify({\r\n          type: \"danger\",\r\n          message: `此手机号未注册！`,\r\n        });\r\n      }\r\n    },\r\n\r\n    // 3）忘记密码\r\n    async toForgetPwd() {\r\n      const res = await updatePwd({\r\n        phone: this.username,\r\n        newPassword: this.newPassword,\r\n      });\r\n      if (res.data?.code === 20011) {\r\n        this.$notify({\r\n          type: \"success\",\r\n          message: `修改成功！`,\r\n          onClose: () => {\r\n            this.password = \"\";\r\n            this.newPassword = \"\";\r\n            this.code = \"\";\r\n            this.isUserPwd = true;\r\n            this.savePwd = false;\r\n            this.isUpdatePwd = false;\r\n            this.isUpdateCodeCheck = false;\r\n          },\r\n        });\r\n      } else {\r\n        this.$notify({\r\n          type: \"danger\",\r\n          message: `验证码已经失效`,\r\n        });\r\n      }\r\n    },\r\n    // 4）验证--修改密码\r\n    async checkUpdateCode() {\r\n      if (this.isUpdatePwd) {\r\n        const res = await checkUpdatePwdCode({\r\n          username: this.user,\r\n          phone: this.username,\r\n          code: this.code,\r\n        });\r\n        if (res.status === 200 && res.data.code === 20011) {\r\n          this.isUpdateCodeCheck = true;\r\n          this.$notify({\r\n            type: \"success\",\r\n            message: `验证通过！`,\r\n          });\r\n        } else {\r\n          this.$notify({\r\n            type: \"danger\",\r\n            message: `验证码错误！`,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    // 跳转\r\n    toView() {\r\n      if (this.$route.params.toBack) {\r\n        this.$router.back();\r\n      } else {\r\n        this.$router.push({\r\n          name: \"home\",\r\n          params: { animate: \"forward\" },\r\n        });\r\n      }\r\n    },\r\n\r\n    // 登录成功--查询请求用户信息\r\n    reqUserInfo(token) {\r\n      // 添加用户登录状态\r\n      this.$store.commit(\"setLoginState\", true); // vuex保存登录状态\r\n      this.$store.commit(\"setToken\", { token, savePwd: this.savePwd });\r\n      // 检查用户 是否过期\r\n      checkUser(token).then((res) => {\r\n        if (res.data.code === 20011) {\r\n          this.$store.commit(\"setUserInfo\", res.data.data);\r\n        } else {\r\n          this.$store.commit(\"loginOut\"); // 清空\r\n          this.password = \"\";\r\n          this.newPassword = \"\";\r\n          this.code = \"\";\r\n          this.isUserPwd = true;\r\n          this.savePwd = false;\r\n          this.isUpdatePwd = false;\r\n          this.isUpdateCodeCheck = false;\r\n        }\r\n      });\r\n    },\r\n    // 顶部导航栏\r\n    onClickLeft() {\r\n      router.back();\r\n    },\r\n    onClickRight() {\r\n      router.replace({\r\n        name: \"regist\",\r\n        params: { animate: \"forward\" },\r\n      });\r\n    },\r\n    // 校验手机号\r\n    phoneCheck() {\r\n      if (!this.isUserPwd) {\r\n        if (this.username !== \"\" && !this.phoneReg.test(this.username.trim())) {\r\n          this.$notify({ type: \"danger\", message: \"手机号格式错误！\" });\r\n          return false;\r\n        }\r\n        return this.phoneReg.test(this.username.trim());\r\n      }\r\n    },\r\n\r\n    // 自动登录\r\n    async autoLogin() {\r\n      // 获取注册的用户信息\r\n      if (this.$route.params?.username)\r\n        this.username = this.$route.params.username;\r\n      // 获取登录状态\r\n      const token =\r\n        localStorage.getItem(this.$store.state.TOKEN_NAME) ||\r\n        sessionStorage.getItem(this.$store.state.TOKEN_NAME) ||\r\n        \"\";\r\n\r\n      this.$store.commit(\"setToken\", token); // vuex保存token\r\n      if (token === \"\") return;\r\n      const res = await checkUser(token);\r\n      if (!res.data.code === 20011 || res.status !== 200) {\r\n        this.password = \"\";\r\n        this.$store.commit(\"loginOut\"); // 登出\r\n        this.$toast({ type: \"fail\", message: \"登录过期，请重新登陆\" });\r\n        return;\r\n      }\r\n      let second = 2;\r\n      let timer;\r\n      // 自动登录弹窗\r\n      if (res.data?.code === 20011) {\r\n        this.password = \"..*****...\";\r\n        this.savePwd = true;\r\n        this.username = res.data.data.username;\r\n        this.$dialog\r\n          .alert({\r\n            message: \"自动登录中...\",\r\n            confirmButtonText: \"取消\",\r\n          })\r\n          .then(() => {\r\n            clearInterval(timer);\r\n            this.password = \"\";\r\n            this.$store.commit(\"loginOut\"); // 登出\r\n          });\r\n\r\n        timer = setInterval(() => {\r\n          second--;\r\n          if (!second) {\r\n            this.$store.commit(\"setUserInfo\", res.data.data);\r\n            this.toView(); // 跳转主页\r\n            this.$dialog.close(); // 关闭弹窗\r\n          }\r\n        }, 1000);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    isUpdatePwd(newVal) {\r\n      if (newVal) {\r\n        this.title = \"修改密码\";\r\n      } else {\r\n        this.title = \"登 录\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.center-tips {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-size: 0.38rem;\r\n  margin: 0.3rem 0.2rem;\r\n  color: rgba(0, 0, 0, 0.9);\r\n}\r\n.center-tips .right {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.btns {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 0.8rem;\r\n}\r\n.btns .update-btn {\r\n  width: 100%;\r\n  padding: 0.3rem;\r\n  font-size: 0.45rem;\r\n}\r\n.reg-btn {\r\n  border: 2px solid #eee;\r\n  background-color: #fff;\r\n  box-shadow: #eee -3px -3px 5px, #eee 3px 3px 5px;\r\n}\r\n.reg-btn:hover {\r\n  box-shadow: none;\r\n}\r\n.reg-btn:active {\r\n  box-shadow: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginView.vue?vue&type=template&id=97e7abc4&scoped=true&\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginView.vue?vue&type=style&index=0&id=97e7abc4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97e7abc4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('TopNav',{attrs:{\"title\":_vm.title},on:{\"click-left\":_vm.onClickLeft}}),_c('div',{staticClass:\"froms\"},[_c('van-form',{on:{\"submit\":function($event){_vm.disabled ? '' : _vm.toRegister()}}},[_c('van-field',{staticClass:\"v-input\",attrs:{\"disabled\":_vm.disabled,\"name\":\"username\",\"type\":\"text\",\"left-icon\":\"contact\",\"placeholder\":\" 用户名（开头字母、数字和下划线组成）\",\"rules\":[{ required: true }]},on:{\"blur\":_vm.checkUsername},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{staticClass:\"v-input\",attrs:{\"disabled\":_vm.disabled,\"type\":\"tel\",\"name\":\"phone\",\"left-icon\":\"phone-o\",\"placeholder\":\" 请填写手机号\",\"rules\":[{ required: true }]},on:{\"blur\":_vm.phoneCheck},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_c('van-field',{staticClass:\"v-input\",attrs:{\"disabled\":_vm.disabled,\"type\":\"number\",\"name\":\"code\",\"left-icon\":\"label-o\",\"placeholder\":\" 验证码\",\"rules\":[{ required: true }]},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.codeFont),expression:\"codeFont\"}],staticClass:\"right-btn\",style:(_vm.codeFontDis ? 'opacity:0.7;' : 'opacity:1;'),attrs:{\"type\":\"button\",\"disabled\":_vm.codeFontDis || _vm.disabled},domProps:{\"value\":(_vm.codeFont)},on:{\"click\":_vm.getRegisterCode,\"input\":function($event){if($event.target.composing)return;_vm.codeFont=$event.target.value}}})]},proxy:true}]),model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_c('van-field',{staticClass:\"v-input\",attrs:{\"disabled\":_vm.disabled,\"type\":\"password\",\"name\":\"password\",\"left-icon\":\"eye-o\",\"placeholder\":\" 请填写密码\",\"rules\":[{ required: true }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('input',{staticClass:\"v-btn\",staticStyle:{\"width\":\"100%\",\"padding\":\"0.3rem\",\"font-size\":\"0.45rem\"},attrs:{\"disabled\":_vm.disabled,\"type\":\"submit\",\"value\":\"立即注册\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 顶部导航栏 -->\r\n    <TopNav :title=\"title\" @click-left=\"onClickLeft\" />\r\n\r\n    <!-- 表单 -->\r\n    <div class=\"froms\">\r\n      <van-form @submit=\"disabled ? '' : toRegister()\">\r\n        <van-field\r\n          :disabled=\"disabled\"\r\n          v-model=\"username\"\r\n          name=\"username\"\r\n          type=\"text\"\r\n          class=\"v-input\"\r\n          left-icon=\"contact\"\r\n          placeholder=\" 用户名（开头字母、数字和下划线组成）\"\r\n          :rules=\"[{ required: true }]\"\r\n          @blur=\"checkUsername\"\r\n        />\r\n        <van-field\r\n          v-model=\"phone\"\r\n          :disabled=\"disabled\"\r\n          type=\"tel\"\r\n          name=\"phone\"\r\n          class=\"v-input\"\r\n          left-icon=\"phone-o\"\r\n          placeholder=\" 请填写手机号\"\r\n          :rules=\"[{ required: true }]\"\r\n          @blur=\"phoneCheck\"\r\n        />\r\n        <van-field\r\n          :disabled=\"disabled\"\r\n          v-model=\"code\"\r\n          type=\"number\"\r\n          name=\"code\"\r\n          left-icon=\"label-o\"\r\n          placeholder=\" 验证码\"\r\n          class=\"v-input\"\r\n          :rules=\"[{ required: true }]\"\r\n        >\r\n          <template #button>\r\n            <!-- 获取验证码 -->\r\n            <input\r\n              type=\"button\"\r\n              class=\"right-btn\"\r\n              @click=\"getRegisterCode\"\r\n              :disabled=\"codeFontDis || disabled\"\r\n              v-model=\"codeFont\"\r\n              :style=\"codeFontDis ? 'opacity:0.7;' : 'opacity:1;'\"\r\n            />\r\n          </template>\r\n        </van-field>\r\n        <van-field\r\n          v-model=\"password\"\r\n          :disabled=\"disabled\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          class=\"v-input\"\r\n          left-icon=\"eye-o\"\r\n          placeholder=\" 请填写密码\"\r\n          :rules=\"[{ required: true }]\"\r\n        />\r\n        <input\r\n          class=\"v-btn\"\r\n          :disabled=\"disabled\"\r\n          style=\"width: 100%; padding: 0.3rem; font-size: 0.45rem\"\r\n          type=\"submit\"\r\n          value=\"立即注册\"\r\n        />\r\n      </van-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { register, getRegisterCode } from \"@/api/user/users\";\r\n\r\nimport TopNav from \"@/components/TopNav.vue\";\r\nimport { Notify } from \"vant\";\r\nexport default {\r\n  name: \"RegisterFrom\",\r\n  components: { TopNav },\r\n  data() {\r\n    return {\r\n      disabled: false, // 全局禁用\r\n      title: \"注 册\",\r\n      username: \"\",\r\n      phone: \"\",\r\n      code: \"\",\r\n      password: \"\",\r\n      usernameReg: /^[a-zA-Z]/,\r\n      phoneReg:\r\n        /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/,\r\n      codeFont: \"获取\",\r\n      codeFontDis: false,\r\n    };\r\n  },\r\n  methods: {\r\n    // 请求注册\r\n    async toRegister() {\r\n      if (!this.checkUsername()) return;\r\n      if (!this.phoneCheck()) return;\r\n      const res = await register({\r\n        username: this.username.trim(),\r\n        phone: this.phone.trim(),\r\n        code: this.code.trim(),\r\n        password: this.password.trim(),\r\n      });\r\n      // console.log(res.data);\r\n      if (res.data.code === 20011) {\r\n        this.disabled = true;\r\n        Notify({ type: \"success\", message: \"注册成功！即将返回登录\" });\r\n        setTimeout(() => {\r\n          this.$router.replace({\r\n            name: \"login\",\r\n            params: { username: this.username },\r\n          }); // 两秒后跳转登录页面\r\n          this.disabled = false;\r\n        }, 2000);\r\n      } else {\r\n        Notify({ type: \"danger\", message: \"该用户已被注册！\" });\r\n      }\r\n    },\r\n    // 请求获取注册验证码\r\n    async getRegisterCode() {\r\n      if (!this.phone) {\r\n        return Notify(\"手机号不能为空！\");\r\n      } else if (!this.phoneCheck()) {\r\n        return Notify(\"手机号格式错误！\");\r\n      }\r\n      this.codeFontDis = true;\r\n      let times = 60;\r\n      let timer = setInterval(() => {\r\n        if (times === 1) {\r\n          this.codeFont = \"获取\";\r\n          clearInterval(timer);\r\n        }\r\n        times--;\r\n        if (times === 0) {\r\n          this.codeFont = \"获取\";\r\n          this.codeFontDis = false;\r\n          clearInterval(timer);\r\n        } else {\r\n          this.codeFont = times + \"s\";\r\n        }\r\n      }, 1000);\r\n      const res = await getRegisterCode(this.phone);\r\n      // console.log(res.data);\r\n      if (res.data.code === 20011) {\r\n        Notify({\r\n          type: \"success\",\r\n          // message: `获取成功！验证码为：\\n${res.data.data}`,\r\n          message: `获取成功,请查看手机验证码！`,\r\n        });\r\n        // this.code = res.data.data; // 自动填写\r\n      } else {\r\n        Notify({\r\n          type: \"danger\",\r\n          message: `获取失败！手机号已被注册！`,\r\n        });\r\n      }\r\n    },\r\n\r\n    // 校验\r\n    phoneCheck() {\r\n      if (this.phone !== \"\" && !this.phoneReg.test(this.phone.trim())) {\r\n        Notify({ type: \"danger\", message: \"手机号格式错误！\" });\r\n        return false;\r\n      }\r\n      return this.phoneReg.test(this.phone.trim());\r\n    },\r\n    checkUsername() {\r\n      if (\r\n        this.username !== \"\" &&\r\n        !this.usernameReg.test(this.username.trim())\r\n      ) {\r\n        Notify({ type: \"danger\", message: \"用户名格式错误！\" });\r\n        return false;\r\n      }\r\n      return this.usernameReg.test(this.username.trim());\r\n    },\r\n    // 顶部导航按钮\r\n    onClickLeft() {\r\n      this.$router.replace({\r\n        name: \"login\",\r\n        params: { animate: \"toback\" },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped></style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RegisterView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RegisterView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RegisterView.vue?vue&type=template&id=68c84700&scoped=true&\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js&\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68c84700\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"collect-view\"},[_c('top-nav',{attrs:{\"title\":\"我的收藏\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"content\"},[_c('collect-list')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-list',{staticClass:\"animate__animated animate__fadeIn good-list\",attrs:{\"error\":_vm.isHttpError,\"finished\":_vm.finished,\"finished-text\":\"没有收藏的商品了\"},on:{\"update:error\":function($event){_vm.isHttpError=$event},\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('transition-group',{staticClass:\"item\",attrs:{\"name\":\"bottomRight\",\"tag\":\"div\"}},_vm._l((_vm.collectList),function(goods,i){return _c('good-rowcard',{key:goods.gid,staticClass:\"item\",attrs:{\"goods\":goods,\"index\":i},on:{\"deleteCollect\":_vm.deleteCollect}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\n\r\n/**\r\n * 查询用户全部收藏\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getAllCollectByGid(token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/collection/query`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 查询本商品是否收藏\r\n * @param {*} gid\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getTheCollectByGid(gid, token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/collection/query/${gid}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 添加用户收藏\r\n * @param {string} gid\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function addCollectByGid(gid, token) {\r\n  return request({\r\n    method: \"post\",\r\n    url: `/collection/save/${gid}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 删除取消收藏\r\n * @param {string} gid\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function deleteCollectByGid(gid, token) {\r\n  return request({\r\n    method: \"delete\",\r\n    url: `/collection/delete/${gid}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"v-card good-card\"},[_c('van-image',{staticClass:\"bg\",attrs:{\"lazy-load\":\"\",\"src\":_vm.getImgSrc[0]},on:{\"click\":function($event){return _vm.toGoodsDetail(_vm.goods.gid)}},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('van-loading',{attrs:{\"type\":\"spinner\",\"size\":\"24\"}})]},proxy:true}])}),_c('div',{staticClass:\"content\",on:{\"click\":function($event){return _vm.toGoodsDetail(_vm.goods.gid)}}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.goods.name))]),_c('div',{staticClass:\"price\"},[_vm._v(\" ￥\"),_c('span',{staticClass:\"tip\"},[_vm._v(_vm._s(_vm.getPrice))])]),_c('div',{staticClass:\"sales\"},[_vm._v(\"热销中\")])]),_c('div',{staticClass:\"lf-tip\"},[_c('van-icon',{staticClass:\"icon\",attrs:{\"name\":\"star\",\"size\":\"0.5rem\",\"color\":\"var(--tip-color2)\"},on:{\"click\":function($event){return _vm.updataIsCollect(_vm.index, _vm.goods.gid)}}}),_c('van-icon',{staticClass:\"icon\",attrs:{\"name\":\"cart-o\",\"size\":\"0.45rem\",\"color\":\"var(--)\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"v-card good-card\">\r\n    <!-- 商品图片 -->\r\n    <van-image\r\n      class=\"bg\"\r\n      lazy-load\r\n      :src=\"getImgSrc[0]\"\r\n      @click=\"toGoodsDetail(goods.gid)\"\r\n    >\r\n      <template v-slot:loading>\r\n        <van-loading type=\"spinner\" size=\"24\" />\r\n      </template>\r\n    </van-image>\r\n    <!-- 介绍 -->\r\n    <div class=\"content\" @click=\"toGoodsDetail(goods.gid)\">\r\n      <div class=\"title\">{{ goods.name }}</div>\r\n      <div class=\"price\">\r\n        ￥<span class=\"tip\">{{ getPrice }}</span>\r\n      </div>\r\n      <div class=\"sales\">热销中</div>\r\n    </div>\r\n    <div class=\"lf-tip\">\r\n      <van-icon\r\n        @click=\"updataIsCollect(index, goods.gid)\"\r\n        name=\"star\"\r\n        class=\"icon\"\r\n        size=\"0.5rem\"\r\n        color=\"var(--tip-color2)\"\r\n      />\r\n      <van-icon name=\"cart-o\" class=\"icon\" size=\"0.45rem\" color=\"var(--)\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport { deleteCollectByGid } from \"@/api/user/collect\";\r\nimport { Dialog, Toast } from \"vant\";\r\nimport currency from \"currency.js\";\r\nexport default {\r\n  props: [\"goods\", \"index\"],\r\n  name: \"SortClass\",\r\n  methods: {\r\n    // 点击跳转对应的商品详情页面\r\n    toGoodsDetail(id) {\r\n      this.$router.push({\r\n        name: \"detail\",\r\n        query: { id },\r\n        params: { animate: \"forward\" },\r\n      });\r\n    },\r\n    // 取消收藏\r\n    updataIsCollect(index, gid) {\r\n      Dialog.confirm({ title: \"是否取消收藏？\" })\r\n        .then(() => {\r\n          deleteCollectByGid(gid, this.$store.getters.token)\r\n            .then((res) => {\r\n              if (res.data.code === 20011) {\r\n                this.$emit(\"deleteCollect\", index);\r\n                Toast(\" 取消成功！\");\r\n              } else {\r\n                Toast(\" 取消失败！\");\r\n              }\r\n            })\r\n            .catch(() => {\r\n              Toast(\" 取消失败！\");\r\n            });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n  },\r\n  computed: {\r\n    getImgSrc() {\r\n      const arr = this.goods.images.split(\",\");\r\n      arr.forEach((p, i) => {\r\n        arr[i] = getResourImageByName(p);\r\n      });\r\n      return arr;\r\n    },\r\n    getPrice() {\r\n      return currency(this.goods.price);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.good-card {\r\n  display: flex;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  border-radius: 10px;\r\n  margin: 0.2rem 0;\r\n  backdrop-filter: blur(20px);\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n.bg {\r\n  display: block;\r\n  width: 3.4rem;\r\n  height: 3.4rem;\r\n  object-fit: contain;\r\n  padding: 0.3rem;\r\n}\r\n.bg >>> .van-image__img {\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: var(--shadow-color3);\r\n  border: 0.05 solid var(--border-color);\r\n}\r\n/* 详情 */\r\n.content {\r\n  height: 100%;\r\n  padding: 0.4rem 0.3rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n.content .title {\r\n  font-size: 0.4rem;\r\n}\r\n\r\n.price {\r\n  font-size: 0.4rem;\r\n  padding-top: 0.1rem;\r\n  color: var(--tip-color2);\r\n}\r\n.price .tip {\r\n  font-size: 0.7rem;\r\n}\r\n.sales {\r\n  font-size: 0.3rem;\r\n  opacity: 0.7;\r\n}\r\n.lf-tip {\r\n  cursor: pointer;\r\n  position: absolute;\r\n  right: 0.3rem;\r\n  bottom: 0.3rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.lf-tip .icon {\r\n  padding: 0 0.12rem;\r\n}\r\n.lf-tip .text {\r\n  font-size: 0.3rem;\r\n  color: var(--tip-color);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodRowcard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodRowcard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodRowcard.vue?vue&type=template&id=4158674e&scoped=true&\"\nimport script from \"./GoodRowcard.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodRowcard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoodRowcard.vue?vue&type=style&index=0&id=4158674e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4158674e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <!-- 商品列表 -->\r\n  <van-list\r\n    class=\"animate__animated animate__fadeIn good-list\"\r\n    v-model=\"loading\"\r\n    :error.sync=\"isHttpError\"\r\n    :finished=\"finished\"\r\n    finished-text=\"没有收藏的商品了\"\r\n    @load=\"onLoad\"\r\n  >\r\n    <transition-group name=\"bottomRight\" tag=\"div\" class=\"item\">\r\n      <!-- 商品卡片 -->\r\n      <good-rowcard\r\n        :goods=\"goods\"\r\n        v-for=\"(goods, i) in collectList\"\r\n        :key=\"goods.gid\"\r\n        :index=\"i\"\r\n        class=\"item\"\r\n        @deleteCollect=\"deleteCollect\"\r\n      />\r\n    </transition-group>\r\n  </van-list>\r\n</template>\r\n  <script>\r\nimport { getAllCollectByGid } from \"@/api/user/collect\";\r\nimport GoodRowcard from \"@/components/GoodRowcard.vue\";\r\nexport default {\r\n  components: { GoodRowcard },\r\n  name: \"CollectList\",\r\n  data() {\r\n    return {\r\n      collectList: [], // 收藏列表\r\n      isHttpError: false, // 网络请求错误\r\n      loading: false, // 加载中\r\n      finished: false, // 完成\r\n    };\r\n  },\r\n  methods: {\r\n    // 加载对应的商品列表\r\n    onLoad() {\r\n      this.loading = true;\r\n      // 收藏\r\n      getAllCollectByGid(this.$store.getters.token)\r\n        .then((res) => {\r\n          // console.log(res.data);\r\n          if (res.data.code === 20011) {\r\n            const data = res.data.data;\r\n            data.forEach((p) => {\r\n              this.collectList.push(p);\r\n            });\r\n\r\n            // 加载状态结束\r\n            this.loading = false; // 下一页\r\n\r\n            // 数据全部加载完成\r\n            if (this.collectList.length === data.length) {\r\n              this.finished = true;\r\n            }\r\n          } else {\r\n            this.isHttpError = true;\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.isHttpError = true;\r\n        });\r\n    },\r\n\r\n    // 删除\r\n    deleteCollect(index) {\r\n      this.collectList.splice(index, 1);\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n  <style scoped>\r\n/* 商品 */\r\n.good-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  margin-top: 0.2rem;\r\n  padding: 0.1rem;\r\n  animation-delay: var(--router-delay) / 2;\r\n}\r\n.good-list .item {\r\n  width: 100%;\r\n}\r\n.good-list >>> .van-list__loading,\r\n.good-list >>> .van-list__finished-text,\r\n.good-list >>> .van-list__error-text {\r\n  width: 100%;\r\n  font-size: 0.35rem;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CollectList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CollectList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CollectList.vue?vue&type=template&id=6031990b&scoped=true&\"\nimport script from \"./CollectList.vue?vue&type=script&lang=js&\"\nexport * from \"./CollectList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CollectList.vue?vue&type=style&index=0&id=6031990b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6031990b\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"collect-view\">\r\n    <top-nav title=\"我的收藏\" @click-left=\"$router.back()\" />\r\n    <div class=\"content\">\r\n      <collect-list />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TopNav from \"@/components/TopNav.vue\";\r\nimport CollectList from \"@/components/CollectList.vue\";\r\nexport default {\r\n  components: { TopNav, CollectList },\r\n  name: \"CollectView\",\r\n  data() {\r\n    return {};\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.content {\r\n  padding: 0.1rem 0.3rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CollectView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CollectView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CollectView.vue?vue&type=template&id=49ad1be4&scoped=true&\"\nimport script from \"./CollectView.vue?vue&type=script&lang=js&\"\nexport * from \"./CollectView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CollectView.vue?vue&type=style&index=0&id=49ad1be4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49ad1be4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wind-init search-view\"},[_c('search-nav',{attrs:{\"is-result\":_vm.isResult},on:{\"submitSearch\":_vm.submitSearch,\"focusKeywords\":_vm.focusKeywords,\"clearKeywords\":_vm.clearKeywords}}),(_vm.isResult)?_c('search-toggle',{attrs:{\"key-words\":_vm.keyWords,\"cid\":this.$route.query?.cid}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search-nav\"},[_c('div',{staticClass:\"nav\"},[_c('van-icon',{staticClass:\"toback-btn\",attrs:{\"name\":\"arrow-left\",\"size\":\"0.6rem\"},on:{\"click\":_vm.toBack}}),_c('van-field',{staticClass:\"v-input search\",attrs:{\"placeholder\":\"输入商品名称\",\"left-icon\":\"search\"},on:{\"focus\":_vm.focusKeywords,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.toSearchGoods.apply(null, arguments)}},model:{value:(_vm.keyWords),callback:function ($$v) {_vm.keyWords=$$v},expression:\"keyWords\"}}),_c('van-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.keyWords),expression:\"keyWords\"}],staticClass:\"clear\",attrs:{\"name\":\"clear\",\"size\":\"0.6rem\",\"color\":\"var(--text-color3)\"},on:{\"click\":_vm.clearKeywords}}),_c('input',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"value\":\"搜 索\"},on:{\"click\":_vm.toSearchGoods}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isResult),expression:\"!isResult\"}],staticClass:\"history\"},[_c('div',{staticClass:\"top\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"历史搜索\")]),_c('van-icon',{staticClass:\"delete\",attrs:{\"name\":\"delete-o\",\"size\":\"0.5rem\"},on:{\"click\":_vm.deleteHistory}})],1),_c('div',{staticClass:\"list\"},_vm._l((_vm.searchHistory),function(p,i){return _c('div',{key:i,staticClass:\"item\",on:{\"touchstart\":_vm.touchStartHistory,\"touchend\":function($event){return _vm.touchEndHistory(i)},\"click\":function($event){return _vm.clickHistory(p, i)}}},[_vm._v(\" \"+_vm._s(p)+\" \")])}),0)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search-nav\">\r\n    <div class=\"nav\">\r\n      <!-- 返回 -->\r\n      <van-icon\r\n        name=\"arrow-left\"\r\n        size=\"0.6rem\"\r\n        @click=\"toBack\"\r\n        class=\"toback-btn\"\r\n      />\r\n      <!-- 输入框 -->\r\n      <van-field\r\n        v-model=\"keyWords\"\r\n        @focus=\"focusKeywords\"\r\n        class=\"v-input search\"\r\n        placeholder=\"输入商品名称\"\r\n        left-icon=\"search\"\r\n        @keyup.enter=\"toSearchGoods\"\r\n      />\r\n      <!-- 清除输入 -->\r\n      <van-icon\r\n        name=\"clear\"\r\n        size=\"0.6rem\"\r\n        class=\"clear\"\r\n        v-show=\"keyWords\"\r\n        color=\"var(--text-color3)\"\r\n        @click=\"clearKeywords\"\r\n      />\r\n      <!-- 搜索按钮 -->\r\n      <input type=\"button\" value=\"搜 索\" class=\"btn\" @click=\"toSearchGoods\" />\r\n    </div>\r\n    <div class=\"history\" v-show=\"!isResult\">\r\n      <!-- 历史搜索记录 -->\r\n      <div class=\"top\">\r\n        <span class=\"title\">历史搜索</span>\r\n        <van-icon\r\n          name=\"delete-o\"\r\n          size=\"0.5rem\"\r\n          class=\"delete\"\r\n          @click=\"deleteHistory\"\r\n        />\r\n      </div>\r\n      <!-- 搜索列表 -->\r\n      <div class=\"list\">\r\n        <div\r\n          @touchstart=\"touchStartHistory\"\r\n          @touchend=\"touchEndHistory(i)\"\r\n          @click=\"clickHistory(p, i)\"\r\n          class=\"item\"\r\n          v-for=\"(p, i) in searchHistory\"\r\n          :key=\"i\"\r\n        >\r\n          {{ p }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Dialog, Toast } from \"vant\";\r\nexport default {\r\n  name: \"SearchNav\",\r\n  props: [\"isResult\"],\r\n  data() {\r\n    return {\r\n      keyWords: \"\", // 关键字\r\n      timer: \"\", // 定时器\r\n      searchHistory: [], // 搜索历史\r\n      touchTime: 0,\r\n    };\r\n  },\r\n  created() {\r\n    const data = JSON.parse(localStorage.getItem(\"searchHistory\")) || \"\";\r\n    if (data !== \"\") {\r\n      data.forEach((p) => {\r\n        this.searchHistory.push(p);\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    // 搜索商品\r\n    toSearchGoods() {\r\n      if (this.keyWords.trim() === \"\")\r\n        return Toast({ message: \" 请输入搜索内容！\" });\r\n      // 显示搜索结果\r\n      this.$emit(\"submitSearch\", this.keyWords.trim());\r\n      // 记录搜索历史\r\n      this.searchHistory.unshift(this.keyWords.trim());\r\n    },\r\n    // 聚焦输入框\r\n    focusKeywords() {\r\n      this.$emit(\"focusKeywords\", this.keyWords.trim());\r\n    },\r\n    // 关键字清空\r\n    clearKeywords() {\r\n      this.keyWords = \"\";\r\n      this.$emit(\"clearKeywords\", this.keyWords);\r\n    },\r\n\r\n    // 历史记录\r\n    clickHistory(p, i) {\r\n      this.keyWords = p;\r\n      this.searchHistory.splice(i, 1).unshift(p);\r\n      this.toSearchGoods(); // 搜索\r\n    },\r\n    // 删除历史记录\r\n    deleteHistory() {\r\n      if (this.searchHistory.length === 0) return;\r\n      Dialog.confirm({\r\n        message: \"删除全部记录？\",\r\n        beforeClose: (action, done) => {\r\n          if (action === \"confirm\") {\r\n            this.searchHistory.splice(0);\r\n            done();\r\n          } else {\r\n            done();\r\n          }\r\n        },\r\n      }).catch(() => {});\r\n    },\r\n\r\n    // 移动端长按事件\r\n    touchStartHistory() {\r\n      this.touchTime = new Date();\r\n    },\r\n    touchEndHistory(i) {\r\n      if (new Date() - this.touchTime > 400) {\r\n        this.touchTime = 0;\r\n        Dialog.confirm({\r\n          message: \"删除改条记录？\",\r\n          beforeClose: (action, done) => {\r\n            if (action === \"confirm\") {\r\n              this.searchHistory.splice(i, 1);\r\n              done();\r\n            } else {\r\n              done();\r\n            }\r\n          },\r\n        }).catch(() => {});\r\n      }\r\n    },\r\n\r\n    // 返回\r\n    toBack() {\r\n      if (this.isResult && this.keyWords !== \"\") {\r\n        this.focusKeywords(); // 回到历史记录\r\n      } else {\r\n        this.$router.back(); // 回到主页\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    // 变化就储存历史记录\r\n    searchHistory: {\r\n      deep: true,\r\n      handler() {\r\n        localStorage.setItem(\r\n          \"searchHistory\",\r\n          JSON.stringify(this.searchHistory)\r\n        );\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.nav {\r\n  z-index: 99;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-bottom: 0.4rem;\r\n}\r\n.toback-btn {\r\n  cursor: pointer;\r\n  padding-right: 0.2rem;\r\n}\r\n.btn {\r\n  padding: 0;\r\n  border: none;\r\n  background: none;\r\n  font-size: 0.4rem;\r\n  padding: 0 0.3rem;\r\n  cursor: pointer;\r\n}\r\n.search {\r\n  width: 100%;\r\n  padding: 0.15rem 0.3rem;\r\n  margin: auto;\r\n  border: 2px solid var(--theme-color2);\r\n}\r\n.clear {\r\n  position: absolute;\r\n  right: 2.1rem;\r\n  cursor: pointer;\r\n}\r\n.history {\r\n  padding: 0.4rem 0rem;\r\n}\r\n.title {\r\n  font-weight: 600;\r\n  padding: 0.2rem 0;\r\n  font-size: 0.45rem;\r\n}\r\n.history .list {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-top: 0.2rem;\r\n}\r\n.history .list .item {\r\n  margin: 0.15rem 0.2rem;\r\n  padding: 0.15rem 0.3rem;\r\n  border-radius: 0.4rem;\r\n  background-color: rgba(128, 128, 128, 0.1);\r\n  cursor: pointer;\r\n}\r\n.history .top {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 0.2rem;\r\n}\r\n.delete {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchNav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchNav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchNav.vue?vue&type=template&id=7325307b&scoped=true&\"\nimport script from \"./SearchNav.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchNav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchNav.vue?vue&type=style&index=0&id=7325307b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7325307b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"serch-toggle\"},[_c('div',{staticClass:\"topNav\"},_vm._l((_vm.option),function(p,i){return _c('div',{key:i,staticClass:\"nav-item\",class:_vm.active === i ? 'active' : '',on:{\"click\":function($event){return _vm.changeNav(i)}}},[_c('span',[_vm._v(_vm._s(p.title))])])}),0),_c('van-tabs',{staticClass:\"tabs\",attrs:{\"swipeable\":\"\",\"sticky\":\"\",\"animated\":\"\",\"line-width\":\"1.4rem\",\"title-active-color\":\"var(--theme-color2)\",\"color\":\"var(--theme-color2)\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.option),function(p,i){return _c('van-tab',{key:i},[_c('goods-list',{attrs:{\"type\":{ ...p.type }}})],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\r\n  <div class=\"serch-toggle\">\r\n    <!-- 标题 -->\r\n    <div class=\"topNav\">\r\n      <div\r\n        class=\"nav-item\"\r\n        :class=\"active === i ? 'active' : ''\"\r\n        v-for=\"(p, i) in option\"\r\n        :key=\"i\"\r\n        @click=\"changeNav(i)\"\r\n      >\r\n        <span>{{ p.title }}</span>\r\n      </div>\r\n    </div>\r\n    <van-tabs\r\n      class=\"tabs\"\r\n      v-model=\"active\"\r\n      swipeable\r\n      sticky\r\n      animated\r\n      line-width=\"1.4rem\"\r\n      title-active-color=\"var(--theme-color2)\"\r\n      color=\"var(--theme-color2)\"\r\n    >\r\n      <!-- 筛选条件 -->\r\n      <van-tab v-for=\"(p, i) in option\" :key=\"i\">\r\n        <!-- 商品列表 -->\r\n        <goods-list :type=\"{ ...p.type }\" />\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\nimport GoodsList from \"@/components/GoodsList.vue\";\r\nexport default {\r\n  name: \"SearchToggle\",\r\n  components: { GoodsList },\r\n  props: [\"keyWords\", \"cid\"],\r\n  data() {\r\n    return {\r\n      active: 0,\r\n      isSaleDes: true, // 是否降序\r\n      isPriceDes: false, // 是否降序\r\n      option: [\r\n        {\r\n          title: \"全部\",\r\n          type: { cid: this.cid, name: this.keyWords || \"\" },\r\n        },\r\n        {\r\n          title: \"新品\",\r\n          type: { cid: this.cid, name: this.keyWords || \"\", isNew: 1 },\r\n        },\r\n        {\r\n          title: \"销量降序\",\r\n          type: { cid: this.cid, name: this.keyWords || \"\", saleSort: \"Des\" },\r\n        },\r\n        {\r\n          title: \"价格升序\",\r\n          type: { cid: this.cid, name: this.keyWords || \"\", priceSort: \"Asc\" },\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  // mounted() {\r\n  //   console.log(this.option);\r\n  // },\r\n  methods: {\r\n    changeNav(i) {\r\n      if (this.active == i) {\r\n        if (i == 2) this.isSaleDes = !this.isSaleDes;\r\n        if (i == 3) this.isPriceDes = !this.isPriceDes;\r\n      } else {\r\n        this.active = i;\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    // 升序降序\r\n    isSaleDes() {\r\n      this.$set(\r\n        this.option[2],\r\n        \"title\",\r\n        this.isSaleDes ? \"销量降序\" : \"销量升序\"\r\n      );\r\n      this.$set(\r\n        this.option[2].type,\r\n        \"saleSort\",\r\n        this.isSaleDes ? \"Des\" : \"Asc\"\r\n      );\r\n    },\r\n    isPriceDes() {\r\n      this.$set(\r\n        this.option[3],\r\n        \"title\",\r\n        this.isPriceDes ? \"价格降序\" : \"价格升序\"\r\n      );\r\n      this.$set(\r\n        this.option[3].type,\r\n        \"priceSort\",\r\n        this.isPriceDes ? \"Des\" : \"Asc\"\r\n      );\r\n      this.$set(this.option[3], \"priceSort\", this.isPriceDes ? \"Des\" : \"Asc\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.tabs {\r\n  width: 100%;\r\n  height: auto;\r\n  margin-top: -50px;\r\n}\r\n.topNav {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding: 0.2rem 0;\r\n  user-select: none;\r\n  width: 100%;\r\n  position: relative;\r\n  cursor: pointer;\r\n  z-index: 1;\r\n}\r\n.nav-item {\r\n  flex: 1;\r\n  margin: 0.2rem;\r\n  text-align: center;\r\n  transition: 0.4s;\r\n}\r\n.nav-item span {\r\n  color: rgba(0, 0, 0, 0.6);\r\n  font-size: 0.4rem;\r\n  transition: 0.4s;\r\n  position: relative;\r\n}\r\n.nav-item.active span {\r\n  color: var(--theme-color4);\r\n  transition: 0.4s;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchToggle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchToggle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchToggle.vue?vue&type=template&id=3e58643e&scoped=true&\"\nimport script from \"./SearchToggle.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchToggle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchToggle.vue?vue&type=style&index=0&id=3e58643e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e58643e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"wind-init search-view\">\r\n    <search-nav\r\n      @submitSearch=\"submitSearch\"\r\n      @focusKeywords=\"focusKeywords\"\r\n      @clearKeywords=\"clearKeywords\"\r\n      :is-result=\"isResult\"\r\n    />\r\n    <search-toggle\r\n      :key-words=\"keyWords\"\r\n      :cid=\"this.$route.query?.cid\"\r\n      v-if=\"isResult\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport SearchNav from \"@/components/Search/SearchNav.vue\";\r\nimport SearchToggle from \"@/components/Search/SearchToggle.vue\";\r\nexport default {\r\n  components: { SearchNav, SearchToggle },\r\n  name: \"SearchView\",\r\n  data() {\r\n    return {\r\n      keyWords: \"\", // 关键字\r\n      isResult: false,\r\n    };\r\n  },\r\n  created() {\r\n    if (this.$route.query?.cid) {\r\n      this.isResult = false;\r\n      this.submitSearch();\r\n      this.isResult = true;\r\n    }\r\n  },\r\n  methods: {\r\n    submitSearch(value) {\r\n      this.isResult = false;\r\n      this.keyWords = value;\r\n      this.isResult = true;\r\n    },\r\n    focusKeywords(value) {\r\n      this.keyWords = value;\r\n      this.isResult = false;\r\n    },\r\n    clearKeywords(value) {\r\n      this.keyWords = value;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchView.vue?vue&type=template&id=a83430d6&scoped=true&\"\nimport script from \"./SearchView.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a83430d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"event-view\",style:(_vm.themeColor.color ? `background-color:${_vm.themeColor.color};` : '')},[_c('share-nav',{staticClass:\"top\"}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.themeColor.color),expression:\"themeColor.color\"}],staticClass:\"top animate__animated animate__fadeIn\"},[_c('van-image',{attrs:{\"src\":_vm.getImgSrc(_vm.active?.icon),\"fit\":\"cover\",\"width\":\"100%\",\"height\":\"5rem\",\"radius\":\"8px\"}}),_c('div',{staticClass:\"shade\",style:(_vm.themeColor.color\n          ? `background-image:linear-gradient(rgba(255, 255, 255, 0),${_vm.themeColor.color} 60%);`\n          : '')})],1),_c('div',{staticClass:\"content animate__animated delay animate__fadeIn\"},[_c('goods-list',{attrs:{\"req-type\":'eid'}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"share-view\"},[_c('div',{staticClass:\"top-nav-bak\"}),_c('div',{staticClass:\"top-nav\"},[_c('van-icon',{staticClass:\"icon\",attrs:{\"name\":\"arrow-left\",\"size\":\"0.6rem\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"right\"},[_c('van-icon',{staticClass:\"icon\",attrs:{\"name\":\"search\",\"size\":\"0.6rem\"},on:{\"click\":function($event){return _vm.toView(1)}}}),_c('van-icon',{staticClass:\"icon\",attrs:{\"name\":\"ellipsis\",\"size\":\"0.6rem\"},on:{\"click\":function($event){_vm.showShare = true}}})],1)],1),_c('div',{staticClass:\"share\"},[_c('van-share-sheet',{attrs:{\"title\":\"立即分享给好友\",\"options\":_vm.options},on:{\"select\":_vm.onSelect},model:{value:(_vm.showShare),callback:function ($$v) {_vm.showShare=$$v},expression:\"showShare\"}}),_c('van-dialog',{attrs:{\"title\":\"邀你，扫一扫！\"},model:{value:(_vm.showDialog),callback:function ($$v) {_vm.showDialog=$$v},expression:\"showDialog\"}},[_c('div',{ref:\"qecodeImg\",staticClass:\"qrcode\"})])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"share-view\">\r\n    <div class=\"top-nav-bak\"></div>\r\n    <!-- 导航 -->\r\n    <div class=\"top-nav\">\r\n      <!-- 顶部导航 -->\r\n      <van-icon\r\n        @click=\"$router.back()\"\r\n        name=\"arrow-left\"\r\n        class=\"icon\"\r\n        size=\"0.6rem\"\r\n      />\r\n      <div class=\"right\">\r\n        <van-icon @click=\"toView(1)\" name=\"search\" class=\"icon\" size=\"0.6rem\" />\r\n        <van-icon\r\n          @click=\"showShare = true\"\r\n          name=\"ellipsis\"\r\n          class=\"icon\"\r\n          size=\"0.6rem\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <!-- 分享 -->\r\n    <div class=\"share\">\r\n      <!-- 分享页面 -->\r\n      <van-share-sheet\r\n        v-model=\"showShare\"\r\n        title=\"立即分享给好友\"\r\n        :options=\"options\"\r\n        @select=\"onSelect\"\r\n      />\r\n      <!-- 二维码页面 -->\r\n      <van-dialog v-model=\"showDialog\" title=\"邀你，扫一扫！\">\r\n        <div class=\"qrcode\" ref=\"qecodeImg\"></div>\r\n      </van-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Dialog, Toast } from \"vant\";\r\nimport QRCode from \"qrcodejs2\";\r\nimport { copyTextAsync } from \"@/util/copy\";\r\nexport default {\r\n  name: \"ShareNav\",\r\n  data() {\r\n    return {\r\n      // 分享面板\r\n      showShare: false,\r\n      showDialog: false,\r\n      sqrcode: \"\",\r\n      options: [\r\n        { name: \"微信\", icon: \"wechat\" },\r\n        { name: \"复制链接\", icon: \"link\" },\r\n        { name: \"分享海报\", icon: \"poster\" },\r\n        { name: \"二维码\", icon: \"qrcode\" },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    // 页面跳转\r\n    toView(i) {\r\n      switch (i) {\r\n        // 前往搜索页面\r\n        case 1:\r\n          this.$router.push({\r\n            name: \"search\",\r\n            params: { animate: \"forward\" },\r\n          });\r\n          break;\r\n      }\r\n    },\r\n\r\n    // 分享面板选择\r\n    onSelect(p) {\r\n      switch (p.icon) {\r\n        case \"qrcode\":\r\n          this.showDialog = true;\r\n          this.$nextTick(() => {\r\n            if (this.sqrcode === \"\") {\r\n              this.sqrcode = new QRCode(this.$refs.qecodeImg, {\r\n                text: location.href, // 需要转换为二维码的内容\r\n                correctLevel: QRCode.CorrectLevel.H,\r\n              });\r\n            }\r\n          });\r\n          break;\r\n        default:\r\n          copyTextAsync(location.href)\r\n            .then(() => {\r\n              Dialog({\r\n                title: \" 复制成功！\",\r\n                message: location.href,\r\n              });\r\n            })\r\n            .catch(() => {\r\n              Toast(\" 用户取消了复制！\");\r\n              Dialog({\r\n                title: \" 请手动复制进行分享！\",\r\n                message: location.href,\r\n              });\r\n            });\r\n          break;\r\n      }\r\n      this.showShare = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n/* 顶部导航 */\r\n.top-nav-bak {\r\n  z-index: 10;\r\n  width: 100%;\r\n  height: 1.28rem;\r\n  backdrop-filter: blur(20px);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0.2rem;\r\n  background-color: transparent;\r\n}\r\n.top-nav {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 99;\r\n  width: 100%;\r\n  /* background-color: rgba(182, 182, 182, 0.1); */\r\n  background-image: radial-gradient(transparent 1px, var(--theme-color) 1px);\r\n  background-size: 4px 4px;\r\n  backdrop-filter: saturate(50%) blur(10px);\r\n  border-bottom: 1px solid var(--theme-color);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0.2rem;\r\n  overflow: visible;\r\n}\r\n\r\n.top-nav .icon {\r\n  padding: 0.14rem;\r\n  transition: 0.3s;\r\n  border-radius: 4px;\r\n}\r\n.top-nav .icon:hover,\r\n.top-nav .icon:active {\r\n  background-color: var(--bg-color3);\r\n  transform: scale(0.85);\r\n}\r\n\r\n/* 二维码 */\r\n.van-dialog {\r\n  width: 65%;\r\n}\r\n.qrcode {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 0.2rem;\r\n}\r\n.qrcode >>> img {\r\n  margin-top: 20px;\r\n  width: 70%;\r\n  height: 70%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShareNav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShareNav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShareNav.vue?vue&type=template&id=6d6d6c0e&scoped=true&\"\nimport script from \"./ShareNav.vue?vue&type=script&lang=js&\"\nexport * from \"./ShareNav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShareNav.vue?vue&type=style&index=0&id=6d6d6c0e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d6d6c0e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    class=\"event-view\"\r\n    :style=\"themeColor.color ? `background-color:${themeColor.color};` : ''\"\r\n  >\r\n    <!-- 顶部导航 -->\r\n    <share-nav class=\"top\" />\r\n    <!-- 背景 -->\r\n    <div\r\n      class=\"top animate__animated animate__fadeIn\"\r\n      v-show=\"themeColor.color\"\r\n    >\r\n      <van-image\r\n        :src=\"getImgSrc(active?.icon)\"\r\n        fit=\"cover\"\r\n        width=\"100%\"\r\n        height=\"5rem\"\r\n        radius=\"8px\"\r\n      />\r\n      <div\r\n        class=\"shade\"\r\n        :style=\"\r\n          themeColor.color\r\n            ? `background-image:linear-gradient(rgba(255, 255, 255, 0),${themeColor.color} 60%);`\r\n            : ''\r\n        \"\r\n      ></div>\r\n    </div>\r\n    <!-- 内容 -->\r\n    <div class=\"content animate__animated delay animate__fadeIn\">\r\n      <goods-list :req-type=\"'eid'\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport analyze from \"rgbaster\"; // 色调分析器\r\nimport GoodsList from \"@/components/GoodsList.vue\";\r\nimport ShareNav from \"@/components/Detail/ShareNav.vue\";\r\nimport { getEventActives, getResourImageByName } from \"@/api/res\";\r\nexport default {\r\n  components: { GoodsList, ShareNav },\r\n  name: \"EventView\",\r\n  data() {\r\n    return {\r\n      active: {},\r\n      themeColor: {}, // 主色调\r\n    };\r\n  },\r\n  created() {\r\n    // 请求活动\r\n    (async () => {\r\n      const res = await getEventActives();\r\n      if (res.data.code === 20011) {\r\n        res.data.data.forEach((p) => {\r\n          if (p.id == this.$route.query?.eid) {\r\n            this.active = p;\r\n            // 浏览器标题设置 活动名称\r\n            document.title = p.name || this.$route.meta?.title;\r\n          }\r\n        });\r\n      }\r\n      return res.data.code === 20011;\r\n    })().then(() => {\r\n      const url = this.getImgSrc(this.active?.icon);\r\n      analyze(url, { scale: 0.1 })\r\n        .then((res) => {\r\n          this.themeColor = res[0];\r\n        })\r\n        .catch(() => {});\r\n    });\r\n  },\r\n  methods: {\r\n    getImgSrc(url) {\r\n      return getResourImageByName(url);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.top >>> .top-nav {\r\n  background-image: none;\r\n  backdrop-filter: blur(4px);\r\n  border-bottom: none;\r\n  background-color: transparent;\r\n}\r\n.event-view {\r\n  width: 100%;\r\n  min-height: 100vh;\r\n}\r\n\r\n.top {\r\n  position: relative;\r\n}\r\n.shade {\r\n  position: absolute;\r\n  bottom: -1rem;\r\n  width: 100%;\r\n  height: 2rem;\r\n  z-index: 1;\r\n}\r\n.animate__animated.delay {\r\n  animation-delay: calc(var(--router-delay) * 2);\r\n}\r\n.content {\r\n  padding: 0.2rem 0.3rem;\r\n}\r\n.content >>> .van-list__finished-text {\r\n  opacity: 0.7;\r\n  font-size: 0.4rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EventView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EventView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventView.vue?vue&type=template&id=c8dea5d6&scoped=true&\"\nimport script from \"./EventView.vue?vue&type=script&lang=js&\"\nexport * from \"./EventView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventView.vue?vue&type=style&index=0&id=c8dea5d6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8dea5d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('default-page',{attrs:{\"title\":\"积分卡\"}},[_c('div',{staticClass:\"v-card animate__animated animate__fadeInLeft\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"积分：\")]),_c('div',{staticClass:\"points\"},[_vm._v(_vm._s(_vm.purseInfo?.points))])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"view\"},[_c('top-nav',{attrs:{\"title\":_vm.title,\"r-title\":_vm.rtitle},on:{\"click-left\":function($event){return _vm.toBack()},\"click-right\":_vm.clickRight}}),_c('div',{staticClass:\"content\"},[_vm._t(\"default\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"view\">\r\n    <top-nav\r\n      :title=\"title\"\r\n      @click-left=\"toBack()\"\r\n      :r-title=\"rtitle\"\r\n      @click-right=\"clickRight\"\r\n    />\r\n    <div class=\"content\">\r\n      <!-- 内容 -->\r\n      <slot name=\"default\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TopNav from \"@/components/TopNav.vue\";\r\nexport default {\r\n  props: {\r\n    // 标题\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n      required: false,\r\n    },\r\n    // left\r\n    ltitle: {\r\n      type: String,\r\n      default: \"\",\r\n      required: false,\r\n    },\r\n    // right\r\n    rtitle: {\r\n      type: String,\r\n      default: \"\",\r\n      required: false,\r\n    },\r\n  },\r\n  components: { TopNav },\r\n  name: \"DefaultPage\",\r\n  methods: {\r\n    clickRight() {\r\n      this.$emit(\"clickRight\");\r\n    },\r\n    toBack() {\r\n      if (this.$route.params.animate) {\r\n        this.$router.back();\r\n      } else {\r\n        this.$router.push({\r\n          name: \"home\",\r\n          params: {\r\n            animate: \"forward\",\r\n          },\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.content {\r\n  padding: 0.1rem 0.3rem;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DefaultPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DefaultPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DefaultPage.vue?vue&type=template&id=41991be4&scoped=true&\"\nimport script from \"./DefaultPage.vue?vue&type=script&lang=js&\"\nexport * from \"./DefaultPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DefaultPage.vue?vue&type=style&index=0&id=41991be4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41991be4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <default-page title=\"积分卡\">\r\n    <div class=\"v-card animate__animated animate__fadeInLeft\">\r\n      <div class=\"left\">\r\n        <div class=\"title\">积分：</div>\r\n        <div class=\"points\">{{ purseInfo?.points }}</div>\r\n      </div>\r\n    </div>\r\n  </default-page>\r\n</template>\r\n\r\n<script>\r\nimport DefaultPage from \"@/components/DefaultPage.vue\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  components: { DefaultPage },\r\n  name: \"RechargeView\",\r\n  computed: {\r\n    ...mapState([\"purseInfo\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.v-card {\r\n  background-color: var(--bg-color);\r\n  color: var(--text-color);\r\n  padding: 0.6rem 0.8rem;\r\n}\r\n.v-card .left {\r\n  font-weight: 600;\r\n  line-height: 0.8rem;\r\n}\r\n.left .points {\r\n  font-size: 0.8rem;\r\n  color: var(--text-color);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RechargeView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RechargeView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RechargeView.vue?vue&type=template&id=df52aeba&scoped=true&\"\nimport script from \"./RechargeView.vue?vue&type=script&lang=js&\"\nexport * from \"./RechargeView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RechargeView.vue?vue&type=style&index=0&id=df52aeba&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df52aeba\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"purse-view\"},[_c('top-nav',{attrs:{\"title\":'我的钱包'},on:{\"click-left\":function($event){return _vm.$router.back()}}}),(!_vm.isError)?_c('main',[_c('div',{staticClass:\"v-card top-card animate__animated animate__fadeInUp\"},[_c('div',{staticClass:\"left\"},[_c('label',[_vm._v(\"余额\")]),_c('label',{staticClass:\"btm\",on:{\"click\":_vm.reqPurseInfo}},[_c('span',{staticClass:\"tp\"},[_vm._v(\"￥\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLodaing),expression:\"!isLodaing\"}],staticClass:\"big\"},[_vm._v(_vm._s(Number(this.purseInfo?.balance).toFixed(2) || \"0.00\"))]),_c('van-loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLodaing),expression:\"isLodaing\"}],staticClass:\"load\",attrs:{\"color\":\"var(--text-color)\",\"size\":\"0.6rem\"}})],1)]),_vm._m(0)]),_c('div',{staticClass:\"bottoms\"},[_vm._m(1),_c('div',{staticClass:\"combo\"},[_vm._l((_vm.chargeCombo),function(p){return _c('div',{key:p.id,staticClass:\"v-click v-card item\",on:{\"click\":function($event){return _vm.toReCharge(1, p.price, p.points, p.id)}}},[_c('div',{staticClass:\"price\"},[_vm._v(_vm._s(p?.price))]),_c('div',{staticClass:\"active\"},[_vm._v(\" 送 \"),_c('span',{staticStyle:{\"color\":\"var(--tip-color)\"}},[_vm._v(_vm._s(p?.points))]),_vm._v(\" 积分 \")])])}),_c('div',{key:2333,staticClass:\"v-click v-card item\",staticStyle:{\"opacity\":\"0.8\"},on:{\"click\":function($event){_vm.showCustomCharge = true}}},[_c('div',{staticClass:\"price\",staticStyle:{\"font-size\":\"0.4rem\"}},[_vm._v(\"自定义\")]),_vm._m(2)])],2)])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isError),expression:\"!isError\"}],staticClass:\"btm-text\"},[_vm._v(\" —————— 理性消费，共建共享 —————— \")]),_c('van-popup',{staticClass:\"v-card user-popup\",attrs:{\"transition\":\"popup\"},model:{value:(_vm.showCustomCharge),callback:function ($$v) {_vm.showCustomCharge=$$v},expression:\"showCustomCharge\"}},[_c('span',{staticClass:\"title\"},[_vm._v(\"充值金额\")]),_c('small',[_vm._v(\"（单位:元）\")]),_c('van-field',{staticClass:\"v-input\",attrs:{\"placeholder\":\"请输入金额\",\"type\":\"number\"},model:{value:(_vm.customValues),callback:function ($$v) {_vm.customValues=$$v},expression:\"customValues\"}}),_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"v-btn v-cancel\",on:{\"click\":function($event){_vm.showCustomCharge = false}}},[_vm._v(\" 取消 \")]),_c('button',{staticClass:\"v-btn\",on:{\"click\":function($event){return _vm.toReCharge(0, _vm.customValues)}}},[_vm._v(\"确定\")])])],1),(_vm.isError)?_c('error-card',{attrs:{\"image\":'network',\"text\":\"网络错误，请稍后再试！\"},on:{\"refresh\":_vm.window.reload}}):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"right\"},[_c('img',{staticClass:\"bg\",attrs:{\"src\":require(\"@/assets/image/icon/balance_icon.png\")}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"center-title\"},[_c('label',[_vm._v(\"充值套餐\")]),_c('span',[_vm._v(\"（单位:￥）\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"active\"},[_vm._v(\" 输入\"),_c('span',{staticStyle:{\"color\":\"var(--tip-color)\"}},[_vm._v(\"充值\")]),_vm._v(\"金额 \")])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-empty',{staticClass:\"error\",attrs:{\"image-size\":\"3rem\",\"image\":_vm.image,\"description\":_vm.text || '请稍后再试！'}},[_c('button',{staticClass:\"v-btn\",attrs:{\"type\":\"submit\"},on:{\"click\":_vm.reqHttp}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLoading),expression:\"!isLoading\"}]},[_vm._v(_vm._s(_vm.btnText || \"刷新\"))]),_c('van-loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"type\":\"spinner\",\"color\":\"var(--text-color)\",\"size\":\"0.6rem\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 网络错误 -->\r\n  <van-empty\r\n    class=\"error\"\r\n    image-size=\"3rem\"\r\n    :image=\"image\"\r\n    :description=\"text || '请稍后再试！'\"\r\n  >\r\n    <button type=\"submit\" class=\"v-btn\" @click=\"reqHttp\">\r\n      <span v-show=\"!isLoading\">{{ btnText || \"刷新\" }}</span>\r\n      <van-loading\r\n        type=\"spinner\"\r\n        color=\"var(--text-color)\"\r\n        v-show=\"isLoading\"\r\n        size=\"0.6rem\"\r\n      />\r\n    </button>\r\n  </van-empty>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"ErrorCard\",\r\n  props: [\"image\", \"text\", \"btnText\"],\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    reqHttp() {\r\n      this.isLoading = true;\r\n      this.timer = setTimeout(() => {\r\n        this.$emit(\"refresh\");\r\n        this.isLoading = false;\r\n      }, 500);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n/* 空白框重新定义 */\r\n.van-empty {\r\n  width: 100%;\r\n  font-size: 0.4rem;\r\n}\r\n.van-empty .v-btn {\r\n  box-sizing: border-box;\r\n  width: 2rem;\r\n  height: 1rem;\r\n  padding: 0.1rem;\r\n  font-size: 0.3rem;\r\n}\r\n.van-empty >>> .van-empty__description {\r\n  font-size: 0.36rem;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ErrorCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ErrorCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ErrorCard.vue?vue&type=template&id=ba27c792&scoped=true&\"\nimport script from \"./ErrorCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ErrorCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ErrorCard.vue?vue&type=style&index=0&id=ba27c792&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ba27c792\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"purse-view\">\r\n    <top-nav :title=\"'我的钱包'\" @click-left=\"$router.back()\" />\r\n    <!-- 主内容 -->\r\n    <main v-if=\"!isError\">\r\n      <!-- 钱包卡片 -->\r\n      <div class=\"v-card top-card animate__animated animate__fadeInUp\">\r\n        <div class=\"left\">\r\n          <label>余额</label>\r\n          <label @click=\"reqPurseInfo\" class=\"btm\">\r\n            <span class=\"tp\">￥</span>\r\n            <span class=\"big\" v-show=\"!isLodaing\">{{\r\n              Number(this.purseInfo?.balance).toFixed(2) || \"0.00\"\r\n            }}</span>\r\n            <van-loading\r\n              class=\"load\"\r\n              v-show=\"isLodaing\"\r\n              color=\"var(--text-color)\"\r\n              size=\"0.6rem\"\r\n            />\r\n          </label>\r\n        </div>\r\n        <div class=\"right\">\r\n          <img src=\"@/assets/image/icon/balance_icon.png\" class=\"bg\" />\r\n        </div>\r\n      </div>\r\n      <!-- 底部 -->\r\n      <div class=\"bottoms\">\r\n        <!-- 标题 -->\r\n        <div class=\"center-title\">\r\n          <label>充值套餐</label>\r\n          <span>（单位:￥）</span>\r\n        </div>\r\n        <!-- 底部套餐 -->\r\n        <div class=\"combo\">\r\n          <div\r\n            @click=\"toReCharge(1, p.price, p.points, p.id)\"\r\n            class=\"v-click v-card item\"\r\n            v-for=\"p in chargeCombo\"\r\n            :key=\"p.id\"\r\n          >\r\n            <div class=\"price\">{{ p?.price }}</div>\r\n            <div class=\"active\">\r\n              送\r\n              <span style=\"color: var(--tip-color)\">{{ p?.points }}</span>\r\n              积分\r\n            </div>\r\n          </div>\r\n          <!-- 自定义充值 -->\r\n          <div\r\n            @click=\"showCustomCharge = true\"\r\n            class=\"v-click v-card item\"\r\n            :key=\"2333\"\r\n            style=\"opacity: 0.8\"\r\n          >\r\n            <div class=\"price\" style=\"font-size: 0.4rem\">自定义</div>\r\n            <div class=\"active\">\r\n              输入<span style=\"color: var(--tip-color)\">充值</span>金额\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n    <div class=\"btm-text\" v-show=\"!isError\">\r\n      ——————&emsp;理性消费，共建共享&emsp;——————\r\n    </div>\r\n\r\n    <!-- 自定义充值弹窗 -->\r\n    <van-popup\r\n      transition=\"popup\"\r\n      v-model=\"showCustomCharge\"\r\n      class=\"v-card user-popup\"\r\n    >\r\n      <span class=\"title\">充值金额</span>\r\n      <small>（单位:元）</small>\r\n      <van-field\r\n        class=\"v-input\"\r\n        placeholder=\"请输入金额\"\r\n        v-model=\"customValues\"\r\n        type=\"number\"\r\n      />\r\n      <div class=\"btn-group\">\r\n        <button class=\"v-btn v-cancel\" @click=\"showCustomCharge = false\">\r\n          取消\r\n        </button>\r\n        <button class=\"v-btn\" @click=\"toReCharge(0, customValues)\">确定</button>\r\n      </div>\r\n    </van-popup>\r\n    <!-- 网络错误 -->\r\n    <error-card\r\n      v-if=\"isError\"\r\n      @refresh=\"window.reload\"\r\n      :image=\"'network'\"\r\n      text=\"网络错误，请稍后再试！\"\r\n    />\r\n  </div>\r\n</template>\r\n<script scoped>\r\nimport {\r\n  getPurseInfo,\r\n  reChargeByBombo,\r\n  reChargeByValue,\r\n} from \"@/api/user/purse\";\r\nimport { getRechargeCombo } from \"@/api/user/purse\";\r\nimport TopNav from \"@/components/TopNav.vue\";\r\nimport ErrorCard from \"@/components/ErrorCard.vue\";\r\nimport { Dialog, Notify } from \"vant\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  components: { TopNav, ErrorCard },\r\n  name: \"PurseView\",\r\n  data() {\r\n    return {\r\n      chargeCombo: [], // 充值套餐\r\n      isLodaing: true, // 加载\r\n      showCustomCharge: false, // 自定义\r\n      isError: false, // 404\r\n      timer: \"\",\r\n      customValues: \"\",\r\n    };\r\n  },\r\n  computed: { ...mapState([\"purseInfo\"]) },\r\n  mounted() {\r\n    // 获取钱包余额\r\n    this.reqPurseInfo();\r\n    // 获取充值套餐\r\n    this.getCombo();\r\n  },\r\n  methods: {\r\n    // 请求钱包信息\r\n    reqPurseInfo() {\r\n      if (this.timer !== \"\") return;\r\n      this.isLodaing = true;\r\n      this.timer = setTimeout(async () => {\r\n        const res = await getPurseInfo(this.$store.getters.token);\r\n        if (res.status == 200 && res.data.code === 20011) {\r\n          this.$store.commit(\"setPurseInfo\", res.data.data);\r\n          this.timer = \"\";\r\n          this.isLodaing = false;\r\n          return;\r\n        }\r\n        this.isError = true;\r\n      }, 800);\r\n    },\r\n    // 获取套餐\r\n    async getCombo() {\r\n      const res = await getRechargeCombo(this.$store.getters.token);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.chargeCombo = res.data.data;\r\n        return;\r\n      }\r\n      this.isError = true;\r\n    },\r\n\r\n    // 充值对应的金额\r\n    toReCharge(type, price, points, id) {\r\n      let msg = points ? `,赠送${points}积分` : \"\";\r\n      Dialog.confirm({\r\n        title: \"是否充值？\",\r\n        message: `您将充值${price}元${msg}`,\r\n        beforeClose: (action, done) => {\r\n          if (action === \"confirm\") {\r\n            setTimeout(async () => {\r\n              // 请求 套餐充值 、 自定义充值\r\n              const res = type\r\n                ? await reChargeByBombo(type, id, this.$store.getters.token)\r\n                : await reChargeByValue(\r\n                    type,\r\n                    this.customValues,\r\n                    this.$store.getters.token\r\n                  );\r\n              // console.log(res);\r\n              if (res.status === 200 && res.data.code === 20011) {\r\n                this.showCustomCharge = false;\r\n                this.customValues = \"\";\r\n                Notify({ message: \"充值成功！\", type: \"success\" });\r\n                this.reqPurseInfo(); // 重新获取\r\n              } else {\r\n                Notify({ message: \"充值失败！\", type: \"danger\" });\r\n              }\r\n              done(); // 完成\r\n            }, 1500);\r\n          } else {\r\n            done(); // 完成\r\n          }\r\n        },\r\n      }).catch(() => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n<style scoped>\r\n.purse-view {\r\n  padding: 0.2rem 0;\r\n  overflow: hidden;\r\n  user-select: none;\r\n}\r\n/* 顶部卡片 */\r\n.top-card {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0.6rem 0.8rem;\r\n  font-weight: 600;\r\n  color: var(--text-color);\r\n  background-color: var(--theme-color2);\r\n  margin: 0.4rem 0.3rem;\r\n  margin-bottom: 0;\r\n  transition: 0.4s;\r\n  height: 3.8rem;\r\n  border-radius: 10px 10px 0 0;\r\n}\r\n.top-card .left {\r\n  display: flex;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  transition: 0.4s;\r\n}\r\n.top-card .left label {\r\n  padding: 0.1rem 0;\r\n  display: inline-block;\r\n}\r\n.top-card .left .btm {\r\n  height: 1rem;\r\n  display: flex;\r\n  align-items: flex-end;\r\n}\r\n.top-card .left .big {\r\n  margin-bottom: -0.2rem;\r\n}\r\n.top-card .load {\r\n  display: inline-block;\r\n}\r\n.top-card .left .big {\r\n  font-size: 0.9rem;\r\n  font-family: sans-serif;\r\n  cursor: pointer;\r\n}\r\n.top-card .right img {\r\n  display: block;\r\n  width: 2rem;\r\n  object-fit: contain;\r\n}\r\n\r\n/* 底部套餐 */\r\n.bottoms {\r\n  margin-top: -0.4rem;\r\n  position: relative;\r\n  box-shadow: rgba(128, 128, 128, 0.3) 0 -2px 4px;\r\n  border-radius: 10px 10px 0 0;\r\n  padding: 0.3rem 0.2rem;\r\n  background-color: var(--theme-color);\r\n}\r\n.combo {\r\n  display: grid;\r\n  justify-content: space-around;\r\n  grid-template-columns: repeat(3, 3.2rem);\r\n}\r\n.combo .item {\r\n  padding: 0.2rem 0.2rem;\r\n  border: 1px solid var(--border-color);\r\n  background-color: var(--theme-color);\r\n  border-radius: 8px;\r\n  margin: 0.2rem;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n.item .price {\r\n  font-weight: 600;\r\n  font-size: 0.5rem;\r\n  color: var(--theme-color4);\r\n  padding-bottom: 0.1rem;\r\n}\r\n.item .active {\r\n  font-size: 0.3rem;\r\n  color: var(--text-color3);\r\n}\r\n.btm-text {\r\n  width: 100%;\r\n  text-align: center;\r\n  color: var(--text-color3);\r\n  opacity: 0.6;\r\n  font-size: 0.2rem;\r\n}\r\n.center-title {\r\n  width: 100%;\r\n  padding: 0.2rem;\r\n}\r\n.center-title span {\r\n  font-size: 0.32rem;\r\n}\r\n\r\n/* 自定义充值 */\r\n.user-popup {\r\n  width: 80%;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding-top: 0.5rem;\r\n}\r\n.user-popup .title {\r\n  font-size: 0.45rem;\r\n  font-weight: 600;\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n.user-popup .v-input {\r\n  width: 82%;\r\n  border: 1px solid var(--border-color);\r\n  background-color: var(--bg-color5);\r\n  margin-top: 0.4rem;\r\n  padding-left: 0.4rem;\r\n}\r\n.user-popup .btn-group {\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PurseView.vue?vue&type=script&scoped=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PurseView.vue?vue&type=script&scoped=true&lang=js&\"","import { render, staticRenderFns } from \"./PurseView.vue?vue&type=template&id=4b7c6eab&scoped=true&\"\nimport script from \"./PurseView.vue?vue&type=script&scoped=true&lang=js&\"\nexport * from \"./PurseView.vue?vue&type=script&scoped=true&lang=js&\"\nimport style0 from \"./PurseView.vue?vue&type=style&index=0&id=4b7c6eab&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b7c6eab\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user-view\"},[_c('top-nav',{attrs:{\"title\":\"账号与安全\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"contain flex-col\",on:{\"click\":function($event){_vm.showIconPanel = true}}},[_c('div',{staticClass:\"user-icon\"},[_c('van-image',{attrs:{\"src\":_vm.userIcon,\"round\":\"\",\"fit\":\"cover\",\"width\":\"100%\",\"height\":\"100%\"}}),_c('van-icon',{staticClass:\"flex-center-center tip\",attrs:{\"name\":\"edit\",\"size\":\"0.5rem\"}})],1)]),_c('van-cell-group',{staticClass:\"group\",attrs:{\"inset\":\"\"}},[_c('van-cell',{attrs:{\"title\":\"ID\",\"value\":_vm.userInfo.id},on:{\"click\":function($event){return _vm.copyId(_vm.userInfo.id)}}}),_vm._l((_vm.option),function(p,i){return _c('van-cell',{key:p.title,attrs:{\"title\":p.title,\"is-link\":\"\",\"value\":_vm.userInfo[p.value]},on:{\"click\":function($event){return _vm.openInfoPanel(i, p.value)}}})})],2),_c('change-icon',{model:{value:(_vm.showIconPanel),callback:function ($$v) {_vm.showIconPanel=$$v},expression:\"showIconPanel\"}}),_c('van-popup',{staticClass:\"flex-col info-popup\",attrs:{\"closeable\":\"\",\"position\":\"bottom\",\"round\":\"\"},model:{value:(_vm.showInfoPanel),callback:function ($$v) {_vm.showInfoPanel=$$v},expression:\"showInfoPanel\"}},[_c('label',{staticClass:\"in-title\"},[_vm._v(\"修改\"+_vm._s(_vm.option[_vm.active].title))]),_c('van-field',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active === 0),expression:\"active === 0\"}],staticClass:\"v-input\",attrs:{\"clear-trigger\":\"always\",\"placeholder\":\" 请输入新昵称\",\"left-icon\":\"contact\"},model:{value:(_vm.user.nickname),callback:function ($$v) {_vm.$set(_vm.user, \"nickname\", $$v)},expression:\"user.nickname\"}}),_c('van-field',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active === 1),expression:\"active === 1\"}],staticClass:\"v-input\",attrs:{\"clear-trigger\":\"always\",\"placeholder\":\" 请输入新账号\",\"left-icon\":\"friends-o\",\"disabled\":_vm.isDisUsername},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}}),_c('change-phone',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active === 2),expression:\"active === 2\"}],model:{value:(_vm.showInfoPanel),callback:function ($$v) {_vm.showInfoPanel=$$v},expression:\"showInfoPanel\"}}),_c('van-field',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active === 3),expression:\"active === 3\"}],staticClass:\"v-input\",attrs:{\"placeholder\":\" 请输入旧密码\",\"type\":\"password\",\"left-icon\":\"contact\"},model:{value:(_vm.user.oldPwd),callback:function ($$v) {_vm.$set(_vm.user, \"oldPwd\", $$v)},expression:\"user.oldPwd\"}}),_c('van-field',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active === 3),expression:\"active === 3\"}],staticClass:\"v-input\",attrs:{\"placeholder\":\" 请输入新密码\",\"type\":\"password\",\"left-icon\":\"closed-eye\"},model:{value:(_vm.user.newPwd),callback:function ($$v) {_vm.$set(_vm.user, \"newPwd\", $$v)},expression:\"user.newPwd\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active !== 2),expression:\"active !== 2\"}],staticClass:\"btns\"},[_c('input',{staticClass:\"v-btn v-cancel\",attrs:{\"type\":\"button\",\"value\":\"取消\"},on:{\"click\":function($event){_vm.showInfoPanel = false}}}),_c('input',{staticClass:\"v-btn\",attrs:{\"type\":\"button\",\"value\":\"保存\"},on:{\"click\":_vm.updateUser}})])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ChangePhone\"},[(!_vm.isUser)?_c('div',{staticClass:\"first\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"请查看 \"+_vm._s(_vm.getPhoneFormat)+\" 收到的验证码\")]),_c('van-field',{staticClass:\"v-input code-input\",attrs:{\"type\":\"number\",\"size\":\"6\",\"left-icon\":\"label-o\",\"placeholder\":\" 验证码\",\"rules\":[{ required: true }]},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.codeFont),expression:\"codeFont\"}],staticClass:\"right-btn\",style:(_vm.codeFontDis ? 'opacity:0.7;' : 'opacity:1;'),attrs:{\"type\":\"button\",\"disabled\":_vm.codeFontDis},domProps:{\"value\":(_vm.codeFont)},on:{\"click\":_vm.getLoginCode,\"input\":function($event){if($event.target.composing)return;_vm.codeFont=$event.target.value}}})]},proxy:true}],null,false,3977395137),model:{value:(_vm.oldCode),callback:function ($$v) {_vm.oldCode=$$v},expression:\"oldCode\"}}),_c('div',{staticClass:\"btn-group\"},[_c('input',{staticClass:\"v-btn\",attrs:{\"type\":\"button\",\"value\":\"下一步\"},on:{\"click\":_vm.toLoginByReg}})])],1):_vm._e(),(_vm.isUser)?_c('div',{staticClass:\"second\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"请输入新的手机号并验证\")]),_c('van-field',{staticClass:\"v-input code-input\",attrs:{\"type\":\"tel\",\"size\":\"11\",\"left-icon\":\"label-o\",\"placeholder\":\" 输入新的手机号\",\"rules\":[{ required: true }]},model:{value:(_vm.newPhone),callback:function ($$v) {_vm.newPhone=$$v},expression:\"newPhone\"}}),_c('van-field',{staticClass:\"v-input code-input\",attrs:{\"type\":\"number\",\"size\":\"6\",\"left-icon\":\"label-o\",\"placeholder\":\" 验证码\",\"rules\":[{ required: true }]},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.codeFont),expression:\"codeFont\"}],staticClass:\"right-btn\",style:(_vm.codeFontDis ? 'opacity:0.7;' : 'opacity:1;'),attrs:{\"type\":\"button\",\"disabled\":_vm.codeFontDis},domProps:{\"value\":(_vm.codeFont)},on:{\"click\":_vm.getLoginCode,\"input\":function($event){if($event.target.composing)return;_vm.codeFont=$event.target.value}}})]},proxy:true}],null,false,3977395137),model:{value:(_vm.newCode),callback:function ($$v) {_vm.newCode=$$v},expression:\"newCode\"}}),_c('div',{staticClass:\"btn-group\"},[_c('input',{staticClass:\"v-btn\",attrs:{\"type\":\"button\",\"value\":\"确认修改\"},on:{\"click\":_vm.updatePhone}})])],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ChangePhone\">\r\n    <!-- 验证本人 -->\r\n    <div class=\"first\" v-if=\"!isUser\">\r\n      <span class=\"title\">请查看 {{ getPhoneFormat }} 收到的验证码</span>\r\n      <van-field\r\n        v-model=\"oldCode\"\r\n        type=\"number\"\r\n        size=\"6\"\r\n        left-icon=\"label-o\"\r\n        placeholder=\" 验证码\"\r\n        class=\"v-input code-input\"\r\n        :rules=\"[{ required: true }]\"\r\n      >\r\n        <template #button>\r\n          <!-- 获取验证码 -->\r\n          <input\r\n            type=\"button\"\r\n            class=\"right-btn\"\r\n            @click=\"getLoginCode\"\r\n            :disabled=\"codeFontDis\"\r\n            v-model=\"codeFont\"\r\n            :style=\"codeFontDis ? 'opacity:0.7;' : 'opacity:1;'\"\r\n        /></template>\r\n      </van-field>\r\n      <!-- 按钮 -->\r\n      <div class=\"btn-group\">\r\n        <input\r\n          @click=\"toLoginByReg\"\r\n          type=\"button\"\r\n          value=\"下一步\"\r\n          class=\"v-btn\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <!-- 修改手机号 -->\r\n    <div class=\"second\" v-if=\"isUser\">\r\n      <span class=\"title\">请输入新的手机号并验证</span>\r\n      <van-field\r\n        v-model=\"newPhone\"\r\n        type=\"tel\"\r\n        size=\"11\"\r\n        left-icon=\"label-o\"\r\n        placeholder=\" 输入新的手机号\"\r\n        class=\"v-input code-input\"\r\n        :rules=\"[{ required: true }]\"\r\n      />\r\n      <van-field\r\n        v-model=\"newCode\"\r\n        type=\"number\"\r\n        size=\"6\"\r\n        left-icon=\"label-o\"\r\n        placeholder=\" 验证码\"\r\n        class=\"v-input code-input\"\r\n        :rules=\"[{ required: true }]\"\r\n      >\r\n        <template #button>\r\n          <!-- 获取验证码 -->\r\n          <input\r\n            type=\"button\"\r\n            class=\"right-btn\"\r\n            @click=\"getLoginCode\"\r\n            :disabled=\"codeFontDis\"\r\n            v-model=\"codeFont\"\r\n            :style=\"codeFontDis ? 'opacity:0.7;' : 'opacity:1;'\"\r\n        /></template>\r\n      </van-field>\r\n      <!-- 按钮 -->\r\n      <div class=\"btn-group\">\r\n        <input\r\n          @click=\"updatePhone\"\r\n          type=\"button\"\r\n          value=\"确认修改\"\r\n          class=\"v-btn\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  loginByCode,\r\n  getLoginCode,\r\n  updatePhone,\r\n  getUpdateCode,\r\n} from \"@/api/user/users\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"ChangePhone\",\r\n  data() {\r\n    return {\r\n      // 旧号码是否本人（重新验证登录）\r\n      isUser: false,\r\n      oldCode: \"\",\r\n\r\n      timer: \"\",\r\n      // 新号码获取验证码\r\n      newPhone: \"\",\r\n      newCode: \"\",\r\n      codeFont: \"获取\",\r\n      codeFontDis: false,\r\n      phoneReg:\r\n        /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\"]),\r\n    getPhoneFormat() {\r\n      return this.userInfo.phone.replace(/^(\\d{3})\\d{4}(\\d{4})$/, \"$1****$2\");\r\n    },\r\n  },\r\n  methods: {\r\n    // 1）请求验证码\r\n    async getLoginCode() {\r\n      if (this.timer !== \"\") {\r\n        return;\r\n      }\r\n      if (!this.phoneReg.test(this.newPhone) && this.isUser) {\r\n        return this.$toast(\"手机号格式错误！\");\r\n      }\r\n\r\n      if (this.userInfo.phone === this.newPhone) {\r\n        return this.$toast(\"新旧手机号不能一致！\");\r\n      }\r\n      this.codeBtnInit(); // 获取按钮状态\r\n\r\n      //  验证登录or修改新手机 验证码\r\n      const res = this.isUser\r\n        ? await getUpdateCode(this.newPhone, this.$store.getters.token)\r\n        : await getLoginCode(this.userInfo.phone);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.$notify({\r\n          type: \"success\",\r\n          message: `获取成功，请查看手机验证码！`,\r\n          duration: 5000,\r\n        });\r\n        // this.$notify({\r\n        //   type: \"success\",\r\n        //   message: `获取成功！验证码为：\\n${res.data.data}`,\r\n        //   duration: 5000,\r\n        // });\r\n        // 剪切板\r\n        // copyTextAsync(res.data.data)\r\n        //   .then(() => {\r\n        //     this.$toast(\"自动复制到剪切板！\");\r\n        //   })\r\n        //   .catch();\r\n        // if (!this.isUser) {\r\n        //   // 验证旧登录\r\n        //   this.oldCode = res.data.data; // 自动填写\r\n        // } else {\r\n        //   // 验证新手机\r\n        //   this.newCode = res.data.data; // 自动填写\r\n        // }\r\n      } else {\r\n        if (this.isUser) {\r\n          this.$notify({\r\n            type: \"danger\",\r\n            message: `此手机号已被绑定！`,\r\n          });\r\n        } else {\r\n          this.$notify({\r\n            type: \"danger\",\r\n            message: `错误，请稍后重试！`,\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    // 2) 验证码登录\r\n    async toLoginByReg() {\r\n      // 验证码登录验证\r\n      const res = await loginByCode(this.userInfo.phone, this.oldCode);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.isUser = true; // 登录成功\r\n        this.$notify({\r\n          type: \"success\",\r\n          message: `验证成功！`,\r\n          duration: 1000,\r\n        });\r\n        // 修改token\r\n        this.$store.commit(\"setToken\", { token: res.data.data });\r\n      } else {\r\n        this.$notify({ type: \"danger\", message: \"验证码错误！\" });\r\n      }\r\n    },\r\n\r\n    // 3) 更新手机号\r\n    async updatePhone() {\r\n      this.$toast.loading({ duration: 0, forbidClick: true });\r\n      const res = await updatePhone(\r\n        this.newPhone,\r\n        this.newCode,\r\n        this.$store.getters.token\r\n      );\r\n      this.$toast.clear();\r\n      // console.log(res.data);\r\n      if (res.status === 200 && res.dat.code === 20011) {\r\n        this.$notify({ type: \"success\", message: \"修改成功！\" });\r\n        this.$emit(\"input\", false);\r\n        this.$set(this.userInfo, \"phone\", this.newPhone);\r\n        this.init();\r\n      } else {\r\n        this.$notify({ type: \"danger\", message: \"修改失败！\" });\r\n      }\r\n    },\r\n\r\n    // 获取验证码按钮\r\n    codeBtnInit() {\r\n      this.codeFontDis = true;\r\n      let times = 30;\r\n      this.timer = setInterval(() => {\r\n        times--;\r\n        this.codeFont = times + \"s\";\r\n        if (times === 0) {\r\n          this.reCodeBtnInit();\r\n        } else {\r\n          this.codeFont = times + \"s\";\r\n        }\r\n      }, 1000);\r\n    },\r\n    // 重置获取按钮状态\r\n    reCodeBtnInit() {\r\n      this.codeFont = \"获取\";\r\n      this.codeFontDis = false;\r\n      clearInterval(this.timer);\r\n      this.timer = \"\";\r\n    },\r\n    // 重置\r\n    init() {\r\n      this.reCodeBtnInit();\r\n      this.isUser = false;\r\n      this.oldCode = \"\";\r\n      clearInterval(this.timer);\r\n      this.timer = \"\";\r\n      this.newPhone = \"\"; // 新号码获取验证码\r\n      this.newCode = \"\";\r\n      this.codeFont = \"获取\";\r\n      this.codeFontDis = false;\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    // 重置获取按钮状态\r\n    isUser() {\r\n      this.reCodeBtnInit();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.first .title {\r\n  padding: 0.5rem 0.3rem;\r\n}\r\n.btn-group {\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChangePhone.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChangePhone.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePhone.vue?vue&type=template&id=0f413c04&scoped=true&\"\nimport script from \"./ChangePhone.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePhone.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChangePhone.vue?vue&type=style&index=0&id=0f413c04&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f413c04\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"user-view\">\r\n    <top-nav title=\"账号与安全\" @click-left=\"$router.back()\" />\r\n    <!-- 头像 -->\r\n    <div class=\"contain flex-col\" @click=\"showIconPanel = true\">\r\n      <div class=\"user-icon\">\r\n        <van-image\r\n          :src=\"userIcon\"\r\n          round\r\n          fit=\"cover\"\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n        />\r\n        <van-icon name=\"edit\" size=\"0.5rem\" class=\"flex-center-center tip\" />\r\n      </div>\r\n    </div>\r\n    <!-- 修改列表 -->\r\n    <van-cell-group inset class=\"group\">\r\n      <van-cell @click=\"copyId(userInfo.id)\" title=\"ID\" :value=\"userInfo.id\" />\r\n      <van-cell\r\n        @click=\"openInfoPanel(i, p.value)\"\r\n        :title=\"p.title\"\r\n        is-link\r\n        :value=\"userInfo[p.value]\"\r\n        v-for=\"(p, i) in option\"\r\n        :key=\"p.title\"\r\n      />\r\n    </van-cell-group>\r\n    <!-- 头像弹窗 -->\r\n    <change-icon v-model=\"showIconPanel\" />\r\n    <van-popup\r\n      closeable\r\n      class=\"flex-col info-popup\"\r\n      v-model=\"showInfoPanel\"\r\n      position=\"bottom\"\r\n      round\r\n    >\r\n      <label class=\"in-title\">修改{{ option[active].title }}</label>\r\n      <!-- 昵称 -->\r\n      <van-field\r\n        clear-trigger=\"always\"\r\n        placeholder=\" 请输入新昵称\"\r\n        v-model=\"user.nickname\"\r\n        left-icon=\"contact\"\r\n        class=\"v-input\"\r\n        v-show=\"active === 0\"\r\n      />\r\n      <!-- 新账号 -->\r\n      <van-field\r\n        clear-trigger=\"always\"\r\n        placeholder=\" 请输入新账号\"\r\n        v-model=\"user.username\"\r\n        left-icon=\"friends-o\"\r\n        class=\"v-input\"\r\n        :disabled=\"isDisUsername\"\r\n        v-show=\"active === 1\"\r\n      />\r\n      <!-- 电话 -->\r\n      <change-phone v-show=\"active === 2\" v-model=\"showInfoPanel\" />\r\n      <!-- 密码 -->\r\n      <van-field\r\n        placeholder=\" 请输入旧密码\"\r\n        v-model=\"user.oldPwd\"\r\n        type=\"password\"\r\n        left-icon=\"contact\"\r\n        class=\"v-input\"\r\n        v-show=\"active === 3\"\r\n      />\r\n      <van-field\r\n        placeholder=\" 请输入新密码\"\r\n        v-model=\"user.newPwd\"\r\n        type=\"password\"\r\n        left-icon=\"closed-eye\"\r\n        class=\"v-input\"\r\n        v-show=\"active === 3\"\r\n      />\r\n      <!-- 按钮 -->\r\n      <div class=\"btns\" v-show=\"active !== 2\">\r\n        <input\r\n          @click=\"showInfoPanel = false\"\r\n          type=\"button\"\r\n          value=\"取消\"\r\n          class=\"v-btn v-cancel\"\r\n        />\r\n        <input @click=\"updateUser\" type=\"button\" value=\"保存\" class=\"v-btn\" />\r\n      </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopNav from \"@/components/TopNav.vue\";\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport {\r\n  updateNickName,\r\n  updateUserName,\r\n  changeUserPwd,\r\n  loginByPwd,\r\n  getIsNotUpdateUsername,\r\n} from \"@/api/user/users\";\r\nimport { mapState } from \"vuex\";\r\nimport ChangePhone from \"@/components/ChangePhone.vue\";\r\nimport ChangeIcon from \"@/components/My/ChangeIcon.vue\";\r\nimport { copyTextAsync } from \"@/util/copy\";\r\nexport default {\r\n  components: { TopNav, ChangeIcon, ChangePhone },\r\n  name: \"UserView\",\r\n  data() {\r\n    return {\r\n      showIconPanel: false,\r\n      // 用户\r\n      user: {\r\n        nickname: \"\",\r\n        username: \"\",\r\n        oldPwd: \"\",\r\n        newPwd: \"\", // 新密码\r\n      },\r\n      isDisUsername: false, // 是否修改过用户名\r\n      showInfoPanel: false,\r\n      disabledUpdatePwd: true, // 是否可修改\r\n\r\n      option: [\r\n        // 修改昵称\r\n        {\r\n          title: \"昵称\",\r\n          value: \"nickname\",\r\n          clickFn: async () => {\r\n            if (this.user.nickname === this.userInfo.nickname) {\r\n              return (this.showInfoPanel = false);\r\n            } else if (this.user.nickname.trim() == \"\") {\r\n              return this.$notify({\r\n                message: `昵称不能为空！`,\r\n                type: \"danger\",\r\n              });\r\n            }\r\n            const res = await updateNickName(\r\n              this.user.nickname.trim(),\r\n              this.$store.getters.token\r\n            );\r\n            if (res.status === 200 && res.data.code === 20011) {\r\n              this.$notify({ type: \"success\", message: \"修改成功！\" });\r\n              this.showInfoPanel = false;\r\n              this.$set(this.userInfo, \"nickname\", this.user.nickname);\r\n            } else {\r\n              this.$notify({ type: \"danger\", message: \"该昵称已经存在！\" });\r\n            }\r\n          },\r\n        },\r\n        // 修改用户名\r\n        {\r\n          title: \"用户名\",\r\n          value: \"username\",\r\n          clickFn: async () => {\r\n            if (this.user.username === this.userInfo.username) {\r\n              return (this.showInfoPanel = false);\r\n            } else if (this.user.username.trim() == \"\") {\r\n              return this.$notify({\r\n                message: \"用户名不能为空！\",\r\n                type: \"danger\",\r\n              });\r\n            }\r\n            // 修改用户名\r\n            const res = await updateUserName(\r\n              this.user.username.trim(),\r\n              this.$store.getters.token\r\n            );\r\n            if (res.status === 200 && res.data.code === 20011) {\r\n              this.showInfoPanel = false;\r\n              this.$notify({ type: \"success\", message: \"修改成功！\" });\r\n              this.$set(this.userInfo, \"username\", this.user.username);\r\n              this.$store.commit(\"loginOut\");\r\n              this.$router.push({\r\n                name: \"login\",\r\n                params: { animate: \"forward\", toBack: true },\r\n              });\r\n            } else {\r\n              this.$notify({ type: \"danger\", message: \"该用户名已存在！\" });\r\n            }\r\n          },\r\n        },\r\n        // 修改手机号\r\n        {\r\n          title: \"手机号\",\r\n          value: \"phone\",\r\n          clickFn: async () => {},\r\n        },\r\n        // 修改密码\r\n        {\r\n          title: \"密码\",\r\n          value: \"\",\r\n          clickFn: async () => {\r\n            // if (this.disabledUpdatePwd) {\r\n            //   return this.$notify({ type: \"danger\", message: \" 旧密码错误！\" });\r\n            // }\r\n            if (this.user.newPwd === \"\")\r\n              return this.$toast(\" 新密码不能为空！\");\r\n            if (this.user.newPwd === this.user.oldPwd)\r\n              return this.$toast(\" 新旧密码一致！\");\r\n            const res = await changeUserPwd(\r\n              this.user.newPwd.trim(),\r\n              this.user.oldPwd.trim(),\r\n              this.$store.getters.token\r\n            );\r\n            if (res.status === 200 && res.data.code === 20011) {\r\n              this.$notify({\r\n                type: \"success\",\r\n                message: \"修改密码成功！\",\r\n                onClose: () => {\r\n                  this.$store.commit(\"loginOut\");\r\n                  this.$router.push({\r\n                    name: \"login\",\r\n                    params: { animate: \"forward\" },\r\n                  });\r\n                },\r\n              });\r\n            } else {\r\n              this.$notify({ type: \"danger\", message: \" 旧密码错误！\" });\r\n            }\r\n          },\r\n        },\r\n      ],\r\n      active: 0,\r\n    };\r\n  },\r\n  mounted() {\r\n    // this.checkIsUpdateUsername();\r\n  },\r\n  methods: {\r\n    // 提交请求\r\n    updateUser() {\r\n      // 运行对应请求\r\n      this.option[this.active].clickFn();\r\n      // 重置\r\n      this.nickname = \"\";\r\n      this.username = \"\";\r\n      this.pwd = \"\";\r\n      this.newPwd = \"\";\r\n    },\r\n\r\n    // 验证pwd\r\n    async checkPwd() {\r\n      if (!this.user.oldPwd.trim()) return;\r\n      const res = await loginByPwd(\r\n        this.userInfo.username.trim(),\r\n        this.user.oldPwd.trim()\r\n      );\r\n      if (res.status !== 200 || res.data.code !== 20011) {\r\n        this.$notify({ type: \"danger\", message: \" 旧密码错误！\" });\r\n      } else {\r\n        // 修改token\r\n        this.$store.commit(\"setToken\", { token: res.data.data });\r\n      }\r\n      this.disabledUpdatePwd = res.data.code !== 20011;\r\n    },\r\n\r\n    // 验证是否修改过用户名\r\n    async checkIsUpdateUsername() {\r\n      getIsNotUpdateUsername(this.$store.getters.token)\r\n        .then((res) => {\r\n          if (res.status === 200 || res.data.code === 20011) {\r\n            this.isDisUsername = true;\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.isDisUsername = true;\r\n        });\r\n    },\r\n\r\n    // 打开弹窗\r\n    openInfoPanel(i, key) {\r\n      this.showInfoPanel = true;\r\n      this.active = i;\r\n      if (i <= 1) {\r\n        this.user.nickname = this.userInfo[key];\r\n        this.user.username = this.userInfo[key];\r\n      }\r\n    },\r\n\r\n    // 复制ID\r\n    copyId(text) {\r\n      copyTextAsync(text)\r\n        .then(() => {\r\n          this.$toast({ message: \"复制成功！\", position: \"bottom\" });\r\n        })\r\n        .catch(() => {\r\n          this.$toast({ message: \"用户取消了复制！\", position: \"bottom\" });\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\"]),\r\n    // 获得头像\r\n    userIcon() {\r\n      return getResourImageByName(this.userInfo?.icon);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.contain {\r\n  align-items: center;\r\n  padding: 0.2rem 0.3rem;\r\n}\r\n/* 底部修改头像 */\r\n.user-icon {\r\n  width: 3rem;\r\n  height: 3rem;\r\n  position: relative;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  margin: 0.4rem 0;\r\n}\r\n.user-icon .tip {\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: 0;\r\n  border-radius: 50%;\r\n  background-color: var(--theme-color2);\r\n  padding: 0.15rem;\r\n  color: var(--text-color);\r\n  border: 3px solid var(--theme-color);\r\n}\r\n/* 列表组 */\r\n.group {\r\n  box-shadow: var(--shadow-color3);\r\n  margin: 0.3rem 0.6rem;\r\n  padding: 0.2rem 0rem;\r\n}\r\n.group .van-cell__title {\r\n  color: var(--text-color3);\r\n}\r\n.group .van-cell__value {\r\n  cursor: pointer;\r\n  display: block;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  color: var(--text-color4);\r\n}\r\n/* 输入弹窗 */\r\n.in-title {\r\n  font-size: 0.5rem;\r\n  font-weight: 600;\r\n  text-align: center;\r\n  padding: 0.3rem 0;\r\n}\r\n\r\n.info-popup {\r\n  padding: 0.3rem 0.4rem;\r\n}\r\n.info-popup .v-input {\r\n  padding: 0.2rem 0.4rem;\r\n  margin: 0.2rem 0;\r\n}\r\n.btns {\r\n  width: 100%;\r\n  margin: 0.3rem 0;\r\n  display: flex;\r\n  justify-content: space-around;\r\n}\r\n\r\n.code .v-btn {\r\n  font-size: 0.2rem;\r\n  box-shadow: none;\r\n  padding: 0.1rem 0.2rem;\r\n  opacity: 0.2rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserView.vue?vue&type=template&id=3d3c1d1a&scoped=true&\"\nimport script from \"./UserView.vue?vue&type=script&lang=js&\"\nexport * from \"./UserView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserView.vue?vue&type=style&index=0&id=3d3c1d1a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d3c1d1a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('default-page',{staticClass:\"sginin-view\",attrs:{\"title\":\"基本信息\"}},[_c('div',{staticClass:\"user-view\"},[_c('div',{staticClass:\"contain\"},[_c('div',{staticClass:\"user-icon\"},[_c('van-image',{attrs:{\"src\":_vm.getImgSrc(),\"round\":\"\",\"fit\":\"cover\",\"width\":\"100%\",\"height\":\"100%\"}})],1),_c('van-form',{staticClass:\"group\",on:{\"submit\":_vm.saveChangeInfo}},[_c('div',{staticClass:\"item\"},[_c('span',[_vm._v(\"ID\")]),_c('div',{staticClass:\"v-input\",staticStyle:{\"cursor\":\"pointer\",\"padding-right\":\"0.3rem\"},on:{\"click\":function($event){return _vm.copyText(_vm.id)}}},[_vm._v(\" \"+_vm._s(_vm.id)+\" \")])]),_vm._l((Object.keys(_vm.info)),function(key,i){return _c('div',{key:i,staticClass:\"item\"},[_c('span',[_vm._v(_vm._s(_vm.infoText[key].name))]),_c('van-field',{staticClass:\"v-input\",attrs:{\"input-align\":\"right\",\"type\":_vm.infoText[key].type,\"rules\":_vm.infoText[key].rules?.length ? _vm.infoText[key].rules : [],\"placeholder\":\"未填写\",\"name\":key,\"disabled\":!_vm.isEdit || key === 'age'},model:{value:(_vm.info[key]),callback:function ($$v) {_vm.$set(_vm.info, key, $$v)},expression:\"info[key]\"}})],1)}),_c('div',{staticClass:\"btn-group\"},[_c('input',{staticClass:\"v-btn v-click v-cancel\",attrs:{\"type\":\"button\",\"value\":\"编辑\"},on:{\"click\":function($event){_vm.isEdit = !_vm.isEdit}}}),_c('input',{staticClass:\"v-btn v-click\",attrs:{\"type\":\"submit\",\"value\":\"保存\"}})])],2)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\n\r\n/**\r\n * 获取用户基本信息\r\n * @param {String} token\r\n * @returns\r\n */\r\nexport function getBaseInfo(token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/userInfo/me\",\r\n    headers: { Authorization: token },\r\n  });\r\n}\r\n\r\n/**\r\n * 更新用户基本信息\r\n * @param {Object} info 用户信息\r\n * @param {String} token\r\n * @returns\r\n */\r\nexport function updateBaseInfo({ fullName, gender, age, email, birthday, qq }, token) {\r\n  return request({\r\n    method: \"put\",\r\n    url: \"/userInfo/update\",\r\n    headers: { Authorization: token },\r\n    data: { fullName, gender, age: +age, email, birthday, qq },\r\n  });\r\n}\r\n","<template>\r\n  <default-page class=\"sginin-view\" title=\"基本信息\">\r\n    <div class=\"user-view\">\r\n      <div class=\"contain\">\r\n        <div class=\"user-icon\">\r\n          <van-image\r\n            :src=\"getImgSrc()\"\r\n            round\r\n            fit=\"cover\"\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n          />\r\n        </div>\r\n        <!-- 修改列表 -->\r\n        <van-form class=\"group\" @submit=\"saveChangeInfo\">\r\n          <!-- ID -->\r\n          <div class=\"item\">\r\n            <span>ID</span>\r\n            <div\r\n              class=\"v-input\"\r\n              style=\"cursor: pointer; padding-right: 0.3rem\"\r\n              @click=\"copyText(id)\"\r\n            >\r\n              {{ id }}\r\n            </div>\r\n          </div>\r\n          <div class=\"item\" v-for=\"(key, i) in Object.keys(info)\" :key=\"i\">\r\n            <span>{{ infoText[key].name }}</span>\r\n            <van-field\r\n              input-align=\"right\"\r\n              :type=\"infoText[key].type\"\r\n              :rules=\"infoText[key].rules?.length ? infoText[key].rules : []\"\r\n              placeholder=\"未填写\"\r\n              v-model=\"info[key]\"\r\n              :name=\"key\"\r\n              class=\"v-input\"\r\n              :disabled=\"!isEdit || key === 'age'\"\r\n            />\r\n          </div>\r\n          <div class=\"btn-group\">\r\n            <input\r\n              type=\"button\"\r\n              value=\"编辑\"\r\n              class=\"v-btn v-click v-cancel\"\r\n              @click=\"isEdit = !isEdit\"\r\n            />\r\n            <input type=\"submit\" value=\"保存\" class=\"v-btn v-click\" />\r\n          </div>\r\n        </van-form>\r\n      </div>\r\n    </div>\r\n  </default-page>\r\n</template>\r\n<script>\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport DefaultPage from \"@/components/DefaultPage.vue\";\r\nimport { getBaseInfo, updateBaseInfo } from \"@/api/user/info\";\r\nimport { copyTextAsync } from \"@/util/copy\";\r\nexport default {\r\n  components: { DefaultPage },\r\n  name: \"InfoView\",\r\n  data() {\r\n    return {\r\n      id: \"\",\r\n      isEdit: false,\r\n      info: {\r\n        fullName: \"\",\r\n        gender: \"\",\r\n        age: \"\",\r\n        email: \"\",\r\n        birthday: \"\",\r\n        qq: \"\",\r\n      },\r\n      infoText: {\r\n        fullName: {\r\n          name: \"姓名\",\r\n          type: \"text\",\r\n          rules: [{ required: true }],\r\n        },\r\n        gender: {\r\n          name: \"性别\",\r\n          type: \"text\",\r\n          rules: [{ validator: this.changeSex, required: true }],\r\n        },\r\n        age: {\r\n          name: \"年龄\",\r\n          type: \"number\",\r\n          rules: [{ validator: this.changeAge, required: true }],\r\n        },\r\n        email: {\r\n          name: \"电子邮箱\",\r\n          type: \"email\",\r\n          rules: [\r\n            {\r\n              pattern:\r\n                /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/,\r\n              required: true,\r\n            },\r\n          ],\r\n        },\r\n        birthday: {\r\n          name: \"生日\",\r\n          type: \"date\",\r\n          rules: [{ required: true }],\r\n        },\r\n        qq: {\r\n          name: \"QQ\",\r\n          type: \"number\",\r\n          rules: [{ pattern: /^\\d{5,10}$/, required: true }],\r\n        },\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    // 基本信息\r\n    this.getUserBaseInfo();\r\n  },\r\n  methods: {\r\n    // 获取基本信息\r\n    async getUserBaseInfo() {\r\n      const res = await getBaseInfo(this.$store.getters.token);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        const data = res.data.data;\r\n        this.info.fullName = data?.fullName;\r\n        this.info.gender = data?.gender;\r\n        this.info.email = data?.email;\r\n        this.info.qq = data?.qq;\r\n        this.info.age = data?.age;\r\n        this.info.birthday = data?.birthday;\r\n        this.id = data?.id;\r\n      }\r\n    },\r\n\r\n    // 保存请求\r\n    async saveChangeInfo() {\r\n      // console.log(this.info);\r\n      const res = await updateBaseInfo(this.info, this.$store.getters.token);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.$notify({ type: \"success\", message: \" 修改成功！\" });\r\n        this.isEdit = false;\r\n      } else {\r\n        this.$notify({ type: \"warning\", message: \" 修改失败！\" });\r\n      }\r\n    },\r\n\r\n    // 获取头像\r\n    getImgSrc() {\r\n      return getResourImageByName(this.$store.state.userInfo.icon);\r\n    },\r\n\r\n    // changeAge\r\n    changeAge(val) {\r\n      return val > 0 && val < 180;\r\n    },\r\n    // changeSex\r\n    changeSex(val) {\r\n      this.info.gender = val.trim();\r\n      if (val.trim() === \"男\") {\r\n        return true;\r\n      } else if (val.trim() === \"女\") {\r\n        return true;\r\n      } else if (val.trim() === \"保密\") {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    // copyText\r\n    copyText(val) {\r\n      copyTextAsync(val)\r\n        .then(() => {\r\n          this.$toast({ message: \"复制成功！\", position: \"bottom\" });\r\n        })\r\n        .catch(() => {\r\n          this.$toast({ message: \"复制失败！\", position: \"bottom\" });\r\n        });\r\n    },\r\n  },\r\n  watch: {\r\n    \"info.birthday\"() {\r\n      let birthday = new Date(this.info.birthday);\r\n      let d = new Date();\r\n      let year =\r\n        d.getFullYear() -\r\n        birthday.getFullYear() -\r\n        (d.getMonth() < birthday.getMonth() ||\r\n        (d.getMonth() == birthday.getMonth() &&\r\n          d.getDate() < birthday.getDate())\r\n          ? 1\r\n          : 0);\r\n      this.info.age = year > 0 ? year : \"\";\r\n    },\r\n  },\r\n};\r\n</script>  \r\n<style scoped>\r\n.contain {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 0.2rem 0.3rem;\r\n}\r\n/* 表单组 */\r\n.group {\r\n  width: 100%;\r\n  padding: 0.2rem 0.3rem;\r\n}\r\n.title {\r\n  text-align: center;\r\n  font-size: 0.5rem;\r\n}\r\n.group .item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 1px solid var(--border-color);\r\n  margin: 0.1rem 0;\r\n}\r\n.group .item .v-input {\r\n  width: 60%;\r\n  border: none;\r\n  background-color: transparent;\r\n  border-radius: 6px;\r\n  text-align: right;\r\n  margin: 0.1rem 0;\r\n}\r\n.item span {\r\n  display: inline-block;\r\n  color: var(--text-color4);\r\n  opacity: 0.8;\r\n  letter-spacing: 0.05rem;\r\n}\r\n\r\n/* 头像 */\r\n.user-icon {\r\n  width: 3rem;\r\n  height: 3rem;\r\n  position: relative;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  margin: 0.4rem 0;\r\n  border: 0.1rem solid var(--border-color);\r\n  border-radius: 50%;\r\n}\r\n/* 按钮 */\r\n.btn-group {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin-top: 1rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InfoView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InfoView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InfoView.vue?vue&type=template&id=1d184835&scoped=true&\"\nimport script from \"./InfoView.vue?vue&type=script&lang=js&\"\nexport * from \"./InfoView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InfoView.vue?vue&type=style&index=0&id=1d184835&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d184835\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('default-page',{staticClass:\"signin-view\",attrs:{\"title\":\"签到\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}]},[_c('van-calendar',{staticClass:\"v-card calender\",attrs:{\"poppable\":false,\"show-confirm\":false,\"show-title\":true,\"confirm-text\":_vm.signInText,\"readonly\":true,\"color\":_vm.isSignin ? '#f621097c' : 'var(--tip-color2)',\"row-height\":\"1.6rem\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.isSignin ? \"今天已签过了~\" : \"你今天还未签到~\")+\" \")])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"bottom\"},[_c('van-button',{staticClass:\"v-btn\",attrs:{\"text\":_vm.signInText,\"disabled\":_vm.isSignin},on:{\"click\":_vm.addSignin}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.siginDays),expression:\"siginDays\"}],staticClass:\"top\"},[_vm._v(\" 总计 \"+_vm._s(_vm.siginDays)+\" 天 \")])],1)]},proxy:true}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\n\r\n/**\r\n * 用户签到\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function setUserSignIn(token) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/users/signIn\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 查询本日是否签到\r\n * @param {string} token\r\n * @returns boolean\r\n */\r\nexport function isTodaySignIn(token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/users/signIn/today\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 查询签到总天数\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function getSignDays(token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/users/signIn/count\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n","<template>\r\n  <default-page title=\"签到\" class=\"signin-view\">\r\n    <div v-show=\"show\">\r\n      <van-calendar\r\n        :poppable=\"false\"\r\n        :show-confirm=\"false\"\r\n        :show-title=\"true\"\r\n        :confirm-text=\"signInText\"\r\n        :readonly=\"true\"\r\n        :color=\"isSignin ? '#f621097c' : 'var(--tip-color2)'\"\r\n        row-height=\"1.6rem\"\r\n        class=\"v-card calender\"\r\n      >\r\n        <template #title>\r\n          <div class=\"title\">\r\n            {{ isSignin ? \"今天已签过了~\" : \"你今天还未签到~\" }}\r\n          </div>\r\n        </template>\r\n        <template #footer>\r\n          <div class=\"bottom\">\r\n            <van-button\r\n              @click=\"addSignin\"\r\n              class=\"v-btn\"\r\n              :text=\"signInText\"\r\n              :disabled=\"isSignin\"\r\n            />\r\n            <span class=\"top\" v-show=\"siginDays\">\r\n              总计&nbsp;{{ siginDays }}&nbsp;天\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </van-calendar>\r\n    </div>\r\n  </default-page>\r\n</template>\r\n\r\n<script>\r\nimport DefaultPage from \"@/components/DefaultPage.vue\";\r\nimport { getSignDays, isTodaySignIn, setUserSignIn } from \"@/api/user/signin\";\r\nimport { Toast } from \"vant\";\r\nexport default {\r\n  components: { DefaultPage },\r\n  name: \"SigninView\",\r\n  data() {\r\n    return {\r\n      siginDays: 0,\r\n      signInText: \"签到\",\r\n      isSignin: false,\r\n      show: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    // 是否签到\r\n    isTodaySignIn(this.$store.getters.token)\r\n      .then((res) => {\r\n        this.show = true;\r\n        this.isSignin = res.data.code === 20011;\r\n      })\r\n      .catch();\r\n    // 签到天数\r\n    this.getAllSigninDays();\r\n  },\r\n  watch: {\r\n    isSignin(v) {\r\n      this.signInText = v ? \"已签到\" : \"签到\";\r\n    },\r\n  },\r\n  methods: {\r\n    // 获取签到天数\r\n    getAllSigninDays() {\r\n      // 签到总天数\r\n      getSignDays(this.$store.getters.token)\r\n        .then((res) => {\r\n          if (res.data.code === 20011) {\r\n            this.siginDays = res.data.data;\r\n          }\r\n        })\r\n        .catch();\r\n    },\r\n\r\n    // 签到\r\n    async addSignin() {\r\n      const res = await setUserSignIn(this.$store.getters.token);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.isSignin = true;\r\n        // 签到天数\r\n        this.getAllSigninDays();\r\n        Toast({ type: \"success\", message: \"签到成功！\" });\r\n      } else {\r\n        this.isSignin = false;\r\n        Toast({ type: \"fail\", message: \"签到失败，请稍后再试！\" });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.signin-view .v-card {\r\n  border-radius: 10px;\r\n  box-shadow: var(--shadow-color);\r\n}\r\n.signin-view .title {\r\n  margin-bottom: 0.4rem;\r\n  text-align: center;\r\n}\r\n.calender {\r\n  text-align: center;\r\n  height: 11rem;\r\n  box-shadow: var(--shadow-color);\r\n  margin-top: 0.5rem;\r\n}\r\n.calender .title {\r\n  padding: 0.1rem;\r\n  font-weight: 600;\r\n}\r\n.calender .v-btn {\r\n  background-color: var(--tip-color2);\r\n  box-shadow: 1px 2px 4px #da1f0a92;\r\n  color: var(--theme-color);\r\n  height: 0.8rem;\r\n  padding: 0 0.5rem;\r\n}\r\n.calender >>> .van-calendar__confirm::before,\r\n.calender >>> .van-button__content {\r\n  width: 100%;\r\n  background-color: var(--tip-color2);\r\n  padding: 0.2rem;\r\n  transition: 0.2s;\r\n}\r\n.calender >>> .van-calendar__header {\r\n  border-radius: 10px;\r\n  box-shadow: var(--shadow-color3);\r\n  font-size: 0.4rem;\r\n}\r\n.calender .bottom {\r\n  padding-top: 0.4rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-top: 1px solid var(--border-color);\r\n}\r\n.calender .top {\r\n  padding: 0.1rem;\r\n  font-size: 0.3rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SigninView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SigninView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SigninView.vue?vue&type=template&id=957827ea&scoped=true&\"\nimport script from \"./SigninView.vue?vue&type=script&lang=js&\"\nexport * from \"./SigninView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SigninView.vue?vue&type=style&index=0&id=957827ea&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"957827ea\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"signin-view\"},[_c('top-nav',{attrs:{\"title\":\"收货地址\",\"rTitle\":_vm.isSelectAll ? '完 成' : '管 理'},on:{\"click-left\":function($event){return _vm.$router.back()},\"click-right\":function($event){_vm.isSelectAll = !_vm.isSelectAll}}}),_c('div',{staticClass:\"contain\"},[_c('address-list',{attrs:{\"isSelectAll\":_vm.isSelectAll}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"address-list\"},[(!_vm.isEmpty)?_c('van-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isError),expression:\"!isError\"}],staticClass:\"list\",attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.getAllAddressList},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('van-checkbox-group',{model:{value:(_vm.selectList),callback:function ($$v) {_vm.selectList=$$v},expression:\"selectList\"}},[_c('transition-group',{attrs:{\"name\":\"sliceInZoomOut\",\"tag\":\"div\"}},_vm._l((_vm.addressList),function(p,i){return _c('address-card',_vm._b({key:i + p.id,staticClass:\"v-card\",attrs:{\"item\":p,\"index\":i},on:{\"toEdit\":_vm.toEdit,\"deleteAddressByIndex\":_vm.deleteAddressByIndex}},'address-card',_vm.$attrs,false),[_c('van-checkbox',{attrs:{\"icon-size\":\"0.5rem\",\"name\":i,\"checked-color\":\"var(--tip-color2)\"}},[_vm._v(\"选中 \")])],1)}),1)],1)],1):_vm._e(),_c('div',{staticClass:\"nav\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$attrs.isSelectAll),expression:\"!$attrs.isSelectAll\"}],key:\"add\",staticClass:\"v-btn\",on:{\"click\":_vm.onAddress}},[_vm._v(\" 添加新地址 \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$attrs.isSelectAll),expression:\"$attrs.isSelectAll\"}],key:\"select\",staticClass:\"select\"},[_c('van-checkbox',{attrs:{\"icon-size\":\"0.5rem\",\"checked-color\":\"var(--tip-color2)\"},model:{value:(_vm.selectAll),callback:function ($$v) {_vm.selectAll=$$v},expression:\"selectAll\"}},[_vm._v(\"全选 \")]),_c('button',{staticClass:\"v-btn\",on:{\"click\":_vm.deleteAddressByIdsArray}},[_vm._v(\"删除选中\")])],1)]),_c('van-popup',{staticClass:\"flex-col address-popup\",attrs:{\"transition\":\"popup\",\"closeable\":\"\",\"position\":\"center\",\"round\":\"\"},model:{value:(_vm.showAddress),callback:function ($$v) {_vm.showAddress=$$v},expression:\"showAddress\"}},[_c('van-form',{staticClass:\"form\",on:{\"submit\":_vm.toSubmit}},[_c('label',{staticClass:\"title\"},[_vm._v(\"收货地址\")]),_c('van-field',{staticClass:\"v-input\",attrs:{\"label\":\"收货人\",\"size\":\"6\",\"clear-trigger\":\"always\",\"placeholder\":\" 收货人姓名\",\"type\":\"text\",\"name\":\"name\",\"rules\":[{ required: true }]},model:{value:(_vm.address.name),callback:function ($$v) {_vm.$set(_vm.address, \"name\", $$v)},expression:\"address.name\"}}),_c('van-field',{staticClass:\"v-input\",attrs:{\"label\":\"手机号\",\"clear-trigger\":\"always\",\"placeholder\":\"收货人手机号\",\"type\":\"tel\",\"name\":\"phone\",\"rules\":[\n          {\n            required: true,\n            pattern: /^(?:(?:\\+|00)86)?1[3-9]\\d{9}$/,\n          },\n        ]},model:{value:(_vm.address.phone),callback:function ($$v) {_vm.$set(_vm.address, \"phone\", $$v)},expression:\"address.phone\"}}),_c('van-field',{staticClass:\"v-input v-click\",attrs:{\"label\":\"地区\",\"clear-trigger\":\"always\",\"placeholder\":\" 点击选择\",\"type\":\"tel\",\"name\":\"area\",\"rules\":[{ required: true }],\"right-icon\":\"arrow\",\"readonly\":\"\"},on:{\"click\":function($event){_vm.showArea = true}},model:{value:(_vm.area),callback:function ($$v) {_vm.area=$$v},expression:\"area\"}}),_c('van-field',{staticClass:\"v-input textarea\",attrs:{\"label\":\"详细地址\",\"clear-trigger\":\"always\",\"placeholder\":\" 如街道、门牌号、小区、乡镇、村等\",\"type\":\"textarea\",\"maxlength\":\"40\",\"show-word-limit\":\"\",\"name\":\"address\",\"rules\":[{ required: true }]},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [_c('div',{staticClass:\"flex-center-center flex-col\",on:{\"click\":_vm.onLocation}},[_c('van-icon',{attrs:{\"name\":\"location\"}}),_c('span',{staticClass:\"tip\"},[_vm._v(\"定位\")])],1)]},proxy:true}]),model:{value:(_vm.address.address),callback:function ($$v) {_vm.$set(_vm.address, \"address\", $$v)},expression:\"address.address\"}}),_c('van-cell',{attrs:{\"center\":\"\",\"title\":\"默认地址\"},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [_c('van-switch',{attrs:{\"name\":\"isDefault\",\"size\":\"0.5rem\"},model:{value:(_vm.address.isDefault),callback:function ($$v) {_vm.$set(_vm.address, \"isDefault\", $$v)},expression:\"address.isDefault\"}})]},proxy:true}])}),_c('div',{staticClass:\"btn-group\"},[_c('input',{staticClass:\"v-btn v-cancel\",attrs:{\"type\":\"button\",\"value\":_vm.isEdit ? '删除' : '取消'},on:{\"click\":function($event){_vm.isEdit ? _vm.deleteAddress() : (_vm.showAddress = false)}}}),_c('input',{staticClass:\"v-btn\",attrs:{\"type\":\"submit\",\"value\":\"保存\"}})])],1)],1),_c('van-popup',{staticClass:\"area-popup\",attrs:{\"position\":\"bottom\",\"round\":\"\"},model:{value:(_vm.showArea),callback:function ($$v) {_vm.showArea=$$v},expression:\"showArea\"}},[_c('van-area',{attrs:{\"title\":\"地区\",\"area-list\":_vm.areaList},on:{\"confirm\":_vm.setArea,\"cancel\":function($event){_vm.showArea = false}}})],1),_c('van-popup',{staticClass:\"maps-popup\",attrs:{\"position\":\"bottom\",\"round\":\"\"},model:{value:(_vm.showMaps),callback:function ($$v) {_vm.showMaps=$$v},expression:\"showMaps\"}},[_c('transition',{attrs:{\"name\":\"item\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.newAddress.allAddress),expression:\"newAddress.allAddress\"}],staticClass:\"all-address\"},[_c('van-icon',{attrs:{\"name\":\"location\",\"color\":\"var(--tip-color2)\"}}),_vm._v(\" \"+_vm._s(_vm.newAddress.allAddress)+\" \")],1)]),_c('baidu-map',{staticClass:\"bm-view\",attrs:{\"Animation\":\"BMAP_ANIMATION_DROP\",\"zoom\":_vm.mapZoom,\"min-zoom\":12,\"max-zoom\":200,\"scroll-wheel-zoom\":true,\"inertial-dragging\":true,\"continuous-zoom\":true,\"center\":_vm.mapsAreas || '北京市朝阳区'},on:{\"dblclick\":_vm.clickMap,\"click\":_vm.clickMap,\"ready\":_vm.mapReady}},[_c('bm-view',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMaps),expression:\"showMaps\"}],staticClass:\"searchMap\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchAddressText),expression:\"searchAddressText\"}],staticClass:\"v-input\",attrs:{\"placeholder\":\"搜索地点\"},domProps:{\"value\":(_vm.searchAddressText)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchAddressText=$event.target.value}}})]),_c('bm-local-search',{staticClass:\"search-list\",attrs:{\"keyword\":_vm.searchAddressText,\"auto-viewport\":true,\"location\":_vm.address.city},on:{\"infohtmlset\":_vm.getSelectMapPointRes}}),_c('bm-navigation',{attrs:{\"anchor\":\"BMAP_ANCHOR_TOP_RIGHT\"}}),_c('bm-geolocation',{attrs:{\"anchor\":\"BMAP_ANCHOR_BOTTOM_RIGHT\",\"showAddressBar\":true,\"autoLocation\":true},on:{\"locationSuccess\":_vm.locationSuccess}}),_c('bm-control',{attrs:{\"anchor\":\"BMAP_ANCHOR_BOTTOM_RIGHT\"}},[_c('div',{staticClass:\"cpyCtrl-text\"},[_vm._v(\" © 2023 Baidu - GS(2021)6026号 - 甲测资字11111342 - 京ICP证030173号 - Data © 百度智图 \")])]),_c('bm-marker',{attrs:{\"position\":_vm.selectPoint,\"dragging\":true,\"animation\":\"BMAP_ANIMATION_BOUNCE\"}})],1),_c('div',{staticClass:\"map-address\"},[_c('span',{staticClass:\"city\"}),_c('span',{staticClass:\"province\"}),_c('span',{staticClass:\"district\"}),_c('span',{staticClass:\"address\"})]),_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"v-btn v-cancel\",on:{\"click\":function($event){return _vm.getLocationPositon()}}},[_vm._v(\" 重新定位 \")]),_c('button',{staticClass:\"v-btn\",attrs:{\"disabled\":_vm.disableBtn},on:{\"click\":_vm.makeMaps}},[_vm._v(\" 确认地址 \")])])],1),(_vm.isEmpty || _vm.isError)?_c('error-card',{staticClass:\"error\",attrs:{\"btn-text\":_vm.isError ? '刷新' : '新建地址',\"image\":_vm.isError ? 'network' : 'default',\"text\":_vm.isError ? '网络错误，请稍后重试！' : '还没有收获地址哦~'},on:{\"refresh\":_vm.getAllAddressList}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"address-card\"},[_c('div',{staticClass:\"Top\"},[_c('div',{staticClass:\"flex-center-center left\"},[(_vm.item.isDefault)?_c('van-icon',{staticClass:\"flex-center-center default\",attrs:{\"size\":\"0.6rem\",\"name\":\"location\"}}):_c('span',{staticClass:\"flex-center-center tips\"},[_vm._v(\" \"+_vm._s(_vm.item.name ? _vm.item?.name.slice(0, 1) : \"\")+\" \")])],1),_c('div',{staticClass:\"center\"},[_c('span',{staticClass:\"names\"},[_vm._v(_vm._s(_vm.item?.name))]),_c('span',{staticClass:\"phone\"},[_vm._v(_vm._s(_vm.item?.phone))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.item?.isDefault),expression:\"item?.isDefault\"}],staticClass:\"default\"},[_vm._v(\"默认\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.item?.province),expression:\"item?.province\"}],staticClass:\"detail\"},[_vm._v(_vm._s(_vm.getArea))]),_c('div',{staticClass:\"detail\"},[_vm._v(_vm._s(_vm.item?.address))])]),(!_vm.readonly)?_c('van-icon',{staticClass:\"default\",attrs:{\"name\":\"edit\",\"color\":\"var(--text-color4)\",\"size\":\"0.6rem\"},on:{\"click\":_vm.toEdit}}):_vm._e(),_vm._t(\"right-icon\")],2),(!_vm.readonly)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$attrs?.isSelectAll),expression:\"$attrs?.isSelectAll\"}],staticClass:\"bottom\"},[_vm._t(\"default\"),_c('div',{on:{\"click\":_vm.deleteAddress}},[_vm._v(\"删除\")])],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\nimport qs from \"qs\";\r\n/**\r\n * 获取默认地址\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function getDefaultAddress(token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/address/default\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 获取所有的地址\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function getAllAddress(token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/address/all\",\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 通过id获取地址\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function getAddressById(id, token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/address/query/${id}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 添加地址\r\n * @param {string} token\r\n * @param {object} addressInfo 地址信息\r\n    \"name\": \"string\",\r\n    \"phone\": \"string\",\r\n    \"province\": \"string\",省份\r\n    \"city\": \"string\",\r\n    \"district\": \"string\",区/县\r\n    \"address\": \"string\",详细收货地址\r\n    \"isDefault\": 0 是否默认收货地址\r\n * @returns\r\n */\r\nexport function putAddres(addressInfo, token) {\r\n  const { name, phone, province, city, district, address, isDefault } = addressInfo;\r\n  return request({\r\n    method: \"post\",\r\n    url: `/address/save`,\r\n    headers: { Authorization: token },\r\n    data: { name, phone, province, city, district, address, isDefault: +isDefault },\r\n  });\r\n}\r\n\r\n/**\r\n * 修改用户地址\r\n * @param {string} token \r\n * @param {object} updateInfo \r\n *    id: 0,收货地址id\r\n      name: \"string\",\r\n      phone: \"string\",\r\n      province: \"string\",\r\n      city: \"string\",\r\n      district: \"string\",\r\n      address: \"string\",\r\n      isDefault: 0,\r\n * @returns \r\n */\r\nexport function updateAddress(item, token) {\r\n  const { uid, id, name, phone, province, city, district, address, isDefault } = item;\r\n  return request({\r\n    method: \"put\",\r\n    url: `/address/update/${id}`,\r\n    headers: { Authorization: token },\r\n    data: {\r\n      uid,\r\n      name,\r\n      phone,\r\n      province,\r\n      city,\r\n      district,\r\n      address,\r\n      isDefault: +isDefault,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 删除地址\r\n * @param {*} id 地址Id\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function deleteAddressById(id, token) {\r\n  return request({\r\n    method: \"delete\",\r\n    url: `/address/delete/${id}`,\r\n    headers: { Authorization: token },\r\n  });\r\n}\r\n\r\n/**\r\n * 批量删除地址\r\n * @param {Array} ids 地址Id集合\r\n * @param {String} token\r\n * @returns\r\n */\r\nexport function deleteAddressByIdsArray(ids, token) {\r\n  return request({\r\n    method: \"delete\",\r\n    url: \"/address/deletes\",\r\n    headers: { Authorization: token },\r\n\r\n    params: { ids },\r\n    paramsSerializer: {\r\n      serialize(params) {\r\n        return qs.stringify(params, { indices: false });\r\n      },\r\n    },\r\n  });\r\n}\r\n","<template >\r\n  <div class=\"address-card\">\r\n    <div class=\"Top\">\r\n      <div class=\"flex-center-center left\">\r\n        <van-icon\r\n          v-if=\"item.isDefault\"\r\n          size=\"0.6rem\"\r\n          name=\"location\"\r\n          class=\"flex-center-center default\"\r\n        />\r\n        <span class=\"flex-center-center tips\" v-else>\r\n          {{ item.name ? item?.name.slice(0, 1) : \"\" }}\r\n        </span>\r\n      </div>\r\n      <div class=\"center\">\r\n        <span class=\"names\">{{ item?.name }}</span>\r\n        <span class=\"phone\">{{ item?.phone }}</span>\r\n        <span v-show=\"item?.isDefault\" class=\"default\">默认</span>\r\n        <div class=\"detail\" v-show=\"item?.province\">{{ getArea }}</div>\r\n        <div class=\"detail\">{{ item?.address }}</div>\r\n      </div>\r\n      <van-icon\r\n        v-if=\"!readonly\"\r\n        name=\"edit\"\r\n        class=\"default\"\r\n        color=\"var(--text-color4)\"\r\n        size=\"0.6rem\"\r\n        @click=\"toEdit\"\r\n      />\r\n      <slot name=\"right-icon\"></slot>\r\n    </div>\r\n    <div class=\"bottom\" v-if=\"!readonly\" v-show=\"$attrs?.isSelectAll\">\r\n      <slot @click=\"setDefaultAddress\"></slot>\r\n      <div @click=\"deleteAddress\">删除</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { deleteAddressById } from \"@/api/user/address\";\r\nexport default {\r\n  name: \"AddressCard\",\r\n  props: {\r\n    item: { required: true },\r\n    index: { required: false },\r\n    readonly: { required: false, default: false },\r\n  },\r\n  computed: {\r\n    getArea() {\r\n      const { province, city, district } = this.item;\r\n      return `${province} ${city} ${district}`;\r\n    },\r\n  },\r\n  methods: {\r\n    // 开启编辑\r\n    toEdit() {\r\n      this.$emit(\"toEdit\", this.item, this.index);\r\n    },\r\n\r\n    // 删除地址\r\n    deleteAddress() {\r\n      this.$dialog\r\n        .confirm({ title: \"是否删除该地址？\" })\r\n        .then(() => {\r\n          deleteAddressById(this.item.id, this.$store.getters.token)\r\n            .then((res) => {\r\n              if (res.data.code === 20011) {\r\n                this.$emit(\"deleteAddressByIndex\", this.index);\r\n                this.$toast(\" 删除成功！\");\r\n              } else {\r\n                this.$toast(\" 删除失败！\");\r\n              }\r\n            })\r\n            .catch(() => {\r\n              this.$toast(\" 取消失败！\");\r\n            });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.address-card {\r\n  padding: 0.2rem;\r\n  font-size: 0.4rem;\r\n  margin-bottom: 0.2rem;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  transition: 0.2s;\r\n}\r\n.Top {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n}\r\n.Top > .left {\r\n  margin: 0.2rem;\r\n  margin-right: 0.4rem;\r\n  width: 1.2rem;\r\n  height: 1.2rem;\r\n}\r\n.Top .left .default {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n  background-color: var(--tip-color2);\r\n  opacity: 0.8;\r\n  padding: 0.16rem;\r\n  fill: var(--text-color2);\r\n  color: var(--text-color2);\r\n  font-weight: 600;\r\n}\r\n.Top .center {\r\n  flex: 2;\r\n}\r\n.left .tips {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n  background-color: var(--theme-color2);\r\n  color: var(--text-color2);\r\n}\r\n.center .detail {\r\n  margin: 0.15rem 0;\r\n  padding-right: 0.3rem;\r\n  font-size: 0.36rem;\r\n}\r\n.center .names {\r\n  font-weight: 600;\r\n  font-size: 0.4rem;\r\n}\r\n.center .phone {\r\n  color: var(--text-color3);\r\n  padding: 0 0.12rem;\r\n  font-size: 0.32rem;\r\n}\r\n.center .default {\r\n  border-radius: 4px;\r\n  border: 1px solid var(--tip-color2);\r\n  color: var(--tip-color2);\r\n  opacity: 0.8;\r\n  box-shadow: var(--shadow-color3);\r\n  padding: 0.05rem 0.1rem;\r\n  font-size: 0.24rem;\r\n}\r\n/* 编辑 */\r\n.bottom {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding-top: 0.2rem;\r\n  border-top: 1px solid var(--border-color);\r\n}\r\n.bottom div {\r\n  animation: 0.2s fadeIn;\r\n  font-size: 0.35rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddressCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddressCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddressCard.vue?vue&type=template&id=efa201a8&scoped=true&\"\nimport script from \"./AddressCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AddressCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddressCard.vue?vue&type=style&index=0&id=efa201a8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"efa201a8\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * 获取本地位置\r\n * @returns\r\n */\r\nexport const getPosition = () => {\r\n  return new Promise((resolve, reject) => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        function (position) {\r\n          let latitude = position.coords.latitude;\r\n          let longitude = position.coords.longitude;\r\n          let data = {\r\n            latitude: latitude,\r\n            longitude: longitude,\r\n          };\r\n          resolve(data);\r\n        },\r\n        function () {\r\n          reject(arguments);\r\n        }\r\n      );\r\n    } else {\r\n      reject(\"你的浏览器不支持当前地理位置信息获取\");\r\n    }\r\n  });\r\n};\r\n","<template>\r\n  <div class=\"address-list\">\r\n    <!-- 列表 -->\r\n    <van-list\r\n      v-show=\"!isError\"\r\n      class=\"list\"\r\n      v-if=\"!isEmpty\"\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"getAllAddressList\"\r\n    >\r\n      <van-checkbox-group v-model=\"selectList\">\r\n        <transition-group name=\"sliceInZoomOut\" tag=\"div\">\r\n          <!-- 地址卡片 -->\r\n          <address-card\r\n            class=\"v-card\"\r\n            v-for=\"(p, i) in addressList\"\r\n            :key=\"i + p.id\"\r\n            :item=\"p\"\r\n            @toEdit=\"toEdit\"\r\n            @deleteAddressByIndex=\"deleteAddressByIndex\"\r\n            :index=\"i\"\r\n            v-bind=\"$attrs\"\r\n          >\r\n            <van-checkbox\r\n              icon-size=\"0.5rem\"\r\n              :name=\"i\"\r\n              checked-color=\"var(--tip-color2)\"\r\n              >选中\r\n            </van-checkbox>\r\n          </address-card>\r\n        </transition-group>\r\n      </van-checkbox-group>\r\n    </van-list>\r\n    <!-- 按钮 -->\r\n    <div class=\"nav\">\r\n      <!-- 添加新地址 -->\r\n      <button\r\n        class=\"v-btn\"\r\n        v-show=\"!$attrs.isSelectAll\"\r\n        @click=\"onAddress\"\r\n        key=\"add\"\r\n      >\r\n        添加新地址\r\n      </button>\r\n      <!-- 全选和删除 -->\r\n      <div class=\"select\" v-show=\"$attrs.isSelectAll\" key=\"select\">\r\n        <van-checkbox\r\n          v-model=\"selectAll\"\r\n          icon-size=\"0.5rem\"\r\n          checked-color=\"var(--tip-color2)\"\r\n          >全选\r\n        </van-checkbox>\r\n        <button class=\"v-btn\" @click=\"deleteAddressByIdsArray\">删除选中</button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 表单弹窗 -->\r\n    <van-popup\r\n      transition=\"popup\"\r\n      closeable\r\n      class=\"flex-col address-popup\"\r\n      v-model=\"showAddress\"\r\n      position=\"center\"\r\n      round\r\n    >\r\n      <van-form @submit=\"toSubmit\" class=\"form\">\r\n        <label class=\"title\">收货地址</label>\r\n        <!-- 收货人 -->\r\n        <van-field\r\n          label=\"收货人\"\r\n          size=\"6\"\r\n          clear-trigger=\"always\"\r\n          placeholder=\" 收货人姓名\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          v-model=\"address.name\"\r\n          class=\"v-input\"\r\n          :rules=\"[{ required: true }]\"\r\n        />\r\n        <!-- 手机号 -->\r\n        <van-field\r\n          label=\"手机号\"\r\n          clear-trigger=\"always\"\r\n          placeholder=\"收货人手机号\"\r\n          type=\"tel\"\r\n          name=\"phone\"\r\n          v-model=\"address.phone\"\r\n          class=\"v-input\"\r\n          :rules=\"[\r\n            {\r\n              required: true,\r\n              pattern: /^(?:(?:\\+|00)86)?1[3-9]\\d{9}$/,\r\n            },\r\n          ]\"\r\n        />\r\n        <!-- 地区 -->\r\n        <van-field\r\n          label=\"地区\"\r\n          clear-trigger=\"always\"\r\n          placeholder=\" 点击选择\"\r\n          type=\"tel\"\r\n          name=\"area\"\r\n          v-model=\"area\"\r\n          class=\"v-input v-click\"\r\n          :rules=\"[{ required: true }]\"\r\n          right-icon=\"arrow\"\r\n          readonly\r\n          @click=\"showArea = true\"\r\n        />\r\n        <!-- 详细地址 -->\r\n        <van-field\r\n          label=\"详细地址\"\r\n          clear-trigger=\"always\"\r\n          placeholder=\" 如街道、门牌号、小区、乡镇、村等\"\r\n          type=\"textarea\"\r\n          maxlength=\"40\"\r\n          v-model=\"address.address\"\r\n          show-word-limit\r\n          name=\"address\"\r\n          class=\"v-input textarea\"\r\n          :rules=\"[{ required: true }]\"\r\n        >\r\n          <template #right-icon>\r\n            <div class=\"flex-center-center flex-col\" @click=\"onLocation\">\r\n              <van-icon name=\"location\" />\r\n              <span class=\"tip\">定位</span>\r\n            </div>\r\n          </template>\r\n        </van-field>\r\n        <!-- 默认地址 -->\r\n        <van-cell center title=\"默认地址\">\r\n          <template #right-icon>\r\n            <van-switch\r\n              v-model=\"address.isDefault\"\r\n              name=\"isDefault\"\r\n              size=\"0.5rem\"\r\n            />\r\n          </template>\r\n        </van-cell>\r\n        <!-- 按钮 -->\r\n        <div class=\"btn-group\">\r\n          <!-- 取消或删除 -->\r\n          <input\r\n            class=\"v-btn v-cancel\"\r\n            type=\"button\"\r\n            :value=\"isEdit ? '删除' : '取消'\"\r\n            @click=\"isEdit ? deleteAddress() : (showAddress = false)\"\r\n          />\r\n          <input class=\"v-btn\" type=\"submit\" value=\"保存\" />\r\n        </div>\r\n      </van-form>\r\n    </van-popup>\r\n\r\n    <!-- 地区弹窗 -->\r\n    <van-popup v-model=\"showArea\" position=\"bottom\" class=\"area-popup\" round>\r\n      <van-area\r\n        title=\"地区\"\r\n        :area-list=\"areaList\"\r\n        @confirm=\"setArea\"\r\n        @cancel=\"showArea = false\"\r\n      />\r\n    </van-popup>\r\n\r\n    <!-- 地区弹窗 -->\r\n    <van-popup v-model=\"showMaps\" position=\"bottom\" class=\"maps-popup\" round>\r\n      <!-- 选中的地址 -->\r\n      <transition name=\"item\">\r\n        <div class=\"all-address\" v-show=\"newAddress.allAddress\">\r\n          <van-icon name=\"location\" color=\"var(--tip-color2)\" />\r\n          {{ newAddress.allAddress }}\r\n        </div>\r\n      </transition>\r\n      <!-- 百度地图 -->\r\n      <baidu-map\r\n        @dblclick=\"clickMap\"\r\n        @click=\"clickMap\"\r\n        Animation=\"BMAP_ANIMATION_DROP\"\r\n        class=\"bm-view\"\r\n        :zoom=\"mapZoom\"\r\n        :min-zoom=\"12\"\r\n        :max-zoom=\"200\"\r\n        :scroll-wheel-zoom=\"true\"\r\n        :inertial-dragging=\"true\"\r\n        :continuous-zoom=\"true\"\r\n        @ready=\"mapReady\"\r\n        :center=\"mapsAreas || '北京市朝阳区'\"\r\n      >\r\n        <!-- 地图视图 -->\r\n        <bm-view style=\"width: 100%; height: 100%\"></bm-view>\r\n        <div class=\"searchMap\" v-show=\"showMaps\">\r\n          <input\r\n            v-model=\"searchAddressText\"\r\n            placeholder=\"搜索地点\"\r\n            class=\"v-input\"\r\n          />\r\n        </div>\r\n        <!-- 搜索结果列表 -->\r\n        <bm-local-search\r\n          class=\"search-list\"\r\n          :keyword=\"searchAddressText\"\r\n          :auto-viewport=\"true\"\r\n          :location=\"address.city\"\r\n          @infohtmlset=\"getSelectMapPointRes\"\r\n        ></bm-local-search>\r\n\r\n        <!-- 右下角控件 -->\r\n        <bm-navigation anchor=\"BMAP_ANCHOR_TOP_RIGHT\"></bm-navigation>\r\n        <!-- 定位控件 -->\r\n        <bm-geolocation\r\n          anchor=\"BMAP_ANCHOR_BOTTOM_RIGHT\"\r\n          :showAddressBar=\"true\"\r\n          :autoLocation=\"true\"\r\n          @locationSuccess=\"locationSuccess\"\r\n        />\r\n        <bm-control anchor=\"BMAP_ANCHOR_BOTTOM_RIGHT\">\r\n          <div class=\"cpyCtrl-text\">\r\n            © 2023 Baidu - GS(2021)6026号 - 甲测资字11111342 - 京ICP证030173号 -\r\n            Data © 百度智图\r\n          </div>\r\n        </bm-control>\r\n        <!-- 选点 -->\r\n        <bm-marker\r\n          :position=\"selectPoint\"\r\n          :dragging=\"true\"\r\n          animation=\"BMAP_ANIMATION_BOUNCE\"\r\n        ></bm-marker>\r\n      </baidu-map>\r\n      <!-- 当前地址 -->\r\n      <div class=\"map-address\">\r\n        <span class=\"city\"></span>\r\n        <span class=\"province\"></span>\r\n        <span class=\"district\"></span>\r\n        <span class=\"address\"></span>\r\n      </div>\r\n      <div class=\"btn-group\">\r\n        <button class=\"v-btn v-cancel\" @click=\"getLocationPositon()\">\r\n          重新定位\r\n        </button>\r\n        <button class=\"v-btn\" @click=\"makeMaps\" :disabled=\"disableBtn\">\r\n          确认地址\r\n        </button>\r\n      </div>\r\n    </van-popup>\r\n\r\n    <!-- 网络错误 -->\r\n    <error-card\r\n      v-if=\"isEmpty || isError\"\r\n      @refresh=\"getAllAddressList\"\r\n      :btn-text=\"isError ? '刷新' : '新建地址'\"\r\n      :image=\"isError ? 'network' : 'default'\"\r\n      :text=\"isError ? '网络错误，请稍后重试！' : '还没有收获地址哦~'\"\r\n      class=\"error\"\r\n    />\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport ErrorCard from \"@/components/ErrorCard.vue\";\r\nimport AddressCard from \"@/components/Address/AddressCard.vue\";\r\nimport { areaList } from \"@vant/area-data\";\r\n\r\nimport {\r\n  deleteAddressById,\r\n  deleteAddressByIdsArray,\r\n  getAllAddress,\r\n  putAddres,\r\n  updateAddress,\r\n} from \"@/api/user/address\";\r\nimport { Dialog, Toast } from \"vant\";\r\nimport { getPosition } from \"@/util/position\";\r\nexport default {\r\n  components: { ErrorCard, AddressCard },\r\n  name: \"AddressList\",\r\n  data() {\r\n    return {\r\n      address: {\r\n        name: \"\",\r\n        phone: \"\",\r\n        province: \"\", //省份\r\n        city: \"\", //\r\n        district: \"\", //区/县\r\n        address: \"\", //详细收货地址\r\n        isDefault: 0, //是否默认收货地址\r\n      },\r\n      newAddress: {\r\n        province: \"\", //省份\r\n        city: \"\", // 市\r\n        district: \"\", //区/县\r\n        address: \"\", //详细收货地址\r\n        allAddress: \"\", // 全部地址\r\n      },\r\n\r\n      area: \"\",\r\n      areaList, // 区县集合\r\n      showAddress: false, // 显示地址表单\r\n      showArea: false, // 显示地址list\r\n      // 错误 编辑 空\r\n      isError: false,\r\n      isEmpty: false,\r\n      isEdit: false,\r\n      // 百度地图\r\n      showMaps: false,\r\n      disableBtn: true,\r\n      mapsAreas: { lng: 116.4, lat: 39.9 },\r\n      selectPoint: { lng: 116.4, lat: 39.9 },\r\n      mapZoom: 13,\r\n      searchAddressText: \"\",\r\n      searchNnearby: { center: this.center, radius: 10000 }, // 半径\r\n      // 数据\r\n      addressList: [],\r\n      active: 0,\r\n      selectList: [],\r\n      selectAll: false,\r\n      // 加载\r\n      loading: false,\r\n      finished: false,\r\n    };\r\n  },\r\n  methods: {\r\n    // 判断 添加 / 修改\r\n    toSubmit() {\r\n      this.isEdit ? this.reqUpdateAddress() : this.reqAddAddress();\r\n    },\r\n\r\n    // 获取所有地址\r\n    async getAllAddressList() {\r\n      this.loading = true;\r\n      const res = await getAllAddress(this.$store.getters.token);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        const data = res.data.data;\r\n        this.loading = false;\r\n        data.forEach((p) => {\r\n          if (!p.isDefault) {\r\n            this.addressList.push(p);\r\n          } else {\r\n            this.addressList.unshift(p);\r\n          }\r\n\r\n          if (data.length >= this.addressList.length) {\r\n            this.finished = true;\r\n          }\r\n        });\r\n      } else if (res.status === 200 && res.data.data?.length < 0) {\r\n        this.isEmpty = true;\r\n      } else {\r\n        this.isError = true;\r\n      }\r\n      this.finished = true;\r\n    },\r\n\r\n    // 显示添加地址弹窗\r\n    onAddress() {\r\n      for (const key in this.address) {\r\n        this.address[key] = \"\";\r\n      }\r\n      this.isEdit = false;\r\n      this.showAddress = true;\r\n    },\r\n\r\n    // 添加地址\r\n    async reqAddAddress() {\r\n      const res = await putAddres(this.address, this.$store.getters.token);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.addressList.splice(0);\r\n        this.getAllAddressList();\r\n        this.clearAddresFrom(); // 清空表单\r\n        Toast({ type: \"success\", position: \"bottom\", message: \"添加成功！\" });\r\n      } else {\r\n        Toast({ position: \"bottom\", message: \"添加失败！\" });\r\n      }\r\n      this.showAddress = false;\r\n    },\r\n    // 清空表单\r\n    clearAddresFrom() {\r\n      for (const key in this.address) {\r\n        this.address[key] = \"\";\r\n      }\r\n      this.area = \"\";\r\n      this.active = -1;\r\n    },\r\n\r\n    // 加入单例编辑\r\n    toEdit(item, i) {\r\n      for (const key in item) {\r\n        if (key === \"isDefault\") {\r\n          this.$set(this.address, key, Boolean(item[key]));\r\n        } else {\r\n          this.$set(this.address, key, item[key]);\r\n        }\r\n      }\r\n      this.area = `${item.province} ${item.city} ${item.district}`;\r\n      this.active = i;\r\n      this.isEdit = true;\r\n      this.showAddress = true;\r\n    },\r\n    // 更新地址\r\n    async reqUpdateAddress() {\r\n      const address = JSON.parse(JSON.stringify(this.address));\r\n      const res = await updateAddress(address, this.$store.getters.token);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        // console.log(this.active);\r\n        for (const key in address) {\r\n          this.$set(this.addressList[this.active], key, address[key]);\r\n        }\r\n        if (address.isDefault) {\r\n          // 清空\r\n          for (let i = 0; i < this.addressList.length; i++) {\r\n            const p = this.addressList[i];\r\n            if (i !== this.active) {\r\n              p.isDefault = false;\r\n            }\r\n          }\r\n          // 重新排序\r\n          this.reorderAddressList();\r\n        }\r\n        this.clearAddresFrom();\r\n        Toast({ type: \"success\", position: \"bottom\", message: \"修改成功！\" });\r\n      } else {\r\n        Toast({ position: \"bottom\", message: \"修改失败！\" });\r\n      }\r\n      this.showAddress = false;\r\n    },\r\n\r\n    // 删除地址\r\n    deleteAddress() {\r\n      Dialog.confirm({ title: \"是否删除该地址？\" })\r\n        .then(() => {\r\n          deleteAddressById(\r\n            this.addressList[this.active].id,\r\n            this.$store.getters.token\r\n          )\r\n            .then((res) => {\r\n              if (res.data.code === 20011) {\r\n                this.addressList.splice(this.active, 1);\r\n                this.clearAddresFrom();\r\n                Toast(\" 删除成功！\");\r\n              } else {\r\n                Toast(\" 删除失败！\");\r\n              }\r\n            })\r\n            .catch(() => {\r\n              Toast(\" 删除失败！\");\r\n            });\r\n        })\r\n        .catch(() => {})\r\n        .finally(() => {\r\n          this.showAddress = false;\r\n        });\r\n    },\r\n    // 删除单个本地地址\r\n    deleteAddressByIndex(i) {\r\n      this.addressList.splice(i, 1);\r\n    },\r\n\r\n    // 删除多个地址\r\n    deleteAddressByIdsArray() {\r\n      if (this.selectList.length === 0) return;\r\n      let ids = []; // ids\r\n      const selects = JSON.parse(JSON.stringify(this.selectList));\r\n      // 根据下标获取ids\r\n      for (let i = 0; i < selects.length; i++) {\r\n        ids.push(this.addressList[selects[i]].id);\r\n      }\r\n      // 弹窗\r\n      Dialog.confirm({\r\n        title: \"确认删除选中？\",\r\n        message: `共${selects.length}条地址`,\r\n      })\r\n        .then(async () => {\r\n          const res = await deleteAddressByIdsArray(\r\n            ids,\r\n            this.$store.getters.token\r\n          );\r\n          if (res.data.code === 20011 && res.status === 200) {\r\n            // 删除多个\r\n            selects.forEach((p) => {\r\n              this.addressList.splice(p, 1);\r\n            });\r\n            this.selectList.splice(0);\r\n            Toast({ position: \"bottom\", message: \"删除成功！\" });\r\n          } else {\r\n            Toast({ position: \"bottom\", message: \"删除失败！\" });\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    // 重新排序\r\n    reorderAddressList() {\r\n      const addressList_bak = JSON.parse(JSON.stringify(this.addressList));\r\n      for (let i = 0; i < addressList_bak.length; i++) {\r\n        const p = addressList_bak[i];\r\n        if (p.isDefault) {\r\n          this.addressList.unshift(p);\r\n          this.addressList.splice(i + 1, 1);\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    // 设置区域\r\n    setArea(info) {\r\n      this.area = `${info[0].name} ${info[1].name} ${info[2].name}`;\r\n      (this.address.province = info[0].name), //省份\r\n        (this.address.city = info[1].name), // 市\r\n        (this.address.district = info[2].name), //区/县\r\n        (this.showArea = false);\r\n    },\r\n\r\n    // 获取定位\r\n    onLocation() {\r\n      this.getLocationPositon();\r\n    },\r\n\r\n    // 百度地图\r\n    mapReady() {\r\n      // console.log(BMap, map);\r\n    },\r\n\r\n    // 双击地图\r\n    clickMap({ point }) {\r\n      // 选点\r\n      this.selectPoint.lng = point.lng;\r\n      this.selectPoint.lat = point.lat;\r\n    },\r\n\r\n    // 自动定位\r\n    locationSuccess(map) {\r\n      const { province, city, district, street, streetNumber } =\r\n        map.addressComponent;\r\n      this.newAddress.city = city;\r\n      this.newAddress.province = province;\r\n      this.newAddress.district = district;\r\n      this.newAddress.address = `${street}${streetNumber}`;\r\n      // 选点\r\n      this.selectPoint.lng = map.point.lng;\r\n      this.selectPoint.lat = map.point.lat;\r\n    },\r\n\r\n    // 获取选中查找地址的点\r\n    getSelectMapPointRes(res) {\r\n      const { address, province, city, title } = res;\r\n      console.log(res);\r\n      this.newAddress.province = province;\r\n      this.newAddress.city = city;\r\n      this.newAddress.address =\r\n        address?.replace(\r\n          /^([\\u4E00-\\u9FA5]{2,}(省|自治区|特别行政区|区|市|县)){1}/,\r\n          \"\"\r\n        ) + title;\r\n\r\n      this.newAddress.allAddress = city + address;\r\n    },\r\n\r\n    // 确认地址\r\n    makeMaps() {\r\n      if (this.newAddress.address !== \"\") {\r\n        for (const key in this.newAddress) {\r\n          if (this.address[key] !== undefined) {\r\n            this.address[key] = this.newAddress[key];\r\n          }\r\n        }\r\n        const { province, city, district } = this.newAddress;\r\n        this.area = `${province} ${city} ${district}`;\r\n      }\r\n      this.showMaps = false;\r\n    },\r\n\r\n    // 重新定位\r\n    getLocationPositon() {\r\n      this.$toast.loading({\r\n        duration: 0,\r\n        message: \"自动定位...\",\r\n      });\r\n      this.mapZoom = 22;\r\n      getPosition()\r\n        .then((res) => {\r\n          this.mapsAreas.lng = res.longitude;\r\n          this.mapsAreas.lat = res.latitude;\r\n          this.showMaps = true;\r\n          this.$toast.clear(true);\r\n        })\r\n        .catch(() => {\r\n          this.$toast(\"不支持自动定位,请手动选择！\");\r\n          this.showMaps = true;\r\n          this.$toast.clear(true);\r\n        });\r\n    },\r\n  },\r\n  watch: {\r\n    // 全选同步\r\n    selectAll(newVal) {\r\n      if (newVal) {\r\n        this.selectList.splice(0);\r\n        this.addressList.forEach((p, i) => {\r\n          this.selectList.push(i);\r\n        });\r\n      } else {\r\n        this.selectList.splice(0);\r\n      }\r\n    },\r\n\r\n    //\r\n    showAddress(value) {\r\n      if (!value) {\r\n        this.clearAddresFrom();\r\n      }\r\n    },\r\n\r\n    //\r\n    newAddress: {\r\n      deep: true,\r\n      handler(val) {\r\n        if (val?.address !== \"\") {\r\n          this.disableBtn = false;\r\n        } else {\r\n          this.disableBtn = true;\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n/* 空 */\r\n.error .v-btn {\r\n  width: 100%;\r\n}\r\n/* 表单弹窗 */\r\n.form .v-input {\r\n  margin: 0.3rem 0;\r\n}\r\n.form >>> .van-field__label {\r\n  width: auto;\r\n  min-width: 3em;\r\n  font-weight: 600;\r\n  display: inline-block;\r\n  text-align: justify;\r\n  text-justify: distribute-all-lines;\r\n  text-align-last: justify;\r\n}\r\n/* 详细地址 */\r\n.form .textarea {\r\n  border-radius: 16px;\r\n}\r\n.form .textarea >>> .van-field__right-icon {\r\n  font-size: 0.5rem;\r\n  color: var(--tip-color2);\r\n  cursor: pointer;\r\n}\r\n.form .textarea >>> .tip {\r\n  font-size: 0.3rem;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  color: var(--text-color4);\r\n}\r\n/* 地址弹窗 */\r\n.area-popup {\r\n  width: 100%;\r\n}\r\n.address-popup {\r\n  width: 88%;\r\n  padding: 0.4rem;\r\n}\r\n.address-popup .title {\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 0.5rem;\r\n}\r\n.form .v-btn {\r\n  width: 40%;\r\n  border-radius: 8px;\r\n  padding: 0.2rem;\r\n}\r\n/* 添加 */\r\n.btn-group {\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  padding: 0 0.2rem;\r\n}\r\n.nav {\r\n  background-color: var(--text-color2);\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n.nav .v-btn {\r\n  width: 80%;\r\n  padding: 0.2rem;\r\n  font-size: 0.45rem;\r\n  margin: 0.4rem;\r\n  animation: 0.3s fadeInUp;\r\n}\r\n.nav .select {\r\n  animation: 0.3s fadeInUp;\r\n  display: flex;\r\n  justify-content: space-around;\r\n}\r\n.nav .select .v-btn {\r\n  width: 70%;\r\n  padding: 0.2rem 0.5rem;\r\n  margin: 0.4rem;\r\n  font-size: 0.45rem;\r\n  background-color: var(--tip-color2);\r\n  color: var(--text-color2);\r\n}\r\n.address-popup >>> .van-switch--on {\r\n  background-color: var(--theme-color2);\r\n}\r\n\r\n/* 百度地图 */\r\n.maps-popup {\r\n  width: 100%;\r\n  height: 60%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: var(--theme-color);\r\n}\r\n.bm-view {\r\n  flex: 1;\r\n  border-radius: 10px;\r\n  width: 100%;\r\n  height: 80%;\r\n  overflow: hidden;\r\n  border: 2px solid var(--border-color);\r\n  top: 0;\r\n}\r\n.maps-popup .btn-group .v-btn {\r\n  border-radius: 10px;\r\n  font-size: 0.45rem;\r\n  margin: 0.3rem 0;\r\n}\r\n.searchMap {\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 0.3rem;\r\n  position: fixed;\r\n  justify-content: space-between;\r\n  top: 0;\r\n  width: 100%;\r\n  left: 0;\r\n  z-index: 3000;\r\n  backdrop-filter: blur(20px);\r\n  animation: fadeInDown 0.4s ease-in;\r\n  transition: 0.3s;\r\n}\r\n.searchMap .v-input {\r\n  flex: 1;\r\n  width: 7rem;\r\n  border: none;\r\n  background-color: var(--bg-color5);\r\n  color: var(--text-color2);\r\n  text-align: center;\r\n  padding: 0.3rem 0.4rem;\r\n  flex-direction: column;\r\n  font-size: 0.45rem;\r\n  font-weight: 600;\r\n}\r\n.searchMap .v-input::placeholder {\r\n  text-align: center;\r\n  color: var(--text-color2);\r\n  opacity: 0.9;\r\n  letter-spacing: 0.14em;\r\n}\r\n.searchMap .search-list {\r\n  display: none;\r\n  left: 0;\r\n  border-radius: 10px;\r\n  background-color: var(--bg-color5);\r\n  margin-top: 20px;\r\n}\r\n.all-address {\r\n  text-align: center;\r\n  font-size: 0.4rem;\r\n  padding: 0.3rem 0.2rem;\r\n  transition: 0.3s;\r\n}\r\n.cpyCtrl-text {\r\n  font-size: 0.3rem;\r\n  display: block;\r\n  padding: 0.1rem 0.2rem;\r\n  background-color: rgba(197, 197, 197, 0.6);\r\n  backdrop-filter: blur(15px);\r\n  text-align: right;\r\n  padding: 0.2rem 1.5rem 0.32rem 0.2rem;\r\n}\r\n\r\n.maps-popup >>> .anchorBL span {\r\n  font-size: 0.3rem !important;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddressList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddressList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddressList.vue?vue&type=template&id=dd1fd5dc&scoped=true&\"\nimport script from \"./AddressList.vue?vue&type=script&lang=js&\"\nexport * from \"./AddressList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddressList.vue?vue&type=style&index=0&id=dd1fd5dc&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dd1fd5dc\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"signin-view\">\r\n    <top-nav\r\n      title=\"收货地址\"\r\n      @click-left=\"$router.back()\"\r\n      :rTitle=\"isSelectAll ? '完 成' : '管 理'\"\r\n      @click-right=\"isSelectAll = !isSelectAll\"\r\n    />\r\n    <div class=\"contain\">\r\n      <address-list :isSelectAll=\"isSelectAll\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddressList from \"@/components/Address/AddressList.vue\";\r\nimport TopNav from \"@/components/TopNav.vue\";\r\nexport default {\r\n  components: { AddressList, TopNav },\r\n  name: \"AddressView\",\r\n  data() {\r\n    return {\r\n      isSelectAll: false,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scpoed>\r\n.contain {\r\n  padding: 0.2rem 0.3rem;\r\n}\r\n.signin-view {\r\n  min-height: 100vh;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddressView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddressView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddressView.vue?vue&type=template&id=8635fdf8&\"\nimport script from \"./AddressView.vue?vue&type=script&lang=js&\"\nexport * from \"./AddressView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddressView.vue?vue&type=style&index=0&id=8635fdf8&prod&scpoed=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('default-page',{attrs:{\"title\":\"账单\",\"rtitle\":\"筛选\"},on:{\"clickRight\":function($event){_vm.showSelectDate = true}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEmpty && !_vm.isError),expression:\"!isEmpty && !isError\"}],staticClass:\"Bills-view\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.getBillListByPage},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.mounthList),function(m,i){return _c('div',{key:i,staticClass:\"bills-list\"},[_c('div',{staticClass:\"top-info\"},[_c('div',{staticClass:\"year-mounth\"},[_vm._v(_vm._s(m.year)+\"年\"+_vm._s(m.mounth)+\"月\")]),_c('span',{staticClass:\"all-out\"},[_vm._v(\"支出:￥\"+_vm._s(_vm._f(\"price\")(m.allOut)))]),_c('span',{staticClass:\"all-in\"},[_vm._v(\" 收入:￥\"+_vm._s(_vm._f(\"price\")(m.allIn)))])]),_vm._l((_vm.billList),function(p){return _c('div',{key:p.id,staticClass:\"bill\",on:{\"click\":function($event){return _vm.toDetailView(p)}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":p.icon}}),_c('div',{staticClass:\"center\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(p.name)+\"：\")]),_c('span',{staticClass:\"phone\"},[_vm._v(_vm._s(_vm._f(\"hidePhone\")(_vm.userInfo.phone)))]),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(p.time))])]),_c('span',{class:p.type === '收入' ? 'amount add' : 'amount '},[_vm._v(\" \"+_vm._s(p.type === \"收入\" ? \"+\" : \"-\")+_vm._s(p.monetaryUnit ? \"\" : \"￥\")+_vm._s(_vm._f(\"price\")(p.amount))+\" \")])])})],2)}),0)],1),_c('van-popup',{staticStyle:{\"width\":\"100%\"},attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.showSelectDate),callback:function ($$v) {_vm.showSelectDate=$$v},expression:\"showSelectDate\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"title\":\"标题\",\"columns\":_vm.selectDate},on:{\"cancel\":function($event){_vm.showSelectDate = false},\"confirm\":_vm.onSelectDate}})],1),(_vm.isEmpty || _vm.isError)?_c('error-card',{staticClass:\"error\",attrs:{\"btn-text\":_vm.isError && !_vm.isEmpty ? '刷新' : '返回',\"image\":_vm.isError ? 'network' : 'default',\"text\":_vm.isError ? '网络错误，请稍后重试！' : '这个月还没有交易账单~'},on:{\"refresh\":function($event){_vm.isError ? _vm.getBillListByPage() : _vm.$router.back()}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <default-page title=\"账单\" rtitle=\"筛选\" @clickRight=\"showSelectDate = true\">\r\n    <div class=\"Bills-view\" v-show=\"!isEmpty && !isError\">\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"getBillListByPage\"\r\n      >\r\n        <div class=\"bills-list\" v-for=\"(m, i) in mounthList\" :key=\"i\">\r\n          <div class=\"top-info\">\r\n            <div class=\"year-mounth\">{{ m.year }}年{{ m.mounth }}月</div>\r\n            <span class=\"all-out\">支出:￥{{ m.allOut | price }}</span>\r\n            <span class=\"all-in\">&emsp;收入:￥{{ m.allIn | price }}</span>\r\n          </div>\r\n          <!-- 单个账单 -->\r\n          <div\r\n            class=\"bill\"\r\n            v-for=\"p in billList\"\r\n            :key=\"p.id\"\r\n            @click=\"toDetailView(p)\"\r\n          >\r\n            <img :src=\"p.icon\" class=\"icon\" />\r\n            <div class=\"center\">\r\n              <span class=\"name\">{{ p.name }}：</span>\r\n              <span class=\"phone\">{{ userInfo.phone | hidePhone }}</span>\r\n              <div class=\"time\">{{ p.time }}</div>\r\n            </div>\r\n            <span :class=\"p.type === '收入' ? 'amount add' : 'amount '\">\r\n              {{ p.type === \"收入\" ? \"+\" : \"-\" }}{{ p.monetaryUnit ? \"\" : \"￥\"\r\n              }}{{ p.amount | price }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </van-list>\r\n    </div>\r\n    <!-- 筛选月份 -->\r\n    <van-popup\r\n      style=\"width: 100%\"\r\n      round\r\n      position=\"bottom\"\r\n      v-model=\"showSelectDate\"\r\n    >\r\n      <van-picker\r\n        @cancel=\"showSelectDate = false\"\r\n        @confirm=\"onSelectDate\"\r\n        show-toolbar\r\n        title=\"标题\"\r\n        :columns=\"selectDate\"\r\n      />\r\n    </van-popup>\r\n    <!-- 网络错误 -->\r\n    <error-card\r\n      v-if=\"isEmpty || isError\"\r\n      @refresh=\"isError ? getBillListByPage() : $router.back()\"\r\n      :btn-text=\"isError && !isEmpty ? '刷新' : '返回'\"\r\n      :image=\"isError ? 'network' : 'default'\"\r\n      :text=\"isError ? '网络错误，请稍后重试！' : '这个月还没有交易账单~'\"\r\n      class=\"error\"\r\n    />\r\n  </default-page>\r\n</template>\r\n  <script>\r\nimport DefaultPage from \"@/components/DefaultPage.vue\";\r\nimport ErrorCard from \"@/components/ErrorCard.vue\";\r\nimport { getBills } from \"@/api/user/purse\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  components: { DefaultPage, ErrorCard },\r\n  name: \"BillsView\",\r\n  data() {\r\n    return {\r\n      mounthList: [], // 有数据的月份\r\n      billList: [],\r\n      nowDate: new Date(),\r\n\r\n      // 功能\r\n      isEmpty: false,\r\n      isError: false,\r\n      loading: false,\r\n      finished: false,\r\n      year: 2023,\r\n      mounth: 0,\r\n\r\n      // 月份倒数总月份\r\n      mounthRes: 0,\r\n      // 筛选\r\n      showSelectDate: false,\r\n      selectDate: [\r\n        { values: [], defaultIndex: 0 },\r\n        { values: [12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], defaultIndex: 0 },\r\n      ],\r\n    };\r\n  },\r\n  created() {\r\n    this.year = this.nowDate.getFullYear();\r\n    this.mounth = this.nowDate.getMonth() + 1;\r\n    // 2000年至今的数据\r\n    this.mounthRes = this.year * 12 + this.mounth; // 总月份\r\n    this.selectDate[0].defaultIndex = this.nowDate.getFullYear();\r\n    this.selectDate[1].defaultIndex = 11 - this.nowDate.getMonth();\r\n    for (let i = 0; i < this.year - 2000; i++) {\r\n      this.selectDate[0].values.push(2000 + i + 1);\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取账单\r\n    async getBillListByPage() {\r\n      const res = await getBills(\r\n        `${this.year}`,\r\n        `${this.mounth}`,\r\n        this.$store.getters.token\r\n      );\r\n      const data = res.data.data || [];\r\n      // console.log(data);\r\n      if (res.data.code === 20011) {\r\n        this.loading = false;\r\n        // 次月无数据\r\n        // console.log(this.mounth);\r\n        if (data.length === 0 && this.mounth === 1) {\r\n          this.finished = true;\r\n          if (this.mounth === this.nowDate.getMonth() + 1) {\r\n            this.isEmpty = true;\r\n          }\r\n          return;\r\n        } else {\r\n          let allIn = 0;\r\n          let allOut = 0;\r\n          // 添加\r\n          if (data.length > 0) {\r\n            // 遍历数据\r\n            for (let i = 0; i < data.length; i++) {\r\n              // 处理对应的图标\r\n              data[i].icon = this.getTypeIcon(data[i].name, data[i]);\r\n              // 总支出收入\r\n              if (data[i].type === \"收入\") {\r\n                allIn += data[i].amount;\r\n              } else {\r\n                allOut += data[i].amount;\r\n              }\r\n              this.billList.push(data[i]);\r\n            }\r\n            // 月份统计\r\n            this.mounthList.push({\r\n              allIn,\r\n              allOut,\r\n              year: Math.floor(this.mounthRes / 12),\r\n              mounth: this.mounth,\r\n            });\r\n          }\r\n          if (this.mounth === 1) {\r\n            this.mounthRes -= 12; // 去掉一年\r\n            this.mounth = 12;\r\n          } else {\r\n            this.mounth--;\r\n          }\r\n          this.loading = false;\r\n        }\r\n      } else {\r\n        this.isError = true;\r\n      }\r\n      this.loading = false;\r\n    },\r\n\r\n    // 筛选\r\n    async onSelectDate(value) {\r\n      this.year = value[0];\r\n      this.mounth = value[1];\r\n      this.mounthList.splice(0);\r\n      this.billList.splice(0);\r\n      this.getBillListByPage();\r\n      this.showSelectDate = false;\r\n    },\r\n    // 去到详情页面\r\n    toDetailView(bill) {\r\n      this.$router.push({\r\n        name: \"billsdetail\",\r\n        params: {\r\n          animate: \"forward\",\r\n          bill,\r\n        },\r\n      });\r\n    },\r\n\r\n    // 获取icon类型\r\n    getTypeIcon(type, p) {\r\n      switch (type) {\r\n        case \"钱包充值\":\r\n          type = require(\"@/assets/image/icon/phonebill.png\");\r\n          break;\r\n        case \"签到送积分\":\r\n          type = require(\"@/assets/image/icon/coins_icon.png\");\r\n          break;\r\n        case \"购物消费\":\r\n          type = require(\"@/assets/image/icon/shopbill.png\");\r\n          break;\r\n        default:\r\n          type = require(\"@/assets/image/icon/onShopcar.png\");\r\n          break;\r\n      }\r\n      if (p?.monetaryUnit == \"积分\") {\r\n        p.name = \"积分获取\";\r\n        type = require(\"@/assets/image/icon/coins_icon.png\");\r\n      }\r\n      return type;\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\"]),\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.content {\r\n  padding: 0.1rem 0.3rem;\r\n}\r\n/* 每项顶部月份栏目 */\r\n.top-info {\r\n  padding: 0.2rem 0.5rem;\r\n  border-bottom: 1px solid var(--border-color);\r\n}\r\n.top-info .year-mounth {\r\n  font-weight: 600;\r\n  font-size: 0.5rem;\r\n  margin-bottom: 0.2rem;\r\n}\r\n.top-info .all-out,\r\n.top-info .all-in {\r\n  font-size: 0.36rem;\r\n  color: var(--text-color3);\r\n}\r\n.bill {\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  border-bottom: 1px solid var(--bg-color6);\r\n  padding: 0.2rem;\r\n}\r\n.bill .icon {\r\n  width: 1.2rem;\r\n  height: 1.2rem;\r\n  margin: 0.2rem;\r\n  padding: 0.25rem;\r\n  border-radius: 50%;\r\n  margin-left: 0;\r\n  object-fit: contain;\r\n  background-color: var(--bg-color6);\r\n}\r\n.bill .amount {\r\n  font-weight: 600;\r\n  font-size: 0.45rem;\r\n  font-family: Helvetica;\r\n}\r\n.bill .center {\r\n  flex: 1;\r\n}\r\n.bill .time {\r\n  color: var(--text-color3);\r\n  font-size: 0.3rem;\r\n}\r\n.add {\r\n  color: var(--tip-color2);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BillsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BillsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BillsView.vue?vue&type=template&id=5dacb667&scoped=true&\"\nimport script from \"./BillsView.vue?vue&type=script&lang=js&\"\nexport * from \"./BillsView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BillsView.vue?vue&type=style&index=0&id=5dacb667&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dacb667\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('default-page',{attrs:{\"title\":\"账单详情\"}},[_c('div',{staticClass:\"BillsDetailView\"},[_c('div',{staticClass:\"top\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.bill?.icon}}),_c('div',{staticClass:\"tips\"},[_vm._v(_vm._s(_vm.bill?.name))]),_c('span',{class:_vm.bill?.type === '收入' ? 'amount add' : 'amount '},[_vm._v(\" \"+_vm._s(_vm.bill?.type === \"收入\" ? \"+\" : \"-\")+_vm._s(_vm.bill?.monetaryUnit ? \" \" : \"￥\")+_vm._s(_vm._f(\"price\")(_vm.bill?.amount))+\" \")])]),_c('van-cell-group',{staticClass:\"group\",attrs:{\"inset\":\"\"}},[_c('van-cell',{attrs:{\"title\":\"当前状态：\",\"value\":_vm.bill?.status}}),_c('van-cell',{attrs:{\"title\":\"收付款：\",\"value\":_vm.bill?.type}}),_c('van-cell',{attrs:{\"title\":\"商户名：\",\"value\":_vm.bill?.merchantName}}),_c('van-cell',{attrs:{\"title\":\"交易时间\",\"value\":_vm.bill?.time}}),_c('van-cell',{staticClass:\"bill-id\",attrs:{\"title\":\"交易单号：\",\"value\":`${_vm.bill?.id}`},on:{\"click\":function($event){return _vm.copyId(`${_vm.bill?.id}`)}}}),_c('van-cell',{attrs:{\"title\":\"交易说明：\",\"value\":_vm.bill?.remark || '未填写'}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <default-page title=\"账单详情\">\r\n    <div class=\"BillsDetailView\">\r\n      <div class=\"top\">\r\n        <img :src=\"bill?.icon\" class=\"img\" />\r\n        <div class=\"tips\">{{ bill?.name }}</div>\r\n        <span :class=\"bill?.type === '收入' ? 'amount add' : 'amount '\">\r\n          {{ bill?.type === \"收入\" ? \"+\" : \"-\"\r\n          }}{{ bill?.monetaryUnit ? \" \" : \"￥\" }}{{ bill?.amount | price }}\r\n        </span>\r\n      </div>\r\n\r\n      <!-- 状态信息 -->\r\n      <van-cell-group inset class=\"group\">\r\n        <van-cell title=\"当前状态：\" :value=\"bill?.status\" />\r\n        <van-cell title=\"收付款：\" :value=\"bill?.type\" />\r\n        <van-cell title=\"商户名：\" :value=\"bill?.merchantName\" />\r\n        <van-cell title=\"交易时间\" :value=\"bill?.time\" />\r\n        <van-cell\r\n          class=\"bill-id\"\r\n          @click=\"copyId(`${bill?.id}`)\"\r\n          title=\"交易单号：\"\r\n          :value=\"`${bill?.id}`\"\r\n        />\r\n        <van-cell title=\"交易说明：\" :value=\"bill?.remark || '未填写'\" />\r\n      </van-cell-group>\r\n    </div>\r\n  </default-page>\r\n</template>\r\n  <script>\r\nimport DefaultPage from \"@/components/DefaultPage.vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { copyTextAsync } from \"@/util/copy\";\r\nexport default {\r\n  components: { DefaultPage },\r\n  name: \"BillsDetailView\",\r\n  data() {\r\n    return {\r\n      bill: null,\r\n    };\r\n  },\r\n  created() {\r\n    if (this.$route.params.bill) {\r\n      this.bill = this.$route.params?.bill;\r\n      sessionStorage.setItem(\"theBill\", JSON.stringify(this.bill));\r\n    } else {\r\n      this.bill = JSON.parse(sessionStorage.getItem(\"theBill\"));\r\n    }\r\n  },\r\n  methods: {\r\n    // 用户复制\r\n    copyId(text) {\r\n      copyTextAsync(text)\r\n        .then(() => {\r\n          this.$toast({ message: \"复制成功！\", position: \"bottom\" });\r\n        })\r\n        .catch(() => {\r\n          this.$toast({ message: \"用户取消了复制！\", position: \"bottom\" });\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\"]),\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.top {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  padding: 1rem 0;\r\n}\r\n.top .img {\r\n  width: 1.4rem;\r\n  height: 1.4rem;\r\n  margin-bottom: 0.2rem;\r\n}\r\n.top .amount {\r\n  padding: 0.2rem 0;\r\n  font-size: 0.56rem;\r\n  font-weight: 600;\r\n}\r\n.top .tips {\r\n  font-size: 0.4rem;\r\n}\r\n.group {\r\n  padding: 0.2rem 0;\r\n}\r\n.group span,\r\n.group div {\r\n  font-size: 0.32rem;\r\n}\r\n.group >>> .van-cell__title {\r\n  color: var(--text-color3);\r\n  flex: auto;\r\n}\r\n.group >>> .van-cell__value {\r\n  color: var(--text-color4);\r\n  flex: auto;\r\n}\r\n/* bill id */\r\n.bill-id .van-cell__value span {\r\n  text-decoration: underline;\r\n  text-decoration-color: var(--border-color);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BillsDetailView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BillsDetailView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BillsDetailView.vue?vue&type=template&id=2fe1dd17&scoped=true&\"\nimport script from \"./BillsDetailView.vue?vue&type=script&lang=js&\"\nexport * from \"./BillsDetailView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BillsDetailView.vue?vue&type=style&index=0&id=2fe1dd17&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fe1dd17\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wind-init goods-detail\"},[_c('share-nav'),(!_vm.isError)?_c('div',{staticClass:\"contents\"},[_c('van-swipe',{on:{\"change\":_vm.onChangeGoodImg},scopedSlots:_vm._u([{key:\"indicator\",fn:function(){return [_c('div',{staticClass:\"custom-indicator\"},[_vm._v(\" \"+_vm._s(_vm.current + 1)+\"/\"+_vm._s(_vm.item?.goods?.images?.length)+\" \")])]},proxy:true}],null,false,2959699977)},_vm._l((_vm.item?.goods?.images),function(img,i){return _c('van-swipe-item',{key:i},[_c('van-image',{staticClass:\"imags\",attrs:{\"lazy-load\":\"\",\"src\":_vm.getImgSrc(img)}})],1)}),1),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"v-card top\"},[_c('div',{staticClass:\"price\"},[_vm._v(\" ￥ \"),_c('span',{staticClass:\"big\"},[_vm._v(_vm._s(_vm.getPrice(_vm.item?.price) || \"0.00\"))]),_c('span',{staticClass:\"small\"},[_vm._v(\"原价:￥\"+_vm._s(_vm.getPrice(_vm.item?.price) || \"0.00\"))])]),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.item?.goods?.name))]),_c('div',{staticClass:\"lable-group\"},[_c('div',{staticClass:\"lable\"},[_vm._v(\"总销量：\"+_vm._s(_vm.item?.goods?.sale))]),_c('div',{staticClass:\"lable\"},[_c('van-icon',{attrs:{\"name\":\"location-o\"}}),_vm._v(\" \"+_vm._s(_vm.item?.goods?.city)+\" \")],1)])]),_c('div',{staticClass:\"v-card center\"},[_c('div',{staticClass:\"lable-group\",on:{\"click\":function($event){_vm.showProps = true}}},[_c('span',{staticClass:\"lable\"},[_vm._v(\"选择\")]),_c('div',{staticClass:\"lable black props\"},[_vm._v(\" 已选：\"),_c('span',{ref:\"selectOption\",staticClass:\"box\"},[_vm._v(_vm._s(_vm.getOption))])]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1),_c('div',{staticClass:\"lable-group\"},[_c('span',{staticClass:\"lable\"},[_vm._v(\"发货\")]),_c('div',{staticClass:\"flex-col w-80\"},[_c('span',{staticClass:\"lable black\",staticStyle:{\"padding-bottom\":\"0.2rem\"}},[_vm._v(_vm._s(_vm.item?.goods?.city)+\" | 快递：\"+_vm._s(_vm.item?.goods?.postage ? `${_vm.item.goods.postage} 元` : \"免运费\"))]),_c('span',{staticClass:\"lable\"},[_vm._v(\"急速发货\")])]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1),_c('div',{staticClass:\"lable-group\"},[_c('span',{staticClass:\"lable\"},[_vm._v(\"保障\")]),_c('div',{staticClass:\"flex-col w-80\"},[_c('span',{staticClass:\"box\"},[_vm._v(_vm._s(_vm.getSafeInfo))])]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('div',{staticClass:\"v-card comments animate__animated animate__fadeIn\",on:{\"click\":function($event){_vm.comments.length ? _vm.toView(5) : ''}}},[_c('div',{staticClass:\"lable-group\"},[_vm._v(\" 商品评价 (\"+_vm._s(_vm.comments.length)+\") \"),_c('div',{staticClass:\"lable\",staticStyle:{\"color\":\"var(--tip-color2)\",\"font-size\":\"0.3rem\"}},[_vm._v(\" 更多\"),_c('van-icon',{staticClass:\"icon\",attrs:{\"name\":\"arrow\",\"color\":\"var(--tip-color2)\"}})],1)]),(_vm.comments.length)?_c('comment-card',{attrs:{\"comment\":_vm.comments[0],\"disable-comment\":true}}):_vm._e()],1)]),_c('div',{staticClass:\"detail-info\"},[_vm._m(0),_c('div',{staticClass:\"label label1\"},[_vm._v(_vm._s(_vm.getSafeInfo))])]),_c('van-sku',{ref:\"skucart\",attrs:{\"sku\":_vm.initSku,\"goods\":{ picture: _vm.getImgSrc(_vm.goodProps?.defaultOption?.icon) },\"goods-id\":_vm.GOOD_ID,\"initial-sku\":_vm.skuDefault,\"quota\":0,\"stock-threshold\":10,\"stepper-title\":\"购买数量\"},on:{\"sku-selected\":_vm.selectedSku,\"buy-clicked\":_vm.toMakeOder,\"add-cart\":_vm.addShopCar},model:{value:(_vm.showProps),callback:function ($$v) {_vm.showProps=$$v},expression:\"showProps\"}}),(!_vm.isError)?_c('div',{staticClass:\"shop-nav\"},[_c('van-goods-action',[_c('van-goods-action-icon',{attrs:{\"icon\":\"chat-o\",\"text\":\"客服\",\"color\":\"#ee0a24\"},on:{\"click\":function($event){return _vm.$toast('功能暂未开启！')}}}),_c('van-goods-action-icon',{attrs:{\"icon\":\"cart-o\",\"text\":\"购物车\"},on:{\"click\":function($event){return _vm.toView(2)}}}),_c('van-goods-action-icon',{attrs:{\"icon\":_vm.isCollect ? 'star' : 'star-o',\"text\":_vm.isCollect ? '已收藏' : '收藏',\"color\":\"#ff5000\"},on:{\"click\":function($event){_vm.isCollect ? _vm.deleteCollect() : _vm.addCollect()}}}),_c('van-goods-action-button',{attrs:{\"type\":\"warning\",\"text\":\"加入购物车\"},on:{\"click\":function($event){_vm.showProps = true}}}),_c('van-goods-action-button',{attrs:{\"type\":\"danger\",\"text\":\"立即购买\"},on:{\"click\":function($event){_vm.showProps = true}}})],1)],1):_vm._e()],1):_vm._e(),(_vm.isError)?_c('error-card',{attrs:{\"image\":'network',\"text\":\"网络错误，请稍后再试！\"},on:{\"refresh\":function($event){return _vm.location.reload()}}}):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"title\"},[_vm._v(\"————\"),_c('span',[_vm._v(\" 宝贝详情 \")]),_vm._v(\"————\")])\n}]\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\n\r\n/**\r\n *  获取商品的评论\r\n * @param {string} id\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function getGoodCommentById(goodsId, sort, token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/evaluation/query`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    params: {\r\n      goodsId,\r\n      sort: sort || 0, // 排序方式（0：默认排序，1：最新排序）\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n *  对评论点赞\r\n * @param {string} id\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function addCommentLiked(id, token) {\r\n  return request({\r\n    method: \"put\",\r\n    url: `/evaluation/liked/${id}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.comment),expression:\"comment\"}],staticClass:\"comment-card comments\"},[_c('div',{staticClass:\"lable-group\",on:{\"click\":function($event){!_vm.disableComment ? _vm.toCommentView() : ''}}},[_c('div',{staticClass:\"lable top\"},[_c('van-image',{staticClass:\"icon\",attrs:{\"lazy-load\":\"\",\"round\":\"\",\"src\":_vm.getImgSrc(_vm.comment?.userIcon)}}),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.comment?.nickname))]),(_vm.comment?.isMe)?_c('van-tag',{attrs:{\"plain\":\"\",\"color\":\"var(--tip-color2)\"}},[_vm._v(\"我的评价\")]):_vm._e()],1),_c('div',{staticClass:\"lable\"},[_vm._v(_vm._s(_vm.comment?.time))])]),_c('div',{staticClass:\"lable contents\",domProps:{\"innerHTML\":_vm._s(_vm.comment?.content)},on:{\"click\":function($event){!_vm.disableComment ? _vm.toCommentView() : ''}}}),(_vm.comment?.images)?_c('div',{staticClass:\"good-imgs\"},_vm._l((_vm.comment?.images),function(src,i){return _c('van-image',{key:i,staticClass:\"img\",attrs:{\"lazy-load\":\"\",\"fit\":\"cover\",\"src\":_vm.getImgSrc(src)},on:{\"click\":function($event){return _vm.showPreImg(_vm.comment?.images, i)}}})}),1):_vm._e(),_c('div',{staticClass:\"lable-group tips\"},[_c('div',{staticClass:\"lable\"},[_vm._v(\" 评分：\"),_c('van-rate',{attrs:{\"readonly\":\"\",\"size\":\"0.4rem\",\"gutter\":\"0\"},model:{value:(_vm.stars),callback:function ($$v) {_vm.stars=$$v},expression:\"stars\"}})],1),_c('div',{staticClass:\"lable\"},[(_vm.comment?.isMe && !_vm.disableComment)?_c('span',{staticClass:\"text\",on:{\"click\":_vm.deleteOrderComment}},[_vm._v(\"删除\")]):_vm._e(),_c('div',{staticClass:\"left\",on:{\"click\":_vm.addCommentPick}},[_c('van-icon',{attrs:{\"name\":_vm.comment?.isLiked ? 'like' : 'like-o',\"color\":_vm.comment?.isLiked ? 'var(--tip-color2)' : 'var(--text-color3)'}}),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.comment?.liked || \"赞\"))])],1),(!_vm.disableComment)?_c('div',{staticClass:\"right\",on:{\"click\":_vm.changeCommentPopup}},[_c('van-icon',{attrs:{\"name\":\"comment-o\"}}),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.comment?.comment || \"评论\"))])],1):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-card comments\" v-show=\"comment\">\r\n    <!-- 头像时间 -->\r\n    <div class=\"lable-group\" @click=\"!disableComment ? toCommentView() : ''\">\r\n      <div class=\"lable top\">\r\n        <van-image\r\n          lazy-load\r\n          round\r\n          :src=\"getImgSrc(comment?.userIcon)\"\r\n          class=\"icon\"\r\n        />\r\n        <div class=\"name\">{{ comment?.nickname }}</div>\r\n        <van-tag plain color=\"var(--tip-color2)\" v-if=\"comment?.isMe\"\r\n          >我的评价</van-tag\r\n        >\r\n      </div>\r\n      <div class=\"lable\">{{ comment?.time }}</div>\r\n    </div>\r\n    <!-- 内容 -->\r\n    <div\r\n      class=\"lable contents\"\r\n      @click=\"!disableComment ? toCommentView() : ''\"\r\n      v-html=\"comment?.content\"\r\n    ></div>\r\n    <!-- 评论照片 -->\r\n    <div class=\"good-imgs\" v-if=\"comment?.images\">\r\n      <van-image\r\n        lazy-load\r\n        class=\"img\"\r\n        fit=\"cover\"\r\n        v-for=\"(src, i) in comment?.images\"\r\n        :key=\"i\"\r\n        :src=\"getImgSrc(src)\"\r\n        @click=\"showPreImg(comment?.images, i)\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 点赞留言 -->\r\n    <div class=\"lable-group tips\">\r\n      <div class=\"lable\">\r\n        评分：<van-rate v-model=\"stars\" readonly size=\"0.4rem\" gutter=\"0\" />\r\n      </div>\r\n      <div class=\"lable\">\r\n        <!-- 删除自己的评论 -->\r\n        <span\r\n          v-if=\"comment?.isMe && !disableComment\"\r\n          class=\"text\"\r\n          @click=\"deleteOrderComment\"\r\n          >删除</span\r\n        >\r\n        <div class=\"left\" @click=\"addCommentPick\">\r\n          <!-- 喜欢 -->\r\n          <van-icon\r\n            :name=\"comment?.isLiked ? 'like' : 'like-o'\"\r\n            :color=\"\r\n              comment?.isLiked ? 'var(--tip-color2)' : 'var(--text-color3)'\r\n            \"\r\n          />\r\n          <span class=\"text\">{{ comment?.liked || \"赞\" }}</span>\r\n        </div>\r\n        <!-- 评论 -->\r\n        <div class=\"right\" @click=\"changeCommentPopup\" v-if=\"!disableComment\">\r\n          <van-icon name=\"comment-o\" />\r\n          <span class=\"text\">{{ comment?.comment || \"评论\" }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addCommentLiked } from \"@/api/comment/comment\";\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport { ImagePreview } from \"vant\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          stars: 0,\r\n        };\r\n      },\r\n    },\r\n    disableComment: {\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  name: \"CommentCard\",\r\n  data() {\r\n    return {\r\n      pickTimer: \"\",\r\n      stars: 0,\r\n    };\r\n  },\r\n  watch: {\r\n    \"comment.stars\": {\r\n      deep: true,\r\n      immediate: true,\r\n      handler(newVal) {\r\n        this.stars = newVal;\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    // 展示评论\r\n    changeCommentPopup() {\r\n      this.$store.commit(\"setShowCommentPopup\", {\r\n        show: true,\r\n        commentId: this.comment.id,\r\n      });\r\n    },\r\n\r\n    // 展示图片预览\r\n    async showPreImg(imgs, i) {\r\n      const images = JSON.parse(JSON.stringify(imgs));\r\n      // 修改\r\n      await images.forEach((p, i) => {\r\n        images[i] = this.getImgSrc(p);\r\n      });\r\n      // 图片预览\r\n      ImagePreview({ images, closeable: true, startPosition: i });\r\n    },\r\n\r\n    // 删除评论\r\n    deleteOrderComment() {\r\n      this.$emit(\"deleteOneOrderComment\");\r\n    },\r\n\r\n    // 修改评论点赞\r\n    async addCommentPick() {\r\n      if (this.pickTimer) return;\r\n      const res = await addCommentLiked(\r\n        this.comment.id,\r\n        this.$store.getters.token\r\n      );\r\n      if (res.data.code === 20011) {\r\n        if (this.comment.isLiked) {\r\n          this.$set(this.comment, \"isLiked\", false);\r\n          this.$set(this.comment, \"liked\", this.comment.liked - 1);\r\n          this.$toast(\"取消点赞\");\r\n        } else {\r\n          this.$set(this.comment, \"isLiked\", true);\r\n          this.$set(this.comment, \"liked\", this.comment.liked + 1);\r\n        }\r\n      }\r\n    },\r\n\r\n    // toCommentView\r\n    toCommentView() {\r\n      this.$router.push({\r\n        name: \"commentdetail\",\r\n        query: { id: this.comment.id },\r\n        params: { animate: \"forward\", comment: this.comment },\r\n      });\r\n    },\r\n\r\n    // 获取图片地址\r\n    getImgSrc(url) {\r\n      return getResourImageByName(url);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"showCommentPopup\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* 评论 */\r\n.comments {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.comments .top .icon {\r\n  width: 1rem;\r\n  height: 1rem;\r\n}\r\n.comments .top .name {\r\n  float: left;\r\n  padding: 0 0.2rem;\r\n  color: var(--theme-color4);\r\n}\r\n.comments .contents {\r\n  display: block;\r\n  transition: 0.2s;\r\n  max-height: 6em;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\n.good-imgs {\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  overflow-x: hidden;\r\n}\r\n.good-imgs .img {\r\n  display: block;\r\n  width: 2rem;\r\n  height: 2rem;\r\n  margin: 0.2rem 0;\r\n  margin-right: 0.3rem;\r\n  border-radius: 8px;\r\n  object-fit: cover;\r\n  overflow: hidden;\r\n}\r\n.tips {\r\n  cursor: pointer;\r\n  color: var(--text-color4);\r\n  padding: 0.1rem 0.2rem;\r\n}\r\n.tips .lable {\r\n  color: var(--text-color4);\r\n}\r\n.tips .lable div {\r\n  padding: 0 0.1rem;\r\n}\r\n.tips .lable > div {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.tips .lable .text {\r\n  user-select: none;\r\n  font-size: 0.3rem;\r\n  padding: 0 0.12rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentCard.vue?vue&type=template&id=53305054&\"\nimport script from \"./CommentCard.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentCard.vue?vue&type=style&index=0&id=53305054&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"wind-init goods-detail\">\r\n    <!-- 顶部导航 -->\r\n    <share-nav />\r\n    <div class=\"contents\" v-if=\"!isError\">\r\n      <!-- 商品图片 -->\r\n      <van-swipe @change=\"onChangeGoodImg\">\r\n        <van-swipe-item v-for=\"(img, i) in item?.goods?.images\" :key=\"i\">\r\n          <van-image lazy-load :src=\"getImgSrc(img)\" class=\"imags\" />\r\n        </van-swipe-item>\r\n        <template #indicator>\r\n          <div class=\"custom-indicator\">\r\n            {{ current + 1 }}/{{ item?.goods?.images?.length }}\r\n          </div>\r\n        </template>\r\n      </van-swipe>\r\n      <!-- 主内容 -->\r\n      <div class=\"content\">\r\n        <!-- 标题 -->\r\n        <div class=\"v-card top\">\r\n          <div class=\"price\">\r\n            ￥\r\n            <span class=\"big\">{{ getPrice(item?.price) || \"0.00\" }}</span>\r\n            <span class=\"small\"\r\n              >原价:￥{{ getPrice(item?.price) || \"0.00\" }}</span\r\n            >\r\n          </div>\r\n          <div class=\"title\">{{ item?.goods?.name }}</div>\r\n          <div class=\"lable-group\">\r\n            <div class=\"lable\">总销量：{{ item?.goods?.sale }}</div>\r\n            <div class=\"lable\">\r\n              <van-icon name=\"location-o\" />\r\n              {{ item?.goods?.city }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 规格 -->\r\n        <div class=\"v-card center\">\r\n          <div class=\"lable-group\" @click=\"showProps = true\">\r\n            <span class=\"lable\">选择</span>\r\n            <div class=\"lable black props\">\r\n              已选：<span class=\"box\" ref=\"selectOption\">{{ getOption }}</span>\r\n            </div>\r\n            <van-icon name=\"arrow\" />\r\n          </div>\r\n          <!-- 发货 -->\r\n          <div class=\"lable-group\">\r\n            <span class=\"lable\">发货</span>\r\n            <div class=\"flex-col w-80\">\r\n              <span class=\"lable black\" style=\"padding-bottom: 0.2rem\"\r\n                >{{ item?.goods?.city }} | 快递：{{\r\n                  item?.goods?.postage ? `${item.goods.postage} 元` : \"免运费\"\r\n                }}</span\r\n              >\r\n              <span class=\"lable\">急速发货</span>\r\n            </div>\r\n            <van-icon name=\"arrow\" />\r\n          </div>\r\n          <!-- 保障 -->\r\n          <div class=\"lable-group\">\r\n            <span class=\"lable\">保障</span>\r\n            <div class=\"flex-col w-80\">\r\n              <span class=\"box\">{{ getSafeInfo }}</span>\r\n            </div>\r\n            <van-icon name=\"arrow\" />\r\n          </div>\r\n        </div>\r\n        <!-- 评论 -->\r\n        <div\r\n          @click=\"comments.length ? toView(5) : ''\"\r\n          class=\"v-card comments animate__animated animate__fadeIn\"\r\n        >\r\n          <div class=\"lable-group\">\r\n            商品评价 ({{ comments.length }})\r\n            <div\r\n              class=\"lable\"\r\n              style=\"color: var(--tip-color2); font-size: 0.3rem\"\r\n            >\r\n              更多<van-icon\r\n                name=\"arrow\"\r\n                color=\"var(--tip-color2)\"\r\n                class=\"icon\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!-- 单条评论 -->\r\n          <comment-card\r\n            :comment=\"comments[0]\"\r\n            v-if=\"comments.length\"\r\n            :disable-comment=\"true\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 商品详情 -->\r\n      <div class=\"detail-info\">\r\n        <div class=\"title\">————<span>&emsp;宝贝详情&emsp;</span>————</div>\r\n        <div class=\"label label1\">{{ getSafeInfo }}</div>\r\n        <!-- <van-image\r\n          lazy-load\r\n          :src=\"getImgSrc(item?.goods?.images)\"\r\n          class=\"img\"\r\n        /> -->\r\n      </div>\r\n\r\n      <!-- 规格详情选择 -->\r\n      <van-sku\r\n        ref=\"skucart\"\r\n        v-model=\"showProps\"\r\n        :sku=\"initSku\"\r\n        :goods=\"{ picture: getImgSrc(goodProps?.defaultOption?.icon) }\"\r\n        :goods-id=\"GOOD_ID\"\r\n        :initial-sku=\"skuDefault\"\r\n        :quota=\"0\"\r\n        :stock-threshold=\"10\"\r\n        @sku-selected=\"selectedSku\"\r\n        @buy-clicked=\"toMakeOder\"\r\n        @add-cart=\"addShopCar\"\r\n        stepper-title=\"购买数量\"\r\n      />\r\n      <!-- 底部导航 -->\r\n      <div class=\"shop-nav\" v-if=\"!isError\">\r\n        <van-goods-action>\r\n          <van-goods-action-icon\r\n            @click=\"$toast('功能暂未开启！')\"\r\n            icon=\"chat-o\"\r\n            text=\"客服\"\r\n            color=\"#ee0a24\"\r\n          />\r\n          <van-goods-action-icon\r\n            icon=\"cart-o\"\r\n            text=\"购物车\"\r\n            @click=\"toView(2)\"\r\n          />\r\n          <van-goods-action-icon\r\n            :icon=\"isCollect ? 'star' : 'star-o'\"\r\n            :text=\"isCollect ? '已收藏' : '收藏'\"\r\n            color=\"#ff5000\"\r\n            @click=\"isCollect ? deleteCollect() : addCollect()\"\r\n          />\r\n          <van-goods-action-button\r\n            type=\"warning\"\r\n            text=\"加入购物车\"\r\n            @click=\"showProps = true\"\r\n          />\r\n          <van-goods-action-button\r\n            type=\"danger\"\r\n            text=\"立即购买\"\r\n            @click=\"showProps = true\"\r\n          />\r\n        </van-goods-action>\r\n      </div>\r\n    </div>\r\n    <!-- 网络错误 -->\r\n    <error-card\r\n      v-if=\"isError\"\r\n      @refresh=\"location.reload()\"\r\n      :image=\"'network'\"\r\n      text=\"网络错误，请稍后再试！\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// res\r\nimport { getGoodDetailById } from \"@/api/good/good\";\r\nimport { getGoodProps, getGoodPropsById } from \"@/api/good/props\";\r\nimport {\r\n  getTheCollectByGid,\r\n  addCollectByGid,\r\n  deleteCollectByGid,\r\n} from \"@/api/user/collect\";\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport { getGoodCommentById } from \"@/api/comment/comment\";\r\nimport { addShopCart } from \"@/api/shopcart/shopcart\";\r\n// components\r\nimport ShareNav from \"@/components/Detail/ShareNav.vue\";\r\nimport { Dialog, Toast } from \"vant\";\r\nimport { mapState } from \"vuex\";\r\nimport CommentCard from \"@/components/Comment/CommentCard.vue\";\r\nimport ErrorCard from \"@/components/ErrorCard.vue\";\r\n\r\nexport default {\r\n  components: { ShareNav, CommentCard, ErrorCard },\r\n  name: \"GoodsDetail\",\r\n  data() {\r\n    return {\r\n      isError: false, // 网络错误\r\n      GOOD_ID: this.$route.query?.id || \"\",\r\n      // 商品信息\r\n      item: {}, // 商品信息\r\n      goodProps: {}, //商品规格\r\n      newOption: {}, // 选择规格\r\n\r\n      // 评论\r\n      current: 0, // 图片\r\n      isCollect: false, // 是否收藏\r\n      comments: [], // 评论集合\r\n\r\n      // 内属性\r\n      showProps: false,\r\n      allStock: \"\", // 总库存\r\n\r\n      combos: [],\r\n      sizes: [],\r\n      colors: [],\r\n      editions: [],\r\n      rows: [],\r\n\r\n      initSku: {},\r\n      skuDefault: {}, // 默认选项\r\n      finalSelectVal: {}, // 最终选项\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getGoodDetail(); // 获取商品详情\r\n    this.getGoodProps(); // 获取商品规格\r\n  },\r\n  watch: {\r\n    // 需token请求的\r\n    token: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler() {\r\n        this.getCommentList(); // 获取评论\r\n        this.getTheCollect(); // 获取是否收藏\r\n      },\r\n    },\r\n    // sku属性选择变化\r\n    finalSelectVal() {\r\n      this.$refs.selectOption.innerHTML = this.finalSelectVal;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // 获取商品详情\r\n    getGoodDetail() {\r\n      // 获取路由的信息\r\n      if (this.GOOD_ID === \"\") return (this.isError = true);\r\n      getGoodDetailById(this.GOOD_ID)\r\n        .then((res) => {\r\n          this.isError = !res.data.code === 20011;\r\n          if (res.data.code === 20011) {\r\n            res.data.data.goods.images = res.data.data.goods.images.split(\",\");\r\n            this.item = res.data.data;\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.isError = true;\r\n        });\r\n    },\r\n\r\n    // 获取商品规格\r\n    async getGoodProps() {\r\n      // 获取路由的信息\r\n      if (this.GOOD_ID === \"\") return (this.isError = true);\r\n      const res = await getGoodPropsById(this.GOOD_ID);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.goodProps = res.data.data;\r\n        // 初始化属性组合\r\n        this.initProps();\r\n      } else {\r\n        this.isError = true;\r\n      }\r\n    },\r\n\r\n    // 属性变化触发\r\n    selectedSku(info) {\r\n      const { selectedSkuComb } = info;\r\n      if (!selectedSkuComb) return;\r\n      this.finalSelectVal = selectedSkuComb.props;\r\n    },\r\n\r\n    // 提交订单\r\n    toMakeOder({ selectedSkuComb, selectedNum }) {\r\n      selectedSkuComb.price = selectedSkuComb.price / 100;\r\n      this.$router.push({\r\n        name: \"checkorder\",\r\n        params: {\r\n          animate: \"forward\",\r\n          toBack: \"true\",\r\n        },\r\n\r\n        query: {\r\n          // 传参\r\n          info: {\r\n            price: selectedNum * selectedSkuComb.price, // 最终价格\r\n          },\r\n\r\n          goodsList: [\r\n            {\r\n              ...this.item.goods,\r\n              images: selectedSkuComb.icon, // 属性图片\r\n              id: selectedSkuComb.id, // 选中商品id\r\n              gid: this.item.goods.id,\r\n              props: selectedSkuComb.props, // 选择属性\r\n              quantity: selectedNum, // 数量\r\n              price: selectedSkuComb.price, // 价格\r\n              unitPrice: selectedSkuComb.price, //\r\n              postage: this.item.goods.postage,\r\n            },\r\n          ],\r\n        },\r\n      });\r\n    },\r\n\r\n    // 添加购物车\r\n    async addShopCar(info) {\r\n      if (!this.$store.getters.token) return Toast(\"您还未登录！\");\r\n      const res = await addShopCart(\r\n        info.selectedSkuComb.id,\r\n        info.selectedNum,\r\n        this.$store.getters.token\r\n      );\r\n      // console.log(res.data);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        Toast(\"加购成功！\");\r\n      } else {\r\n        Toast(\"加购失败，稍后再试！\");\r\n      }\r\n      this.showProps = false;\r\n    },\r\n\r\n    // 初始化属性组合\r\n    initProps() {\r\n      const { defaultOption, combo, colorAndIcon, size, edition } =\r\n        this.goodProps;\r\n\r\n      const price = Number(defaultOption.price).toFixed(2);\r\n      const props = {\r\n        tree: [], // 类组row\r\n        list: [], // 全部组合col\r\n\r\n        price, // 默认价格（单位元）\r\n        stock_num: 0,\r\n        listIndex: \"\", // 库存不为0的坐标\r\n        hide_stock: false, // 是否隐藏剩余库存\r\n      };\r\n\r\n      // 套装\r\n      let row = 0;\r\n      if (combo.length > 0) {\r\n        row++;\r\n        let row1 = {\r\n          k: \"套装\",\r\n          k_s: \"combo\",\r\n          v: [],\r\n          largeImageMode: false, //  是否展示大图模式\r\n        };\r\n        // 套装子属性\r\n        combo.forEach((p, i) => {\r\n          row1.v.push({\r\n            id: i,\r\n            name: p.combo,\r\n          });\r\n          this.combos.push(p.combo);\r\n        });\r\n        this.rows.push(\"combo\");\r\n        props.tree.push(row1);\r\n      }\r\n\r\n      // 颜色\r\n      if (colorAndIcon.length > 0) {\r\n        row++;\r\n        let row2 = {\r\n          k: \"颜色\", // 属性类别\r\n          k_s: \"color\",\r\n          v: [], // 子属下\r\n        };\r\n        colorAndIcon.forEach((p, i) => {\r\n          row2.v.push({\r\n            id: i,\r\n            name: p.color,\r\n            imgUrl: p.icon ? this.getImgSrc(p.icon) : \"\",\r\n            previewImgUrl: p.icon ? this.getImgSrc(p.icon) : \"\",\r\n          });\r\n          this.colors.push(p.color);\r\n        });\r\n        this.rows.push(\"color\");\r\n        props.tree.push(row2);\r\n      }\r\n\r\n      // 规格\r\n      if (size.length > 0) {\r\n        row++;\r\n        let row3 = {\r\n          k: \"规格\", // 属性类别\r\n          k_s: \"size\",\r\n          v: [], // 子属性\r\n        };\r\n        size.forEach((p, i) => {\r\n          row3.v.push({\r\n            id: i,\r\n            isSellOut: p.isSellOut !== \"\",\r\n            // name: p.size + ` ${p.isSellOut || \"\"}`,\r\n            name: p.size,\r\n          });\r\n          this.sizes.push(p.size);\r\n        });\r\n        this.rows.push(\"size\");\r\n        props.tree.push(row3);\r\n      }\r\n\r\n      // 版本\r\n      if (edition.length > 0) {\r\n        row++;\r\n        row;\r\n        let row4 = {\r\n          k: \"版本\", // 属性类别\r\n          // k_s: `row${row}`,\r\n          k_s: \"edition\",\r\n          v: [], // 子属下\r\n        };\r\n        edition.forEach((p, i) => {\r\n          row4.v.push({\r\n            id: i,\r\n            name: p.edition,\r\n            imgUrl: this.getImgSrc(p.icon),\r\n            previewImgUrl: this.getImgSrc(p.icon),\r\n          });\r\n          this.editions.push(p.edition);\r\n        });\r\n        this.rows.push(\"edition\");\r\n        props.tree.push(row4);\r\n      }\r\n      // const _this = this; // vue\r\n      // 内部属性\r\n      const GOOD_ID = this.goodProps.defaultOption.gid;\r\n      const rows = this.rows;\r\n      const goodsPropsList = {\r\n        color: this.colors,\r\n        size: this.sizes,\r\n        combo: this.combos,\r\n        edition: this.editions,\r\n      };\r\n\r\n      // 主函数\r\n      function getList(tree, _this) {\r\n        let res = [];\r\n        let group = 1; // 组数\r\n        for (let i = 0; i < tree.length; i++) {\r\n          group = tree[i].v ? group * tree[i].v.length : group;\r\n        }\r\n        const item = {\r\n          selectedNum: 0,\r\n        }; // 产品规格\r\n        let indexCol = 0;\r\n        let allStock = 0;\r\n\r\n        // 回调\r\n        callBack(tree, item, indexCol, allStock, rows);\r\n\r\n        // 递归\r\n        async function callBack(tree, item, indexCol, allStock, rows) {\r\n          for (let i = 0; i < tree[indexCol].v.length; i++) {\r\n            // row-value\r\n            item = JSON.parse(JSON.stringify(item));\r\n            item[rows[indexCol]] = i;\r\n            if (res.find((p) => item.id === p.id)) continue;\r\n            // 下一行 (递归次数)\r\n            if (indexCol + 1 === tree.length) {\r\n              // 初始化obj\r\n              const obj = {};\r\n              for (let k = 0; k < rows.length; k++) {\r\n                obj[rows[k]] = \"\";\r\n              }\r\n              for (const key in obj) {\r\n                obj[key] = goodsPropsList[key][item[key]];\r\n                item.props = (item?.props || \"\") + `${obj[key]} `;\r\n              }\r\n\r\n              // 网络请求添加不同组合的id\r\n              const { color, combo, size, edition } = obj;\r\n              const http = await getGoodProps(\r\n                GOOD_ID,\r\n                color,\r\n                combo,\r\n                size,\r\n                edition\r\n              );\r\n              if (http.status === 200 && http.data.data) {\r\n                const p = http.data.data.defaultOption;\r\n                item.id = String(p.id);\r\n                item.price = p.price * 100;\r\n                item.stock_num = +p.stock;\r\n                item.gid = String(p.gid);\r\n                item.icon = p.icon;\r\n                if (item.stock_num > 0 && props.listIndex === \"\") {\r\n                  props.listIndex = res.length; // 记录默认值的位置\r\n                  _this.skuDefault = JSON.parse(JSON.stringify(item));\r\n                }\r\n                props.stock_num = props.stock_num + item.stock_num;\r\n\r\n                res.push(JSON.parse(JSON.stringify(item)));\r\n                item.id = \"\";\r\n                item.props = \"\";\r\n              }\r\n              continue; // 继续\r\n            }\r\n            // 下一行\r\n            indexCol++;\r\n            await callBack(tree, item, indexCol, allStock, rows); // 最后一排\r\n          }\r\n        }\r\n        return res;\r\n      }\r\n      // console.log(props);\r\n\r\n      // 赋值\r\n      props.list = getList(props.tree, this);\r\n      this.initSku = props;\r\n      // this.$nextTick(() => {\r\n      //   this.skuDefault = props[props.listIndex];\r\n      // });\r\n    },\r\n\r\n    // 获取本商品是否收藏\r\n    getTheCollect() {\r\n      if (this.GOOD_ID === \"\") return (this.isError = true);\r\n      getTheCollectByGid(this.GOOD_ID, this.$store.getters.token)\r\n        .then((res) => {\r\n          this.isCollect = res.data.code === 20011;\r\n        })\r\n        .catch(() => {\r\n          this.isError = true;\r\n        });\r\n    },\r\n    // 添加本商品收藏\r\n    addCollect() {\r\n      // 拦截\r\n      if (!this.isLoginState) return this.toView(4);\r\n      addCollectByGid(this.GOOD_ID, this.$store.getters.token)\r\n        .then((res) => {\r\n          this.isCollect = true;\r\n          res.data.code === 20011 ? Toast(\" 收藏成功！\") : Toast(\" 收藏失败！\");\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    // 删除本商品收藏\r\n    deleteCollect() {\r\n      // 拦截\r\n      if (!this.isLoginState) return this.toView(4);\r\n\r\n      Dialog.confirm({ title: \"是否取消收藏？\" })\r\n        .then(() => {\r\n          deleteCollectByGid(this.GOOD_ID, this.$store.getters.token)\r\n            .then((res) => {\r\n              if (res.data.code === 20011) {\r\n                this.isCollect = false;\r\n                Toast(\" 取消成功！\");\r\n              } else {\r\n                Toast(\" 取消失败！\");\r\n              }\r\n            })\r\n            .catch(() => {\r\n              Toast(\" 取消失败！\");\r\n            });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    // 获取评论\r\n    getCommentList() {\r\n      getGoodCommentById(this.GOOD_ID, 0, this.$store.getters.token)\r\n        .then((res) => {\r\n          if (res.data.code === 20011) {\r\n            const data = res.data.data;\r\n            data.forEach((p) => {\r\n              this.comments.push(p);\r\n            });\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    // 页面跳转\r\n    toView(i) {\r\n      switch (i) {\r\n        // 前往搜索页面\r\n        case 1:\r\n          this.$router.push({\r\n            name: \"search\",\r\n            params: { animate: \"forward\" },\r\n          });\r\n          break;\r\n        // 购物车页面\r\n        case 2:\r\n          this.$router.push({\r\n            name: \"shopcar\",\r\n            params: { animate: \"forward\" },\r\n          });\r\n          break;\r\n        // 提交订单页面\r\n        case 3:\r\n          this.$router.push({\r\n            name: \"order\",\r\n            params: { animate: \"forward\" },\r\n          });\r\n          break;\r\n        // 登录页面\r\n        case 4:\r\n          this.$router.push({\r\n            name: \"login\",\r\n            params: { animate: \"forward\" },\r\n          });\r\n          break;\r\n        // 评论列表页面\r\n        case 5:\r\n          this.$router.push({\r\n            name: \"comment\",\r\n            query: { id: this.GOOD_ID, size: this.comments.length },\r\n            params: { animate: \"forward\" },\r\n          });\r\n          break;\r\n        // 评论详情页面\r\n        case 6:\r\n          this.$router.push({\r\n            name: \"commentdetail\",\r\n            query: { id: this.GOOD_ID },\r\n            params: { animate: \"forward\" },\r\n          });\r\n          break;\r\n      }\r\n    },\r\n\r\n    // 获取价格\r\n    getPrice(price) {\r\n      return ((price * 1000 * this.item.discount) / 1000).toFixed(2);\r\n    },\r\n\r\n    // 轮播图\r\n    onChangeGoodImg(index) {\r\n      this.current = index;\r\n    },\r\n\r\n    // 获取图片地址\r\n    getImgSrc(url) {\r\n      return getResourImageByName(url);\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\"token\", \"isLoginState\"]),\r\n\r\n    // 获取默认属性规格\r\n    getOption() {\r\n      if (this.goodProps?.defaultOption) {\r\n        const p = this.goodProps?.defaultOption;\r\n        return `${p?.color ?? \"\"}  ${p?.size ?? \"\"}  ${p?.combo ?? \"\"} `;\r\n      }\r\n      return \"\";\r\n    },\r\n\r\n    // 获取保障信息\r\n    getSafeInfo() {\r\n      const p = this.item?.goods;\r\n      if (!p) return \"\";\r\n      let res = [];\r\n      if (p?.warrantyTime > 0) res.push(` 保障：${p.warrantyTime}天`);\r\n      if (p.changerTime > 0) res.push(` 包退：${p.changerTime}天`);\r\n      if (p.refundTime > 0) res.push(` 包换：${p.refundTime}天`);\r\n      return res.toString();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.goods-detail {\r\n  background-color: var(--bg-color6);\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0;\r\n  padding-bottom: 1.2rem;\r\n}\r\n/* 轮播商品图 */\r\n.custom-indicator {\r\n  position: absolute;\r\n  right: 0.4rem;\r\n  bottom: 0.6rem;\r\n  padding: 0.1rem 0.2rem;\r\n  letter-spacing: 0.1em;\r\n  font-size: 0.3rem;\r\n  color: rgba(255, 255, 255, 0.8);\r\n  background-color: rgba(128, 128, 128, 0.4);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 0.8rem;\r\n}\r\n.imags {\r\n  width: 100%;\r\n  height: 10rem;\r\n  object-fit: contain;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n/* 主内容 */\r\n.content {\r\n  margin-top: -0.42rem;\r\n  border-radius: 10px;\r\n  padding: 0.25rem;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n  backdrop-filter: blur(20px);\r\n  z-index: 1;\r\n}\r\n.v-card {\r\n  padding: 0.2rem 0.3rem;\r\n  background-color: var(--theme-color3);\r\n  margin: 0.15rem 0;\r\n}\r\n.top .price {\r\n  font-size: 0.4rem;\r\n  color: var(--tip-color2);\r\n  padding: 0.2rem 0;\r\n  font-family: Helvetica;\r\n}\r\n.price .big {\r\n  font-size: 0.7rem;\r\n}\r\n.price .small {\r\n  color: var(--text-color3);\r\n  font-size: 0.3rem;\r\n  padding-left: 0.1rem;\r\n  text-decoration: line-through;\r\n}\r\n.top .title {\r\n  font-weight: 600;\r\n  font-size: 0.45rem;\r\n}\r\n.shop-nav {\r\n  z-index: 999;\r\n}\r\n/* 规格组 */\r\n.lable-group {\r\n  padding: 0.2rem 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.lable-group .lable {\r\n  color: var(--text-color3);\r\n  font-size: 0.32rem;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n.lable-group .black {\r\n  color: var(--text-color4);\r\n}\r\n/* 暗色规格 */\r\n.lable-group .props {\r\n  width: 80%;\r\n}\r\n.lable-group .box {\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  max-width: calc(100% - 1.6rem);\r\n  color: var(--text-color3);\r\n  background-color: var(--bg-color5);\r\n  border-radius: 0.4em;\r\n  padding: 0.08rem 0.15rem;\r\n  font-size: 0.25rem;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n}\r\n/* 评论框 */\r\n.comments {\r\n  position: relative;\r\n}\r\n\r\n/* 商品详情 */\r\n.detail-info {\r\n  width: 100%;\r\n  padding: 0 0.3rem;\r\n  border-radius: 10px;\r\n}\r\n.detail-info .title {\r\n  text-align: center;\r\n\r\n  padding: 0 0.4rem;\r\n  margin: 0.3rem 0;\r\n  color: var(--border-color);\r\n}\r\n.detail-info .title span {\r\n  color: var(--text-color4);\r\n}\r\n.detail-info .label {\r\n  padding: 0.2rem;\r\n}\r\n.detail-info .label1 {\r\n  width: 100%;\r\n  text-align: center;\r\n  /* box-shadow: var(--shadow-color3); */\r\n  margin-bottom: 0.4rem;\r\n  border-radius: 8px;\r\n  background-color: var(--theme-color);\r\n}\r\n.detail-info .img {\r\n  width: 100%;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsDetail.vue?vue&type=template&id=59cd0aea&scoped=true&\"\nimport script from \"./GoodsDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoodsDetail.vue?vue&type=style&index=0&id=59cd0aea&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59cd0aea\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('default-page',{attrs:{\"title\":\"评价详情\"}},[_c('comment-card',{staticClass:\"author\",attrs:{\"comment\":_vm.comment,\"disableComment\":true}}),_c('div',{staticClass:\"comment-box\",on:{\"mousedown\":_vm.blurCommentObj}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.comment_child.length)+\" 条回复\")]),_c('transition-group',{attrs:{\"tag\":\"div\",\"name\":\"bottomRight\"}},_vm._l((_vm.comment_child),function(p,i){return _c('comment-child-card',{key:p.id,attrs:{\"comment\":p,\"first\":i},on:{\"deleteComment\":_vm.deleteComment,\"toComment\":_vm.changeCommentObj}},[[_c('div',{staticClass:\"son-card\"},[_c('transition-group',{attrs:{\"tag\":\"div\",\"name\":\"bottomRight\"}},_vm._l((p.childComments),function(son,j){return _c('comment-child-card',{key:son.id,attrs:{\"comment\":son,\"fid\":p?.id,\"first\":i,\"second\":j},on:{\"deleteComment\":_vm.deleteComment,\"toComment\":_vm.changeCommentObj}})}),1)],1)]],2)}),1)],1),_c('div',{staticClass:\"to-comment\"},[_c('van-image',{staticClass:\"user-icon\",attrs:{\"lazy-load\":\"\",\"round\":\"\",\"src\":_vm.getImgSrc(_vm.comment?.userIcon)}}),_c('van-field',{ref:\"commentInput\",staticClass:\"v-input\",attrs:{\"type\":\"text\",\"formatter\":_vm.formatInput,\"placeholder\":_vm.getHiddentText || '买家期待和你交流~'},model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}}),_c('input',{staticClass:\"v-btn\",attrs:{\"type\":\"submit\",\"value\":\"发送\"},on:{\"click\":_vm.addComment}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\n\r\n/**\r\n * 获取评论子评论\r\n * @param {String} fid\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getCommentSons(fid, token) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/comments/query`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    params: {\r\n      id: fid,\r\n    },\r\n  });\r\n}\r\n/**\r\n * 新增对评论的评论\r\n * @param {number} evaluationId 评价id\r\n * @param {number} fid 评论的父级 或则 null\r\n * @param {string} content 内容\r\n * @param {token} token\r\n * @returns\r\n */\r\nexport function addCommentChild(evaluationId, fid, content, token) {\r\n  if (!fid) fid = null; // 清空\r\n  return request({\r\n    method: \"post\",\r\n    url: `/comments/save`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: {\r\n      evaluationId,\r\n      fid,\r\n      content,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n *  对评论的子评论点赞\r\n * @param {string} fid 评论父id\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function addCommentlikedByfid(fid, token) {\r\n  return request({\r\n    method: \"put\",\r\n    url: `/comments/liked/${fid}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n *  删除评论\r\n * @param {string} id 评论kd\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function deleteCommentByfid(id, token) {\r\n  return request({\r\n    method: \"delete\",\r\n    url: `/comments/delete/${id}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  });\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-child-card disable-popup\"},[_c('div',{staticClass:\"child-card\"},[_c('img',{staticClass:\"icon left\",attrs:{\"src\":_vm.getImgSrc(_vm.comment.userIcon)}}),_c('div',{directives:[{name:\"longpress\",rawName:\"v-longpress\",value:(_vm.onDelete),expression:\"onDelete\"}],staticClass:\"contain\"},[_c('div',{staticClass:\"r-text\"},[_c('small',{staticClass:\"text nickname\"},[_vm._v(_vm._s(_vm.comment.nickname)+\" \"),(_vm.comment.isAuthor)?_c('span',{staticClass:\"text isAuther\"},[_vm._v(\"作者\")]):_vm._e(),(_vm.comment.isMe)?_c('span',{staticClass:\"text isAuther\"},[_vm._v(\"自己\")]):_vm._e()]),_c('div',{staticClass:\"text texts\",domProps:{\"innerHTML\":_vm._s(_vm.comment.content)}}),_c('div',[_c('small',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.initTime(_vm.comment.time)))]),_vm._v(\"   \"),_c('span',{staticClass:\"grey text\",on:{\"click\":function($event){return _vm.toComment(_vm.comment.id)},\"touchstart\":function($event){return _vm.toComment(_vm.comment.id)},\"focus\":function($event){return _vm.toComment(_vm.comment.id)}}},[_vm._v(\"回复\")])])])]),_c('div',{staticClass:\"right\",on:{\"click\":function($event){return _vm.pickLike(_vm.comment.id)}}},[_c('van-icon',{attrs:{\"name\":_vm.comment?.isLiked ? 'like' : 'like-o',\"color\":_vm.comment?.isLiked ? 'var(--tip-color2)' : 'var(--text-color3)'}}),_c('div',{staticClass:\"like-nums text grey\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.comment.liked || \"\")+\" \")])],1)]),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\r\n  <div class=\"comment-child-card disable-popup\">\r\n    <div class=\"child-card\">\r\n      <!-- 头像 -->\r\n      <img :src=\"getImgSrc(comment.userIcon)\" class=\"icon left\" />\r\n      <!-- 内容 -->\r\n      <div class=\"contain\" v-longpress=\"onDelete\">\r\n        <div class=\"r-text\">\r\n          <small class=\"text nickname\"\r\n            >{{ comment.nickname }}\r\n            <span class=\"text isAuther\" v-if=\"comment.isAuthor\">作者</span>\r\n            <span class=\"text isAuther\" v-if=\"comment.isMe\">自己</span>\r\n          </small>\r\n          <div class=\"text texts\" v-html=\"comment.content\"></div>\r\n          <div>\r\n            <small class=\"text\">{{ initTime(comment.time) }}</small>\r\n            &nbsp;\r\n            <span\r\n              class=\"grey text\"\r\n              @click=\"toComment(comment.id)\"\r\n              @touchstart=\"toComment(comment.id)\"\r\n              @focus=\"toComment(comment.id)\"\r\n              >回复</span\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 喜欢/不 -->\r\n      <div class=\"right\" @click=\"pickLike(comment.id)\">\r\n        <van-icon\r\n          :name=\"comment?.isLiked ? 'like' : 'like-o'\"\r\n          :color=\"comment?.isLiked ? 'var(--tip-color2)' : 'var(--text-color3)'\"\r\n        />\r\n        <div class=\"like-nums text grey\" style=\"text-align: center\">\r\n          {{ comment.liked || \"\" }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 孙评论 -->\r\n    <slot class=\"son-card\"></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport { addCommentlikedByfid } from \"@/api/comment/pickcomment\";\r\nexport default {\r\n  props: {\r\n    comment: { required: true },\r\n    fid: { required: false },\r\n    id: { required: false },\r\n    first: {\r\n      default: -1,\r\n      required: true,\r\n    },\r\n    second: {\r\n      default: -1,\r\n      required: false,\r\n    },\r\n  },\r\n  methods: {\r\n    // 获取图片地址\r\n    getImgSrc(url) {\r\n      return getResourImageByName(url);\r\n    },\r\n\r\n    // 格式日期\r\n    initTime(time) {\r\n      let date = new Date(time);\r\n      return `${date.getFullYear()}-${date.getMonth()}-${date.getDay()}`;\r\n    },\r\n\r\n    // 触发删除\r\n    onDelete() {\r\n      if (this.comment.isMe) {\r\n        this.$emit(\"deleteComment\", this.comment.id);\r\n      }\r\n    },\r\n\r\n    // 点赞\r\n    async pickLike(fid) {\r\n      if (this.pickTimer) return;\r\n      const res = await addCommentlikedByfid(fid, this.$store.getters.token);\r\n      if (res.data.code === 20011) {\r\n        if (this.comment.isLiked) {\r\n          this.$set(this.comment, \"isLiked\", false);\r\n          this.$set(this.comment, \"liked\", this.comment.liked - 1);\r\n          this.$toast(\"取消点赞\");\r\n        } else {\r\n          this.$set(this.comment, \"isLiked\", true);\r\n          this.$set(this.comment, \"liked\", this.comment.liked + 1);\r\n        }\r\n      }\r\n    },\r\n\r\n    // 切换评论对象\r\n    toComment() {\r\n      this.$emit(\"toComment\", {\r\n        fid: this.id, // 整体评论的主id\r\n        sid: this.fid, // 父id\r\n        name: this.comment.nickname, // 对谁评论\r\n        firstIndex: this.first,\r\n        secondIndex: this.second,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.child-card {\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 0.3rem 0;\r\n}\r\n.text {\r\n  font-size: 0.34rem;\r\n}\r\n.grey {\r\n  color: var(--text-color3);\r\n}\r\n.text-small {\r\n  font-size: 0.3rem;\r\n}\r\n.child-card .contain {\r\n  padding: 0 0.2rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  flex: 1;\r\n}\r\n.child-card .r-text {\r\n  width: 100%;\r\n}\r\n.r-text > div {\r\n  padding: 0.06rem 0;\r\n}\r\n\r\n.child-card .icon,\r\n.icon .icon-small {\r\n  width: 1rem;\r\n  height: 1rem;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n  border: 1px solid var(--border-color);\r\n}\r\n.icon-small {\r\n  width: 0.6rem;\r\n  height: 0.6rem;\r\n}\r\n.isAuther {\r\n  width: 3em;\r\n  display: inline-block;\r\n  background-color: var(--border-color);\r\n  font-size: 0.3rem;\r\n  border-radius: 0.2rem;\r\n  text-align: center;\r\n}\r\n\r\n/* 子评论 */\r\n.comment-child-card > .son-card {\r\n  opacity: 0.8;\r\n  padding-left: 1rem;\r\n}\r\n.comment-child-card > .son-card .icon {\r\n  width: 0.6rem;\r\n  height: 0.6rem;\r\n}\r\n</style>\r\n ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentChildCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentChildCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentChildCard.vue?vue&type=template&id=290ffc67&scoped=true&\"\nimport script from \"./CommentChildCard.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentChildCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentChildCard.vue?vue&type=style&index=0&id=290ffc67&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"290ffc67\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-useless-escape */\r\nexport function checkText(text) {\r\n  text = text\r\n    .replace(/(<br[^>]*>| |\\s*)/g, \"\")\r\n    .replace(/\\&/g, \"&amp;\")\r\n    .replace(/\\\"/g, \"&quot;\")\r\n    .replace(/\\'/g, \"&#39;\")\r\n    .replace(/\\</g, \"&lt;\")\r\n    .replace(/\\>/g, \"&gt;\");\r\n  return text;\r\n}\r\n","<template>\r\n  <default-page title=\"评价详情\">\r\n    <comment-card :comment=\"comment\" :disableComment=\"true\" class=\"author\" />\r\n    <div class=\"comment-box\" @mousedown=\"blurCommentObj\">\r\n      <div style=\"text-align: center\">{{ comment_child.length }} 条回复</div>\r\n      <!-- 评论 -->\r\n      <transition-group tag=\"div\" name=\"bottomRight\">\r\n        <comment-child-card\r\n          @deleteComment=\"deleteComment\"\r\n          @toComment=\"changeCommentObj\"\r\n          v-for=\"(p, i) in comment_child\"\r\n          :comment=\"p\"\r\n          :key=\"p.id\"\r\n          :first=\"i\"\r\n        >\r\n          <template>\r\n            <!-- 子评论 -->\r\n            <div class=\"son-card\">\r\n              <transition-group tag=\"div\" name=\"bottomRight\">\r\n                <comment-child-card\r\n                  v-for=\"(son, j) in p.childComments\"\r\n                  :comment=\"son\"\r\n                  @deleteComment=\"deleteComment\"\r\n                  @toComment=\"changeCommentObj\"\r\n                  :key=\"son.id\"\r\n                  :fid=\"p?.id\"\r\n                  :first=\"i\"\r\n                  :second=\"j\"\r\n                ></comment-child-card>\r\n              </transition-group>\r\n            </div>\r\n          </template>\r\n        </comment-child-card>\r\n      </transition-group>\r\n    </div>\r\n\r\n    <!-- 评论输入 -->\r\n    <div class=\"to-comment\">\r\n      <van-image\r\n        lazy-load\r\n        round\r\n        :src=\"getImgSrc(comment?.userIcon)\"\r\n        class=\"user-icon\"\r\n      />\r\n      <van-field\r\n        class=\"v-input\"\r\n        type=\"text\"\r\n        v-model=\"commentText\"\r\n        :formatter=\"formatInput\"\r\n        :placeholder=\"getHiddentText || '买家期待和你交流~'\"\r\n        ref=\"commentInput\"\r\n      ></van-field>\r\n      <input type=\"submit\" value=\"发送\" class=\"v-btn\" @click=\"addComment\" />\r\n    </div>\r\n  </default-page>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  addCommentChild,\r\n  deleteCommentByfid,\r\n  getCommentSons,\r\n} from \"@/api/comment/pickcomment\";\r\nimport DefaultPage from \"@/components/DefaultPage.vue\";\r\nimport CommentCard from \"@/components/Comment/CommentCard.vue\";\r\nimport CommentChildCard from \"@/components/Comment/CommentChildCard.vue\";\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport { checkText } from \"@/util/xxsFilter\";\r\nexport default {\r\n  name: \"CommentDetail\",\r\n  components: { DefaultPage, CommentCard, CommentChildCard },\r\n  data() {\r\n    return {\r\n      commentText: \"\",\r\n      index: { first: -1, second: -1 }, // 数组坐标\r\n      commentId: \"\",\r\n      fid: \"\",\r\n      sid: \"\",\r\n      commentNickName: \"\",\r\n      comment: {}, // 评论\r\n      comment_child: [], // 子评论\r\n      timer: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    // 获取祖评论\r\n    if (this.$route.params?.comment) {\r\n      this.comment = this.$route.params?.comment;\r\n      sessionStorage.setItem(\"THE_COMMENT\", JSON.stringify(this.comment));\r\n    } else {\r\n      this.comment = JSON.parse(sessionStorage.getItem(\"THE_COMMENT\"));\r\n    }\r\n    if (this.$route.query.id) {\r\n      // 评论的id\r\n      this.commentId = this.$route.query?.id;\r\n      // 获取评论父评论 和 孙元素\r\n      this.reqGetItem();\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取评论子评论\r\n    async reqGetItem() {\r\n      const res = await getCommentSons(\r\n        this.$route?.query.id,\r\n        this.$store.getters.token\r\n      );\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        console.log(res.data);\r\n        this.comment_child.splice(0); // 清空\r\n        res.data.data.forEach((p) => {\r\n          this.comment_child.push(p);\r\n        });\r\n      }\r\n    },\r\n\r\n    // 改变评论对象\r\n    changeCommentObj(obj) {\r\n      this.fid = obj?.fid;\r\n      this.sid = obj?.sid;\r\n      console.log(this.fid);\r\n      this.commentNickName = obj.name;\r\n      this.$refs.commentInput.$refs.input.focus();\r\n    },\r\n\r\n    // 失去焦点清空对象\r\n    blurCommentObj() {\r\n      this.fid = null;\r\n      this.commentNickName = \"\";\r\n    },\r\n\r\n    // 去评论\r\n    async addComment() {\r\n      if (this.commentText.trim() === \"\")\r\n        return this.$toast(\"评论内容不能为空！\");\r\n      console.log(this.commentId, this.fid);\r\n      const res = await addCommentChild(\r\n        this.commentId,\r\n        this.fid,\r\n        this.commentText,\r\n        this.$store.getters.token\r\n      );\r\n      this.commentText = \"\";\r\n      if (res.data.code === 20011 && res.status === 200) {\r\n        // 重新获取评论\r\n        this.reqGetItem();\r\n        console.log(res.data);\r\n        this.$toast(\"评论成功！\");\r\n      } else {\r\n        this.$toast(\"评论失败！\");\r\n      }\r\n    },\r\n\r\n    // 删除评论\r\n    async deleteComment(id) {\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"是否删除该评论？\",\r\n          beforeClose: async (action, done) => {\r\n            if (action === \"confirm\") {\r\n              const res = await deleteCommentByfid(\r\n                id,\r\n                this.$store.getters.token\r\n              );\r\n              if (res.data.code === 20011 && res.status === 200) {\r\n                console.log(res.data);\r\n                this.$toast(\"删除成功！\");\r\n                this.reqGetItem(); // 重新获取评论\r\n              } else {\r\n                this.$toast(\"删除失败！\");\r\n              }\r\n            }\r\n            done();\r\n          },\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    touchStart(fn) {\r\n      clearTimeout(this.timer);\r\n      this.timer = setTimeout(fn, 800);\r\n    },\r\n\r\n    touchEnd() {\r\n      clearTimeout(this.timer);\r\n    },\r\n\r\n    // 格式化用户输入\r\n    formatInput(val) {\r\n      return checkText(val.trim());\r\n    },\r\n\r\n    // 图片地址\r\n    getImgSrc() {\r\n      return getResourImageByName(this.$store.state.userInfo.icon);\r\n    },\r\n  },\r\n  computed: {\r\n    // 计算输入框的默认对象\r\n    getHiddentText() {\r\n      if (this.commentNickName) {\r\n        return `对 ${this.commentNickName} 回复`;\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.author {\r\n  padding: 0.2rem;\r\n}\r\n/* 评论区 */\r\n.comment-box {\r\n  border-radius: 20px 20px 0 0;\r\n  box-shadow: 0 -2px 2px #dddddd71;\r\n  padding: 0.4rem;\r\n  background-color: var(--theme-color);\r\n  width: 100vw;\r\n  position: absolute;\r\n  left: 0;\r\n  padding-bottom: 2rem;\r\n}\r\n\r\n/* 评论栏 */\r\n.to-comment {\r\n  padding: 0 0.2rem;\r\n  width: 100%;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background-color: var(--theme-color);\r\n  /* box-shadow: var(--shadow-color2); */\r\n  border-top: 1px solid var(--border-color);\r\n}\r\n.to-comment .user-icon {\r\n  width: 1rem;\r\n  height: 1rem;\r\n}\r\n.to-comment .v-input {\r\n  background-color: var(--bg-color5);\r\n}\r\n.to-comment .v-input {\r\n  flex: 1;\r\n  margin: 0 0.2rem;\r\n  padding: 0.16rem 0.4rem;\r\n}\r\n.to-comment .v-btn {\r\n  padding: 0.16rem 0.5rem;\r\n  border: none;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentDetail.vue?vue&type=template&id=028fa694&scoped=true&\"\nimport script from \"./CommentDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentDetail.vue?vue&type=style&index=0&id=028fa694&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"028fa694\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('default-page',{attrs:{\"title\":`评论${_vm.commentLength ? ' (' + _vm.commentLength + ')' : ''}`}},[_c('van-tabs',{attrs:{\"sticky\":\"\",\"animated\":\"\",\"lazy-render\":\"\",\"swipeable\":\"\",\"color\":\"var(--theme-color2)\",\"title-active-color\":\"var(--theme-color2)\"},on:{\"change\":_vm.changeNav},model:{value:(_vm.activeBar),callback:function ($$v) {_vm.activeBar=$$v},expression:\"activeBar\"}},_vm._l((_vm.option),function(p,i){return _c('van-tab',{key:i,staticClass:\"top-nav\",attrs:{\"title\":p.title,\"name\":p.name}},[_c('comment-list',{attrs:{\"reqType\":p.sort,\"gid\":_vm.goodId}})],1)}),1),_c('comment-popup')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-list',{staticClass:\"comment-list\",attrs:{\"error\":_vm.isHttpError,\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"update:error\":function($event){_vm.isHttpError=$event},\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('transition-group',{attrs:{\"name\":\"bottomRight\",\"tag\":\"div\"}},_vm._l((_vm.commentList),function(item,i){return _c('comment-card',{key:item.id,staticClass:\"v-card item\",attrs:{\"comment\":item},on:{\"deleteOneOrderComment\":function($event){return _vm.deleteOneOrderComment(item.id, i)}}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"@/util/request\";\r\n\r\n/**\r\n * 根据id查询订单评价\r\n * @param {String} id\r\n * @returns\r\n */\r\nexport function getOrderCommentById(id) {\r\n  return request({\r\n    method: \"get\",\r\n    url: `/comments/query/${id}`,\r\n  });\r\n}\r\n\r\n/**\r\n *  上传订单评价图片\r\n * @param {String} orderItemId\r\n * @param {File} fromData\r\n * @param {String} token\r\n * @returns\r\n */\r\nexport function uploadOrderImgById(orderItemId, fromData, token) {\r\n  return request({\r\n    method: \"post\",\r\n    url: `/evaluation/uploadImages/${orderItemId}`,\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n      Authorization: token,\r\n    },\r\n    data: fromData,\r\n    timeout: 30000,\r\n  });\r\n}\r\n\r\n/**\r\n * 新增订单评价\r\n * @param {*} orderItemId\r\n * @param {*} stars\r\n * @param {*} images 每张图片用“，”分隔\r\n * @param {*} content\r\n * @returns\r\n */\r\nexport function addOrderComment(orderItemId, stars, images, content, token) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/evaluation/save\",\r\n    headers: { Authorization: token },\r\n    data: {\r\n      orderItemId,\r\n      stars,\r\n      images,\r\n      content,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 删除评论\r\n * @param {String} id\r\n * @param {String} token\r\n * @returns\r\n */\r\nexport function delteOrderComment(id, token) {\r\n  return request({\r\n    method: \"delete\",\r\n    url: `/evaluation/delete/${id}`,\r\n    headers: { Authorization: token },\r\n  });\r\n}\r\n","<template>\r\n  <!-- 商品列表 -->\r\n  <van-list\r\n    class=\"comment-list\"\r\n    v-model=\"loading\"\r\n    :error.sync=\"isHttpError\"\r\n    :finished=\"finished\"\r\n    finished-text=\"没有更多了\"\r\n    @load=\"onLoad\"\r\n  >\r\n    <transition-group name=\"bottomRight\" tag=\"div\">\r\n      <!-- 商品卡片 -->\r\n      <comment-card\r\n        :comment=\"item\"\r\n        v-for=\"(item, i) in commentList\"\r\n        :key=\"item.id\"\r\n        class=\"v-card item\"\r\n        @deleteOneOrderComment=\"deleteOneOrderComment(item.id, i)\"\r\n      />\r\n    </transition-group>\r\n  </van-list>\r\n</template>\r\n<script>\r\nimport { getGoodCommentById } from \"@/api/comment/comment\";\r\nimport CommentCard from \"./CommentCard.vue\";\r\nimport { delteOrderComment } from \"@/api/comment/ordercomment\";\r\nexport default {\r\n  components: { CommentCard },\r\n  props: {\r\n    reqType: {\r\n      // 请求类型\r\n      type: Number,\r\n      required: false,\r\n      default: 0,\r\n    },\r\n    gid: {\r\n      // 请求类型\r\n      required: true,\r\n    },\r\n  },\r\n  name: \"CommentList\",\r\n  data() {\r\n    return {\r\n      currentPage: 1, // 当前分页\r\n      commentList: [], // 商品列表\r\n      isHttpError: false, // 网络请求错误\r\n      loading: false, // 加载中\r\n      finished: false, // 完成\r\n    };\r\n  },\r\n  methods: {\r\n    // 加载对应的商品列表\r\n    onLoad() {\r\n      this.reqCommentListBySort();\r\n    },\r\n\r\n    // 删除评论\r\n    deleteOneOrderComment(id, index) {\r\n      // console.log(id, index);\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"是否删除评价？\",\r\n          beforeClose: async (action, done) => {\r\n            if (action === \"confirm\") {\r\n              const res = await delteOrderComment(\r\n                id,\r\n                this.$store.getters.token\r\n              );\r\n              if (res.data.code === 20011) {\r\n                this.commentList.splice(index, 1); // 删除\r\n                done();\r\n                this.$toast({ type: \"success\", message: \"删除成功\" });\r\n              } else {\r\n                this.$toast({ type: \"fail\", message: \"删除失败\" });\r\n              }\r\n            }\r\n            done();\r\n          },\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    // 请求评论列表\r\n    reqCommentListBySort() {\r\n      this.loading = true;\r\n      getGoodCommentById(this.gid, this.reqType, this.$store.getters.token)\r\n        .then((res) => {\r\n          // console.log(res.data);\r\n          if (res.data.code === 20011) {\r\n            const data = res.data.data;\r\n            let count = 0;\r\n            let timer = setInterval(() => {\r\n              // 数据全部加载完成\r\n              if (count >= data.length) {\r\n                this.finished = true;\r\n                clearInterval(timer);\r\n                this.timer = \"\";\r\n                return;\r\n              }\r\n              this.commentList.push(data[count]);\r\n              count++;\r\n              // 加载状态结束\r\n              this.loading = false;\r\n              this.finished = true;\r\n            }, 200);\r\n          } else {\r\n            this.isHttpError = true;\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.isHttpError = true;\r\n        });\r\n    },\r\n\r\n    // 重新加载\r\n    reStart() {\r\n      this.currentPage = 1;\r\n      this.commentList.splice(0); // 清空数组\r\n      this.onLoad();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.item {\r\n  border-radius: 10px;\r\n  margin: 0.2rem 0.1rem;\r\n  box-shadow: var(--shadow-color3);\r\n  padding: 0.2rem 0.3rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentList.vue?vue&type=template&id=7c8bd278&scoped=true&\"\nimport script from \"./CommentList.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentList.vue?vue&type=style&index=0&id=7c8bd278&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c8bd278\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-popup\"},[_c('van-popup',{style:({ width: '100%', height: '70%' }),attrs:{\"position\":\"bottom\",\"round\":\"\"},model:{value:(_vm.showPopup),callback:function ($$v) {_vm.showPopup=$$v},expression:\"showPopup\"}},[_c('div',{staticClass:\"comment-box\"},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.commentLength)+\" 条回复\")]),_c('transition-group',{attrs:{\"tag\":\"div\",\"name\":_vm.isAnimate ? 'sliceInZoomOut' : ''}},_vm._l((_vm.comment_child),function(p,i){return _c('comment-child-card',{key:p.id,attrs:{\"comment\":p,\"id\":p.id,\"first\":i},on:{\"deleteComment\":_vm.deleteComment,\"toComment\":_vm.changeCommentObj}},[[_c('div',{staticClass:\"son-card\"},[_c('transition-group',{attrs:{\"tag\":\"div\",\"name\":\"sliceInZoomOut\"}},_vm._l((p.childComments),function(son,j){return _c('comment-child-card',{key:son.id,attrs:{\"comment\":son,\"id\":p.id,\"fid\":p?.id,\"first\":i,\"second\":j},on:{\"deleteComment\":_vm.deleteComment,\"toComment\":_vm.changeCommentObj}})}),1)],1)]],2)}),1)],1),_c('div',{ref:\"toCommentBar\",staticClass:\"to-comment\",on:{\"mouseleave\":_vm.clearCommentObj}},[_c('van-image',{staticClass:\"user-icon\",attrs:{\"lazy-load\":\"\",\"round\":\"\",\"src\":_vm.getImgSrc(_vm.$store.userInfo?.userIcon)}}),_c('van-field',{ref:\"commentInput\",staticClass:\"v-input\",attrs:{\"type\":\"text\",\"formatter\":_vm.formatInput,\"placeholder\":_vm.placeText || '买家期待和你交流',\"clearable\":true},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.addComment.apply(null, arguments)}},model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}}),_c('input',{staticClass:\"v-btn\",attrs:{\"type\":\"submit\",\"value\":\"发送\"},on:{\"click\":_vm.addComment}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-popup\">\r\n    <van-popup\r\n      v-model=\"showPopup\"\r\n      position=\"bottom\"\r\n      round\r\n      :style=\"{ width: '100%', height: '70%' }\"\r\n    >\r\n      <div class=\"comment-box\">\r\n        <div style=\"text-align: center\">{{ commentLength }} 条回复</div>\r\n        <!-- 评论 -->\r\n        <transition-group tag=\"div\" :name=\"isAnimate ? 'sliceInZoomOut' : ''\">\r\n          <comment-child-card\r\n            @deleteComment=\"deleteComment\"\r\n            @toComment=\"changeCommentObj\"\r\n            v-for=\"(p, i) in comment_child\"\r\n            :comment=\"p\"\r\n            :key=\"p.id\"\r\n            :id=\"p.id\"\r\n            :first=\"i\"\r\n          >\r\n            <template>\r\n              <!-- 子评论 -->\r\n              <div class=\"son-card\">\r\n                <transition-group tag=\"div\" name=\"sliceInZoomOut\">\r\n                  <comment-child-card\r\n                    v-for=\"(son, j) in p.childComments\"\r\n                    :comment=\"son\"\r\n                    @deleteComment=\"deleteComment\"\r\n                    @toComment=\"changeCommentObj\"\r\n                    :key=\"son.id\"\r\n                    :id=\"p.id\"\r\n                    :fid=\"p?.id\"\r\n                    :first=\"i\"\r\n                    :second=\"j\"\r\n                  ></comment-child-card>\r\n                </transition-group>\r\n              </div>\r\n            </template>\r\n          </comment-child-card>\r\n        </transition-group>\r\n      </div>\r\n      <!-- 评论输入 -->\r\n      <div class=\"to-comment\" ref=\"toCommentBar\" @mouseleave=\"clearCommentObj\">\r\n        <van-image\r\n          lazy-load\r\n          round\r\n          :src=\"getImgSrc($store.userInfo?.userIcon)\"\r\n          class=\"user-icon\"\r\n        />\r\n        <van-field\r\n          class=\"v-input\"\r\n          type=\"text\"\r\n          v-model=\"commentText\"\r\n          :formatter=\"formatInput\"\r\n          :placeholder=\"placeText || '买家期待和你交流'\"\r\n          ref=\"commentInput\"\r\n          :clearable=\"true\"\r\n          @keyup.enter=\"addComment\"\r\n        ></van-field>\r\n        <input type=\"submit\" value=\"发送\" class=\"v-btn\" @click=\"addComment\" />\r\n      </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  addCommentChild,\r\n  deleteCommentByfid,\r\n  getCommentSons,\r\n} from \"@/api/comment/pickcomment\";\r\nimport CommentChildCard from \"@/components/Comment/CommentChildCard.vue\";\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport { checkText } from \"@/util/xxsFilter\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"CommentDetail\",\r\n  components: { CommentChildCard },\r\n  data() {\r\n    return {\r\n      commentText: \"\",\r\n      placeText: \"\", // 虚字\r\n      fid: \"\",\r\n      sid: \"\",\r\n\r\n      commentLength: 0, // 评论总条数\r\n      // 级别坐标\r\n      firstIndex: -1,\r\n      secondIndex: -1,\r\n\r\n      commentNickName: \"\",\r\n      comment_child: [], // 子评论\r\n\r\n      // 功能\r\n      showPopup: false,\r\n      isAnimate: true, // 控制动画\r\n    };\r\n  },\r\n  mounted() {\r\n    this.showPopup = this.showCommentPopup;\r\n  },\r\n  methods: {\r\n    // 获取评论子评论\r\n    async reqGetItem() {\r\n      this.isAnimate = false;\r\n      this.clearCommentObj(); // 清空状态\r\n      const res = await getCommentSons(\r\n        this.commentId,\r\n        this.$store.getters.token\r\n      );\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        this.comment_child.splice(0); // 清空\r\n        this.commentLength = 0;\r\n        this.commentLength += res.data.data.length;\r\n        res.data.data.forEach((p, i) => {\r\n          this.comment_child.push(p);\r\n          if (!p?.childComments) return;\r\n          if (res.data.data.length === i + 1) {\r\n            this.isAnimate = true;\r\n          }\r\n          p?.childComments.filter((item) => {\r\n            this.commentLength++;\r\n            item.content = item.content.replace(\r\n              /(^@.*?:)/,\r\n              \"<span class='at-comment'>$1</span>\"\r\n              // \"<span style='color:var(--tip-color2);'>$1</span>\"\r\n            );\r\n            return item;\r\n          });\r\n        });\r\n      }\r\n    },\r\n\r\n    // 去评论\r\n    async addComment() {\r\n      if (this.commentText.trim() === \"\")\r\n        return this.$toast(\"评论内容不能为空！\");\r\n      const res = await addCommentChild(\r\n        this.commentId,\r\n        this.fid,\r\n        this.commentText.trim(),\r\n        this.$store.getters.token\r\n      );\r\n      this.commentText = \"\";\r\n      if (res.data.code === 20011 && res.status === 200) {\r\n        // 重新获取评论\r\n        this.reqGetItem();\r\n        this.$toast(\"评论成功！\");\r\n      } else {\r\n        this.$toast(\"评论失败！\");\r\n      }\r\n      this.clearCommentObj(); // 清空状态\r\n    },\r\n\r\n    // 删除评论\r\n    async deleteComment(id) {\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"是否删除该评论？\",\r\n          beforeClose: async (action, done) => {\r\n            if (action === \"confirm\") {\r\n              const res = await deleteCommentByfid(\r\n                id,\r\n                this.$store.getters.token\r\n              );\r\n              if (res.data.code === 20011 && res.status === 200) {\r\n                this.$toast(\"删除成功！\");\r\n                this.reqGetItem(); // 重新获取评论\r\n              } else {\r\n                this.$toast(\"删除失败！\");\r\n              }\r\n            }\r\n            done();\r\n          },\r\n        })\r\n        .catch(() => {});\r\n      // beforeClose:\r\n    },\r\n    // 格式化用户输入\r\n    formatInput(val) {\r\n      return checkText(val);\r\n    },\r\n\r\n    // 图片地址\r\n    getImgSrc() {\r\n      return getResourImageByName(this.$store.state.userInfo.icon);\r\n    },\r\n\r\n    // 改变评论对象\r\n    changeCommentObj(obj) {\r\n      let { fid, sid, firstIndex, secondIndex } = obj;\r\n      // console.log(obj);\r\n      this.fid = fid;\r\n      this.sid = sid;\r\n      this.firstIndex = firstIndex;\r\n      this.secondIndex = secondIndex;\r\n      this.commentNickName = obj.name;\r\n      this.$refs.commentInput.$refs.input.focus();\r\n    },\r\n\r\n    // 清空评论的对象\r\n    clearCommentObj() {\r\n      this.firstIndex = -1;\r\n      this.secondIndex = -1;\r\n      this.fid = null;\r\n      this.commentNickName = \"\";\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"showCommentPopup\", \"commentId\"]),\r\n  },\r\n  watch: {\r\n    // 评论对象\r\n    firstIndex() {\r\n      if (this.commentNickName && this.firstIndex >= 0) {\r\n        if (this.commentNickName === this.$store.state.userInfo?.nickname) {\r\n          this.commentText = \"@自己:\";\r\n          this.placeText = \"@自己:\";\r\n        } else {\r\n          this.commentText = `@${this.commentNickName}:`;\r\n          this.placeText = `@${this.commentNickName}`;\r\n        }\r\n      } else {\r\n        this.placeText = \"\";\r\n      }\r\n    },\r\n    // 评论对象\r\n    secondIndex() {\r\n      if (this.commentNickName && this.secondIndex >= 0) {\r\n        if (this.commentNickName === this.$store.state.userInfo?.nickname) {\r\n          this.placeText = this.commentText = \"@自己:\";\r\n        } else {\r\n          this.placeText = this.commentText = `@${this.commentNickName}:`;\r\n        }\r\n      } else {\r\n        this.commentText = \"\";\r\n      }\r\n    },\r\n    // 评论对象清空\r\n    commentText(val) {\r\n      if (val.trim() === \"\") {\r\n        this.clearCommentObj();\r\n      }\r\n    },\r\n\r\n    // 评论id\r\n    commentId(newVal, oldVal) {\r\n      if (newVal !== oldVal && newVal !== undefined) {\r\n        this.isAnimate = false;\r\n        this.reqGetItem();\r\n      }\r\n    },\r\n    // 监听面板\r\n    showCommentPopup(val) {\r\n      this.showPopup = val;\r\n    },\r\n    // 监听面板\r\n    showPopup(val) {\r\n      this.$store.commit(\"setShowCommentPopup\", {\r\n        show: val,\r\n        commentId: this.commentId,\r\n      });\r\n      if (val) {\r\n        this.reqGetItem();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.author {\r\n  padding: 0.2rem;\r\n}\r\n/* 评论区 */\r\n.comment-box {\r\n  border-radius: 20px 20px 0 0;\r\n  box-shadow: 0 -2px 2px #dddddd71;\r\n  padding: 0.4rem;\r\n  background-color: var(--theme-color);\r\n  width: 100vw;\r\n  position: absolute;\r\n  left: 0;\r\n  padding-bottom: 2rem;\r\n}\r\n\r\n/* 评论栏 */\r\n.to-comment {\r\n  padding: 0.14rem 0.2rem;\r\n  width: 100%;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background-color: var(--theme-color);\r\n  border-top: 1px solid var(--border-color);\r\n}\r\n.to-comment .user-icon {\r\n  width: 1rem;\r\n  height: 1rem;\r\n}\r\n.to-comment .v-input {\r\n  background-color: var(--bg-color5);\r\n}\r\n.to-comment .v-input {\r\n  flex: 1;\r\n  margin: 0 0.2rem;\r\n  padding: 0.16rem 0.4rem;\r\n}\r\n.to-comment .v-btn {\r\n  padding: 0.16rem 0.5rem;\r\n  border: none;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentPopup.vue?vue&type=template&id=1e9bb87a&scoped=true&\"\nimport script from \"./CommentPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentPopup.vue?vue&type=style&index=0&id=1e9bb87a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e9bb87a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <default-page\r\n    :title=\"`评论${commentLength ? ' (' + commentLength + ')' : ''}`\"\r\n  >\r\n    <van-tabs\r\n      v-model=\"activeBar\"\r\n      sticky\r\n      animated\r\n      lazy-render\r\n      swipeable\r\n      color=\"var(--theme-color2)\"\r\n      title-active-color=\"var(--theme-color2)\"\r\n      @change=\"changeNav\"\r\n    >\r\n      <van-tab\r\n        v-for=\"(p, i) in option\"\r\n        class=\"top-nav\"\r\n        :key=\"i\"\r\n        :title=\"p.title\"\r\n        :name=\"p.name\"\r\n      >\r\n        <comment-list :reqType=\"p.sort\" :gid=\"goodId\" />\r\n      </van-tab>\r\n    </van-tabs>\r\n    <!-- 评论弹窗 -->\r\n    <comment-popup />\r\n  </default-page>\r\n</template>\r\n  \r\n  <script>\r\nimport CommentList from \"@/components/Comment/CommentList.vue\";\r\nimport DefaultPage from \"@/components/DefaultPage.vue\";\r\nimport CommentPopup from \"@/components/Comment/CommentPopup.vue\";\r\nexport default {\r\n  name: \"CommentView\",\r\n  components: { DefaultPage, CommentList, CommentPopup },\r\n  data() {\r\n    return {\r\n      goodId: \"\",\r\n      activeBar: 0,\r\n      option: [\r\n        { name: \"0\", title: \"综合\", sort: 0 },\r\n        { name: \"1\", title: \"最新\", sort: 1 },\r\n      ],\r\n      commentLength: 0,\r\n    };\r\n  },\r\n  mounted() {\r\n    // 获取商品id\r\n    if (this.$route.query?.id) {\r\n      this.goodId = this.$route.query?.id;\r\n    }\r\n    if (this.$route.query?.size) {\r\n      this.commentLength = this.$route.query.size || 0;\r\n    }\r\n  },\r\n  methods: {\r\n    changeNav() {\r\n      console.log();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scpoed>\r\n.top-nav {\r\n  display: flex;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentView.vue?vue&type=template&id=34e683de&\"\nimport script from \"./CommentView.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentView.vue?vue&type=style&index=0&id=34e683de&prod&scpoed=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"add-comment-view\"},[_c('top-nav',{staticClass:\"top-nav\",attrs:{\"title\":\"评论\"},on:{\"click-left\":function($event){return _vm.$router.back()}},scopedSlots:_vm._u([{key:\"rblock\",fn:function(){return [_c('button',{staticClass:\"v-btn submit-btn\",on:{\"click\":_vm.submitComment}},[_vm._v(\"提交\")])]},proxy:true}])}),(!_vm.isError)?_c('div',{staticClass:\"content-froms\"},_vm._l((_vm.orderInfo?.orderItems),function(p){return _c('comment-form',{key:p.orderItemId,ref:\"commentForm\",refInFor:true,attrs:{\"goods\":p}})}),1):_vm._e(),(_vm.isError)?_c('error-card',{attrs:{\"btn-text\":\"返回\",\"image\":\"network\",\"text\":\"页面刷新，请重新进入！\"},on:{\"refresh\":function($event){return _vm.$router.back()}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"v-card comment-form\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"您对该商品满意吗？\")]),_c('div',{staticClass:\"goods\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('img',{attrs:{\"src\":_vm.getImgSrc(_vm.goods?.image)}}),_c('div',{staticClass:\"names\"},[_vm._v(_vm._s(_vm.goods?.goodsName))])]),_c('div',{staticClass:\"stars\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_vm._v(\" 总体  \"),_c('van-rate',{attrs:{\"color\":\"var(--theme-color2)\",\"void-icon\":\"star\",\"void-color\":\"#eee\",\"size\":\"0.6rem\"},on:{\"change\":_vm.changeRate},model:{value:(_vm.rate),callback:function ($$v) {_vm.rate=$$v},expression:\"rate\"}}),_vm._v(\"  \"+_vm._s(_vm.rateText)+\" \")],1),_c('transition',{attrs:{\"name\":\"item\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rate > 0),expression:\"rate > 0\"}],staticClass:\"comment-content\"},[_c('van-field',{staticClass:\"comment-texts\",attrs:{\"rows\":\"5\",\"maxlength\":\"240\",\"type\":\"textarea\",\"placeholder\":\"✍ 说说感觉怎么样，给大家参考\"},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}}),_c('van-uploader',{staticClass:\"upload\",attrs:{\"upload-icon\":require('@/assets/image/icon/camera.png'),\"multiple\":\"\",\"max-size\":720 * 1024,\"accept\":\"image/png, image/jpeg, image/jpg,image/*\"},on:{\"oversize\":_vm.overSizeFile},model:{value:(_vm.imgList),callback:function ($$v) {_vm.imgList=$$v},expression:\"imgList\"}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"v-card comment-form\">\r\n    <div class=\"title\">您对该商品满意吗？</div>\r\n    <div class=\"goods\" style=\"display: flex; align-items: center\">\r\n      <img :src=\"getImgSrc(goods?.image)\" />\r\n      <div class=\"names\">{{ goods?.goodsName }}</div>\r\n    </div>\r\n    <!-- 星级 -->\r\n    <div class=\"stars\" style=\"display: flex; align-items: center\">\r\n      总体&emsp;\r\n      <van-rate\r\n        v-model=\"rate\"\r\n        color=\"var(--theme-color2)\"\r\n        void-icon=\"star\"\r\n        void-color=\"#eee\"\r\n        size=\"0.6rem\"\r\n        @change=\"changeRate\"\r\n      />\r\n\r\n      &emsp;{{ rateText }}\r\n    </div>\r\n    <!-- 内容 -->\r\n    <transition name=\"item\">\r\n      <div class=\"comment-content\" v-show=\"rate > 0\">\r\n        <van-field\r\n          class=\"comment-texts\"\r\n          v-model=\"content\"\r\n          rows=\"5\"\r\n          maxlength=\"240\"\r\n          type=\"textarea\"\r\n          placeholder=\"✍ 说说感觉怎么样，给大家参考\"\r\n        />\r\n        <!-- 图片上传 -->\r\n        <van-uploader\r\n          v-model=\"imgList\"\r\n          :upload-icon=\"require('@/assets/image/icon/camera.png')\"\r\n          multiple\r\n          :max-size=\"720 * 1024\"\r\n          @oversize=\"overSizeFile\"\r\n          accept=\"image/png, image/jpeg, image/jpg,image/*\"\r\n          class=\"upload\"\r\n        />\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport { uploadOrderImgById } from \"@/api/comment/ordercomment\";\r\nexport default {\r\n  name: \"CommentForm\",\r\n  props: [\"goods\"],\r\n  data() {\r\n    return {\r\n      orderItemId: 0, // 属性id\r\n      rate: 0, // 星级\r\n      rateText: \"\", // 评分等级\r\n      content: \"\", // 文字内容\r\n      imgUrl: \"\", // 上传的图片字符集合\r\n\r\n      imgList: [], // 上传图片集合\r\n    };\r\n  },\r\n  mounted() {\r\n    // 属性id\r\n    this.orderItemId = this.goods.orderItemId;\r\n  },\r\n  methods: {\r\n    // 上传图片\r\n    async uploadImg() {\r\n      const formData = new FormData();\r\n      for (let i = 0; i < this.imgList.length; i++) {\r\n        formData.append(\"files\", this.imgList[i].file, this.imgList[i].name);\r\n      }\r\n\r\n      const fileRes = await uploadOrderImgById(\r\n        this.goods?.orderItemId,\r\n        formData,\r\n        this.$store.getters.token\r\n      );\r\n\r\n      // 失败\r\n      if (fileRes.status !== 200 || fileRes.data.code !== 20011) {\r\n        return this.$toast({ type: \"fail\", message: \"上传失败！\" });\r\n        // 成功\r\n      } else {\r\n        this.imgUrl = fileRes.data.data;\r\n      }\r\n    },\r\n\r\n    // 文件大小\r\n    overSizeFile() {\r\n      this.$toast(`大小不能超过720P！`);\r\n    },\r\n\r\n    // img地址\r\n    getImgSrc(url) {\r\n      return getResourImageByName(url);\r\n    },\r\n\r\n    // 评分等级文字\r\n    changeRate(val) {\r\n      switch (+val) {\r\n        case 1:\r\n          this.rateText = \"非常差\";\r\n          break;\r\n        case 2:\r\n          this.rateText = \"较差\";\r\n          break;\r\n        case 3:\r\n          this.rateText = \"一般\";\r\n          break;\r\n        case 4:\r\n          this.rateText = \"满意\";\r\n          break;\r\n        case 5:\r\n          this.rateText = \"非常满意\";\r\n          break;\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    // 图片列表\r\n    imgList: {\r\n      deep: true,\r\n      handler(val) {\r\n        if (val.length > 0) {\r\n          this.uploadImg(); // 上传图片，请求图片地址\r\n        } else {\r\n          this.imgUrl = \"\"; // 清空图片\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.add-comment-view .v-card {\r\n  border-radius: 8px;\r\n}\r\n.comment-form {\r\n  margin: 0.2rem 0.3rem;\r\n  background-color: var(--theme-color);\r\n}\r\n.comment-form .title {\r\n  font-weight: 600;\r\n}\r\n.goods {\r\n  margin: 0.5rem 0;\r\n}\r\n.goods img {\r\n  display: block;\r\n  width: 1.4rem;\r\n  height: 1.4rem;\r\n  border-radius: 8px;\r\n  border: 1px solid var(--border-color);\r\n  margin-right: 0.3rem;\r\n}\r\n.goods .names {\r\n  font-size: 0.36rem;\r\n  letter-spacing: 0.04rem;\r\n}\r\n/* stars */\r\n.stars {\r\n  font-size: 0.36rem;\r\n}\r\n/* comment-texts */\r\n.comment-content >>> .van-field {\r\n  padding: 0;\r\n  background-color: transparent;\r\n}\r\n.comment-content {\r\n  width: 100%;\r\n  background-color: var(--bg-color6);\r\n  margin-top: 0.3rem;\r\n  padding: 0.3rem;\r\n  border-radius: 8px;\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.comment-content >>> .van-uploader__upload,\r\n.comment-content >>> .van-uploader__preview-image,\r\n.comment-content >>> .van-uploader__preview {\r\n  background-color: var(--bg-color5);\r\n  border-radius: 6px;\r\n  width: 1.8rem;\r\n  height: 1.8rem;\r\n  margin: 0;\r\n}\r\n.comment-content >>> .van-uploader__preview >>> .van-icon__image {\r\n  width: 1rem;\r\n  height: 1rem;\r\n  opacity: 0.2;\r\n  margin: 0;\r\n}\r\n.comment-content >>> .van-uploader__preview {\r\n  margin-right: 0.2rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentForm.vue?vue&type=template&id=f3bad4ec&scoped=true&\"\nimport script from \"./CommentForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentForm.vue?vue&type=style&index=0&id=f3bad4ec&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f3bad4ec\",\n  null\n  \n)\n\nexport default component.exports","import { request } from \"@/util/request\";\r\n// import qs from \"qs\";\r\n\r\n/**\r\n * 查询单个订单\r\n * @param {string} id\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function getOrderById(id, token) {\r\n  return request({ method: \"get\", url: `/orders/query/${id}`, headers: { Authorization: token } });\r\n}\r\n\r\n/**\r\n * 获取所有的订单\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getAllOrder(token) {\r\n  return request({ method: \"get\", url: `/orders/query/all`, headers: { Authorization: token } });\r\n}\r\n\r\n/**\r\n * 获取未付款的订单\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getUnPaidOrder(token) {\r\n  return request({ method: \"get\", url: `/orders/query/unpaid`, headers: { Authorization: token } });\r\n}\r\n\r\n/**\r\n * 获取未发货的订单\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getUnDeliverOrder(token) {\r\n  return request({ method: \"get\", url: `/orders/query/beShipped`, headers: { Authorization: token } });\r\n}\r\n\r\n/**\r\n * 获取待收货的订单\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getDeliveredOrder(token) {\r\n  return request({ method: \"get\", url: `/orders/query/undelivered`, headers: { Authorization: token } });\r\n}\r\n/**\r\n * 获取已完成的订单\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getDoneOrder(token) {\r\n  return request({ method: \"get\", url: `/orders/query/completed`, headers: { Authorization: token } });\r\n}\r\n/**\r\n * 查询订单属性信息\r\n * @param {*} id 订单id\r\n * @param {*} token\r\n * @returns\r\n */\r\nexport function getOrderProps(id, token) {\r\n  return request({ method: \"get\", url: `/orderItem/query/${id}`, headers: { Authorization: token } });\r\n}\r\n\r\n/**\r\n * 提交订单\r\n * @param {number} aid 用户收货id\r\n * @param {Array} items  订单商品列表\r\n * [{\r\n      gid: 1579762804599140400,\r\n      quantity: 1,\r\n    }],\r\n * @param {string} remarks 备注\r\n * @param {string} token \r\n * @returns\r\n */\r\nexport function submitOrder(aid, items, remarks, token) {\r\n  return request({\r\n    method: \"post\",\r\n    url: `/orders/submit`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: {\r\n      aid,\r\n      items,\r\n      remarks,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 支付订单\r\n * @param {number} id 订单id\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function payOrder(id, points, token) {\r\n  return request({\r\n    method: \"post\",\r\n    url: `/orders/payment/${id}`,\r\n    headers: {\r\n      Authorization: token,\r\n      \"Content-Type\": \"x-www-form-urlencoded\",\r\n    },\r\n    data: {\r\n      points,\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * 修改订单\r\n * @param {number} id 订单id\r\n * @param {string} aid 收获id\r\n * @param {string} remarks 备注\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function updateOrder(id, aid, remarks, token) {\r\n  return request({\r\n    method: \"put\",\r\n    url: `/orders/update/${id}`,\r\n    headers: { Authorization: token },\r\n    data: { aid, remarks },\r\n  });\r\n}\r\n\r\n/**\r\n * 完成订单\r\n * @param {number} id 订单id\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function doneOrder(id, token) {\r\n  return request({\r\n    method: \"put\",\r\n    url: `/orders/complete/${id}`,\r\n    headers: { Authorization: token },\r\n  });\r\n}\r\n\r\n/**\r\n * 删除订单\r\n * @param {number} id 订单id\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function deleteOrderById(id, token) {\r\n  return request({\r\n    method: \"delete\",\r\n    url: `/orders/delete/${id}`,\r\n    headers: { Authorization: token },\r\n  });\r\n}\r\n\r\n/**\r\n * 取消订单\r\n * @param {number} id 订单id\r\n * @param {string} reason 原因\r\n * @param {string} token\r\n * @returns\r\n */\r\nexport function cancelOrderById(id, reason = \"\", token) {\r\n  return request({\r\n    method: \"delete\",\r\n    url: `/orders/cancel/${id}`,\r\n    headers: {\r\n      Authorization: token,\r\n      \"Content-Type\": \"x-www-form-urlencoded\",\r\n    },\r\n    params: {\r\n      reason: reason || \"\",\r\n    },\r\n  });\r\n}\r\n","<template>\r\n  <div class=\"add-comment-view\">\r\n    <!-- 导航 -->\r\n    <top-nav title=\"评论\" class=\"top-nav\" @click-left=\"$router.back()\">\r\n      <template #rblock>\r\n        <!-- 提交评论 -->\r\n        <button class=\"v-btn submit-btn\" @click=\"submitComment\">提交</button>\r\n      </template>\r\n    </top-nav>\r\n    <!-- 评论表单 -->\r\n    <div class=\"content-froms\" v-if=\"!isError\">\r\n      <comment-form\r\n        v-for=\"p in orderInfo?.orderItems\"\r\n        :key=\"p.orderItemId\"\r\n        :goods=\"p\"\r\n        ref=\"commentForm\"\r\n      />\r\n    </div>\r\n    <!-- 错误 -->\r\n    <error-card\r\n      v-if=\"isError\"\r\n      @refresh=\"$router.back()\"\r\n      btn-text=\"返回\"\r\n      image=\"network\"\r\n      text=\"页面刷新，请重新进入！\"\r\n    />\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nimport TopNav from \"@/components/TopNav.vue\";\r\nimport ErrorCard from \"@/components/ErrorCard.vue\";\r\nimport CommentForm from \"@/components/Comment/CommentForm.vue\";\r\nimport { getOrderById } from \"@/api/order/order\";\r\nimport { checkText } from \"@/util/xxsFilter\";\r\nimport { addOrderComment } from \"@/api/comment/ordercomment\";\r\nexport default {\r\n  components: { TopNav, ErrorCard, CommentForm },\r\n  name: \"AddCommentView\",\r\n  data() {\r\n    return {\r\n      orderId: \"\", // 订单id\r\n      orderInfo: \"\",\r\n      // 功能\r\n      isError: false, // 是否错误\r\n    };\r\n  },\r\n  mounted() {\r\n    // 获取订单id\r\n    if (this.$route.query?.id) {\r\n      this.orderId = this.$route.query?.id;\r\n      this.$toast.loading({\r\n        forbidClick: true,\r\n        message: \"加载中...\",\r\n        duration: 0,\r\n      });\r\n      getOrderById(this.orderId, this.$store.getters.token).then((res) => {\r\n        if (res.status === 200 && res.data.code === 20011) {\r\n          this.isError = false;\r\n          res.data.data?.orderItems.forEach((p) => {\r\n            p.rate = 0;\r\n          });\r\n          this.orderInfo = res.data.data;\r\n        } else {\r\n          this.isError = true;\r\n        }\r\n      });\r\n    } else {\r\n      this.isError = true;\r\n    }\r\n    this.$toast.clear(true);\r\n  },\r\n  methods: {\r\n    // 提交评论\r\n    submitComment() {\r\n      if (this.isError) return;\r\n      this.$toast.loading({ duration: 0, forbidClick: true });\r\n      // 获取 评论列表\r\n      this.$refs.commentForm.forEach(async (p) => {\r\n        if (p?.content === \"\") return this.$toast(\" 内容不能为空！\");\r\n        const res = await addOrderComment(\r\n          p.orderItemId,\r\n          p.rate, // 星级\r\n          p.imgUrl, // 图片集合\r\n          checkText(p?.content), // 内容xxs\r\n          this.$store.getters.token\r\n        );\r\n        if (res.status === 200 && res.data.code === 20011) {\r\n          this.$toast.success(\" 提交成功！\");\r\n          // 跳转\r\n          this.$router.replace({\r\n            name: \"order\",\r\n            params: {\r\n              animate: \"forward\",\r\n              toBack: false,\r\n            },\r\n          });\r\n        } else {\r\n          this.$toast.fail(\"提交失败 !\");\r\n        }\r\n        // 清空\r\n        setTimeout(() => {\r\n          this.$toast.clear();\r\n        }, 300);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.add-comment-view {\r\n  background-color: var(--bg-color6);\r\n}\r\n/* 顶部导航 */\r\n.top-nav {\r\n  border-bottom: 1px solid var(--border-color);\r\n  background-color: var(--theme-color);\r\n}\r\n.top-nav .submit-btn {\r\n  width: auto;\r\n  border-radius: 6px;\r\n  padding: 0.05rem 0.15rem;\r\n  padding-left: 0.2rem;\r\n  font-size: 0.3rem;\r\n  text-align: center;\r\n  box-shadow: none;\r\n}\r\n/* 评论列表 */\r\n.content-froms {\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddCommentView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddCommentView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddCommentView.vue?vue&type=template&id=2aa0a322&scoped=true&\"\nimport script from \"./AddCommentView.vue?vue&type=script&lang=js&\"\nexport * from \"./AddCommentView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddCommentView.vue?vue&type=style&index=0&id=2aa0a322&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2aa0a322\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('default-page',{attrs:{\"title\":\"我的订单\"}},[_c('div',{staticClass:\"nav-bar\"}),_c('van-tabs',{staticClass:\"tabs\",attrs:{\"sticky\":\"\",\"swipeable\":\"\",\"animated\":\"\",\"line-width\":\"1.2rem\",\"color\":\"var(--theme-color2)\",\"title-active-color\":\"var(--theme-color2)\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.option),function(p,i){return _c('van-tab',{key:i,attrs:{\"title\":p.title}},[_c('order-list',{attrs:{\"reqType\":p.type}})],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-pull-refresh',{staticStyle:{\"min-height\":\"90vh\"},on:{\"refresh\":_vm.reStart},model:{value:(_vm.isRefreshing),callback:function ($$v) {_vm.isRefreshing=$$v},expression:\"isRefreshing\"}},[_c('van-list',{staticClass:\"orders-list\",attrs:{\"error\":_vm.isHttpError,\"finished\":_vm.finished,\"finished-text\":\"没有更多商品了\"},on:{\"update:error\":function($event){_vm.isHttpError=$event},\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('transition-group',{attrs:{\"name\":\"sliceInZoomOut\",\"tag\":\"div\"}},_vm._l((_vm.orderList),function(order,i){return _c('div',{key:order?.orderId,staticClass:\"v-card order-card\"},[(order?.orderItems?.length)?_c('div',{staticClass:\"flex-c-c top\"},[_c('span',{staticClass:\"left\"},[_c('van-icon',{attrs:{\"name\":\"shop\",\"color\":\"var(--text-color3)\"}}),_vm._v(\" 官方旗舰店\")],1),_c('span',{staticClass:\"right\",staticStyle:{\"color\":\"var(--tip-color2)\"}},[_vm._v(_vm._s(_vm.getState(order)))])]):_vm._e(),(order?.orderItems)?_c('div',{staticClass:\"good-list\",on:{\"click\":function($event){return _vm.toView('', order)}}},_vm._l((order.orderItems),function(p){return _c('goods-info',{key:p?.gid,staticClass:\"goods\",attrs:{\"goods\":p,\"price\":p?.price,\"tips\":p?.isPay,\"props\":_vm.getPorps(p),\"num\":p.quantity}})}),1):_vm._e(),(order?.orderItems?.length)?_c('div',{staticClass:\"all-price\"},[_c('small',[_vm._v(\"( 共\"+_vm._s(order?.orderItems.length)+\"件 )\")]),_vm._v(\" 实付：￥\"),_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(_vm.getPrice(order.price)))])]):_vm._e(),(_vm.getState(order) == '待支付')?_c('div',{staticClass:\"btns\"},[_c('button',{staticClass:\"v-click btn cancel\",on:{\"click\":function($event){return _vm.cancelOrder(order?.orderId, i)}}},[_vm._v(\" 取消订单 \")]),_c('button',{staticClass:\"v-click btn cancel\",on:{\"click\":function($event){return _vm.toView('update', order, i)}}},[_vm._v(\" 修改 \")]),_c('button',{staticClass:\"v-click btn\",on:{\"click\":function($event){return _vm.toView('unpaid', order, i)}}},[_vm._v(\" 去支付 \")])]):_vm._e(),(_vm.getState(order) === '已付款，待发货')?_c('div',{staticClass:\"btns\"},[_c('button',{staticClass:\"v-click btn cancel\",on:{\"click\":_vm.toastDeliver}},[_vm._v(\" 催发货 \")])]):_vm._e(),(_vm.getState(order) === '已发货，待收货')?_c('div',{staticClass:\"btns\"},[_c('button',{staticClass:\"v-click btn\",on:{\"click\":function($event){return _vm.checkDeliverd(order?.orderId, i)}}},[_vm._v(\" 确认收货 \")])]):_vm._e(),(_vm.getState(order) === '已签收，待评价')?_c('div',{staticClass:\"btns\"},[_c('button',{staticClass:\"v-click btn cancel\",on:{\"click\":function($event){return _vm.deleteOrder(order?.orderId, i)}}},[_vm._v(\" 删除订单 \")]),_c('button',{staticClass:\"v-click btn\",on:{\"click\":function($event){return _vm.toAddComment(order?.orderId)}}},[_vm._v(\" 去评论 \")])]):_vm._e()])}),0)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"goods-info\"},[_c('img',{staticClass:\"left img\",attrs:{\"src\":_vm.getImgSrc}}),_c('div',{staticClass:\"center\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.goods.name || _vm.goods.goodsName))]),_c('div',{staticClass:\"props\"},[_vm._v(_vm._s(_vm.props))])]),_c('div',{staticClass:\"right\"},[(_vm.tips)?_c('div',{staticClass:\"r-top price\"},[_vm._v(_vm._s(_vm.tips))]):_vm._e(),_c('div',{staticClass:\"title\"},[_vm._v(\" ￥\"),_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(_vm.price))])]),_c('div',{staticClass:\"num\"},[_vm._v(\"x\"+_vm._s(_vm.num))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\r\n  <div class=\"goods-info\">\r\n    <img :src=\"getImgSrc\" class=\"left img\" />\r\n    <div class=\"center\">\r\n      <div class=\"title\">{{ goods.name || goods.goodsName }}</div>\r\n      <div class=\"props\">{{ props }}</div>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"r-top price\" v-if=\"tips\">{{ tips }}</div>\r\n      <div class=\"title\">\r\n        ￥<span class=\"price\">{{ price }}</span>\r\n      </div>\r\n      <div class=\"num\">x{{ num }}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getResourImageByName } from \"@/api/res\";\r\nexport default {\r\n  name: \"GoodsInfo\",\r\n  data() {\r\n    return {\r\n      icon: undefined,\r\n    };\r\n  },\r\n  props: [\"goods\", \"price\", \"props\", \"num\", \"tips\"],\r\n  methods: {},\r\n  // mounted() {\r\n  //   const img = this.goods?.image || this.goods?.images || this.goods?.icon;\r\n  //   if (!img) {\r\n  //     getGoodPropsById(this.goods?.gid).then((res) => {\r\n  //       this.icon = res.data.data?.defaultOption?.icon;\r\n  //     });\r\n  //   }\r\n  // },\r\n  computed: {\r\n    getImgSrc() {\r\n      return getResourImageByName(\r\n        this.goods?.image || this.goods?.images || this.goods?.icon\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.goods-info {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.left.img {\r\n  width: 2.2rem;\r\n  height: 2.2rem;\r\n  border-radius: 10px;\r\n  display: block;\r\n  object-fit: cover;\r\n  border: 1px solid var(--border-color);\r\n}\r\n.center {\r\n  flex: 2;\r\n  width: 4.6rem;\r\n  padding: 0 0.3rem;\r\n}\r\n.center .title {\r\n  padding: 0.05rem 0;\r\n  width: 100%;\r\n  font-size: 0.42rem;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n.center .props {\r\n  padding: 0.05rem 0;\r\n  font-size: 0.32rem;\r\n  color: var(--text-color3);\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 3;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.right .title {\r\n  font-size: 0.32rem;\r\n  padding: 0.05rem 0;\r\n}\r\n.right .price {\r\n  font-weight: 600;\r\n  font-size: 0.45rem;\r\n}\r\n.right .num {\r\n  text-align: right;\r\n  color: var(--text-color3);\r\n  font-size: 0.3rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsInfo.vue?vue&type=template&id=325cb5fb&scoped=true&\"\nimport script from \"./GoodsInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoodsInfo.vue?vue&type=style&index=0&id=325cb5fb&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"325cb5fb\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <van-pull-refresh\r\n    style=\"min-height: 90vh\"\r\n    v-model=\"isRefreshing\"\r\n    @refresh=\"reStart\"\r\n  >\r\n    <!-- 订单列表 -->\r\n    <van-list\r\n      class=\"orders-list\"\r\n      v-model=\"loading\"\r\n      :error.sync=\"isHttpError\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多商品了\"\r\n      @load=\"onLoad\"\r\n    >\r\n      <transition-group name=\"sliceInZoomOut\" tag=\"div\">\r\n        <div\r\n          :key=\"order?.orderId\"\r\n          class=\"v-card order-card\"\r\n          v-for=\"(order, i) in orderList\"\r\n        >\r\n          <!-- 状态 -->\r\n          <div class=\"flex-c-c top\" v-if=\"order?.orderItems?.length\">\r\n            <span class=\"left\"\r\n              ><van-icon name=\"shop\" color=\"var(--text-color3)\" />\r\n              官方旗舰店</span\r\n            >\r\n            <span class=\"right\" style=\"color: var(--tip-color2)\">{{\r\n              getState(order)\r\n            }}</span>\r\n          </div>\r\n          <!-- 商品 -->\r\n          <div\r\n            class=\"good-list\"\r\n            v-if=\"order?.orderItems\"\r\n            @click=\"toView('', order)\"\r\n          >\r\n            <goods-info\r\n              class=\"goods\"\r\n              v-for=\"p in order.orderItems\"\r\n              :key=\"p?.gid\"\r\n              :goods=\"p\"\r\n              :price=\"p?.price\"\r\n              :tips=\"p?.isPay\"\r\n              :props=\"getPorps(p)\"\r\n              :num=\"p.quantity\"\r\n            />\r\n          </div>\r\n          <!-- 总计 -->\r\n          <div class=\"all-price\" v-if=\"order?.orderItems?.length\">\r\n            <small>( 共{{ order?.orderItems.length }}件 )</small>\r\n            实付：￥<span class=\"price\">{{ getPrice(order.price) }}</span>\r\n          </div>\r\n          <!-- 按钮 -->\r\n          <!-- 待支付 -->\r\n          <div class=\"btns\" v-if=\"getState(order) == '待支付'\">\r\n            <button\r\n              class=\"v-click btn cancel\"\r\n              @click=\"cancelOrder(order?.orderId, i)\"\r\n            >\r\n              取消订单\r\n            </button>\r\n            <button\r\n              class=\"v-click btn cancel\"\r\n              @click=\"toView('update', order, i)\"\r\n            >\r\n              修改\r\n            </button>\r\n            <button class=\"v-click btn\" @click=\"toView('unpaid', order, i)\">\r\n              去支付\r\n            </button>\r\n          </div>\r\n          <!-- 未发货 -->\r\n          <div class=\"btns\" v-if=\"getState(order) === '已付款，待发货'\">\r\n            <button class=\"v-click btn cancel\" @click=\"toastDeliver\">\r\n              催发货\r\n            </button>\r\n          </div>\r\n          <!-- 已发货 -->\r\n          <div class=\"btns\" v-if=\"getState(order) === '已发货，待收货'\">\r\n            <button\r\n              class=\"v-click btn\"\r\n              @click=\"checkDeliverd(order?.orderId, i)\"\r\n            >\r\n              确认收货\r\n            </button>\r\n          </div>\r\n          <!-- 去评论 -->\r\n          <div class=\"btns\" v-if=\"getState(order) === '已签收，待评价'\">\r\n            <button\r\n              class=\"v-click btn cancel\"\r\n              @click=\"deleteOrder(order?.orderId, i)\"\r\n            >\r\n              删除订单\r\n            </button>\r\n            <button class=\"v-click btn\" @click=\"toAddComment(order?.orderId)\">\r\n              去评论\r\n            </button>\r\n          </div>\r\n          <!-- 已经评论 -->\r\n          <!-- <div class=\"btns\" v-if=\"getState(order) === '已评价'\">已完成</div> -->\r\n        </div>\r\n      </transition-group>\r\n    </van-list>\r\n  </van-pull-refresh>\r\n</template>\r\n<script>\r\nimport {\r\n  getAllOrder,\r\n  getDeliveredOrder,\r\n  getDoneOrder,\r\n  getUnDeliverOrder,\r\n  getUnPaidOrder,\r\n  cancelOrderById,\r\n  doneOrder,\r\n  deleteOrderById,\r\n} from \"@/api/order/order\";\r\nimport currency from \"currency.js\";\r\nimport GoodsInfo from \"../Goods/GoodsInfo.vue\";\r\nexport default {\r\n  components: { GoodsInfo },\r\n  props: {\r\n    reqType: {\r\n      // 请求类型\r\n      type: String,\r\n      required: true,\r\n      default: \"all\",\r\n    },\r\n  },\r\n  name: \"OrderList\",\r\n  data() {\r\n    return {\r\n      orderList: [], // 商品列表\r\n      isHttpError: false, // 网络请求错误\r\n      loading: false, // 加载中\r\n      finished: false, // 完成\r\n      isRefreshing: false, // 刷新\r\n      comment: \"\", // 取消订单理由\r\n      typeColor: \"var(--text-color4)\",\r\n    };\r\n  },\r\n  methods: {\r\n    // 加载对应的商品列表\r\n    async onLoad() {\r\n      if (!this.reqType) return;\r\n      let res = null;\r\n      this.loading = true;\r\n      switch (this.reqType) {\r\n        case \"all\":\r\n          res = await getAllOrder(this.$store.getters.token); // 全部\r\n          break;\r\n        case \"unpaid\": // 待付款\r\n          res = await getUnPaidOrder(this.$store.getters.token);\r\n          break;\r\n        case \"undeliver\": // 待发货\r\n          res = await getUnDeliverOrder(this.$store.getters.token);\r\n          break;\r\n        case \"delivered\": // 待收货\r\n          res = await getDeliveredOrder(this.$store.getters.token);\r\n          break;\r\n        case \"comment\": // 待评价\r\n          res = await getDoneOrder(this.$store.getters.token);\r\n          break;\r\n      }\r\n      // console.log(res.data);\r\n      if (res.status === 200 && res.data.code === 20011) {\r\n        let count = 0;\r\n        const data = res?.data?.data;\r\n        // 判断是否为空\r\n        if (data.length === 0) {\r\n          this.finished = true;\r\n          this.loading = false;\r\n          return;\r\n        }\r\n        let timer = setInterval(() => {\r\n          data[count].reqType = this.reqType === \"all\" ? \"\" : this.reqType;\r\n          this.orderList.push(data[count]);\r\n          count++;\r\n          if (count >= data.length) {\r\n            this.loading = false;\r\n            this.finished = true;\r\n            clearInterval(timer);\r\n            timer = \"\";\r\n          }\r\n        }, 300);\r\n      } else {\r\n        this.isHttpError = true;\r\n        this.finished = true;\r\n        this.loading = false;\r\n      }\r\n    },\r\n    // 拼接属性\r\n    getPorps(p) {\r\n      return `${p?.color || \"\"} ${p?.size || \"\"} ${p?.edition || \"\"} ${\r\n        p?.combo || \"\"\r\n      }`;\r\n    },\r\n\r\n    // 状态文字\r\n    getState(p) {\r\n      if (!p?.isPay) return;\r\n      let res = \"\";\r\n      if (p.isPay === \"未付款\") {\r\n        res = \"待支付\";\r\n      } else if (p.logisticsStatus === \"未发货\") {\r\n        res = \"已付款，待发货\";\r\n      } else if (p.logisticsStatus === \"待收货\" && p.status === \"未完成\") {\r\n        res = \"已发货，待收货\";\r\n      } else if (p.logisticsStatus === \"已收货\" && p.status === \"已完成\") {\r\n        res = \"已签收，待评价\";\r\n      } else {\r\n        res = \"已评价\";\r\n      }\r\n      return res;\r\n    },\r\n    // 状态En\r\n    getStateEn(p) {\r\n      if (!p?.isPay) return;\r\n      let res = \"\";\r\n      if (p.isPay === \"未付款\") {\r\n        res = \"unpaid\";\r\n      } else if (p.logisticsStatus === \"未发货\") {\r\n        res = \"undeliver\";\r\n      } else if (p.logisticsStatus === \"待收货\" && p.status === \"未完成\") {\r\n        res = \"delivered\";\r\n      } else if (p.logisticsStatus === \"已收货\" && p.status === \"已完成\") {\r\n        res = \"uncomment\";\r\n      } else {\r\n        res = \"comment\";\r\n      }\r\n      return res;\r\n    },\r\n\r\n    // 获得总价\r\n    getPrice(price) {\r\n      return currency(price);\r\n    },\r\n\r\n    // 重新加载\r\n    reStart() {\r\n      this.finished = false;\r\n      this.orderList.splice(0); // 清空数组\r\n      new Promise((resolve) => {\r\n        if (this.isRefreshing) this.onLoad();\r\n        resolve(true);\r\n      }).then(() => {\r\n        setTimeout(() => {\r\n          this.isRefreshing = false;\r\n        }, 1600);\r\n      });\r\n    },\r\n\r\n    // 1）待支付\r\n    //  取消订单\r\n    async cancelOrder(id, i) {\r\n      if (id === \"\") return;\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"是否取消订单？\",\r\n          beforeClose: async (action, done) => {\r\n            if (action === \"confirm\") {\r\n              const res = await cancelOrderById(\r\n                id,\r\n                this.comment,\r\n                this.$store.getters.token\r\n              );\r\n              if (res.status === 200 && res.data.code === 20011) {\r\n                this.$toast({\r\n                  message: \"取消成功！\",\r\n                  duration: 1000,\r\n                  type: \"success\",\r\n                });\r\n                this.orderList.splice(i, 1);\r\n              } else {\r\n                this.$toast(\"取消失败，稍后再试！\");\r\n              }\r\n              done();\r\n            }\r\n            done();\r\n          },\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    // 2）已付款\r\n    // 催发货\r\n    toastDeliver() {\r\n      this.$dialog({ title: \"已经催促商家，请耐心等候！\" });\r\n    },\r\n\r\n    // 3）已发货、待收货\r\n    checkDeliverd(id, i) {\r\n      if (id === \"\") return;\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"是否收到货品？\",\r\n          beforeClose: async (action, done) => {\r\n            if (action === \"confirm\") {\r\n              const res = await doneOrder(id, this.$store.getters.token);\r\n              if (res.status === 200 && res.data.code === 20011) {\r\n                done();\r\n                this.$toast({\r\n                  message: \"收货成功！\",\r\n                  duration: 500,\r\n                  type: \"success\",\r\n                });\r\n                this.orderList.splice(i, 1);\r\n              } else {\r\n                this.$toast(\"确认失败，请重新提交！\");\r\n              }\r\n            } else {\r\n              done();\r\n            }\r\n          },\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    // 去到详情页type, order, index\r\n    toView(orderType, order) {\r\n      if (orderType === \"\") {\r\n        orderType = this.getStateEn(order);\r\n      }\r\n      // console.log(orderType);\r\n      this.$router.push({\r\n        name: \"checkorder\",\r\n        params: {\r\n          animate: \"forward\",\r\n        },\r\n        query: {\r\n          info: order,\r\n          goodsList: order?.orderItems,\r\n          isOrder: true,\r\n          orderType,\r\n        },\r\n      });\r\n    },\r\n\r\n    // 4）确认收货\r\n    async sureOrder(id, i) {\r\n      if (id === \"\") return;\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"是否收到商品？\",\r\n          beforeClose: async (action, done) => {\r\n            if (action === \"confirm\") {\r\n              const res = await doneOrder(id, this.$store.getters.token);\r\n              if (res.status === 200 && res.data.code === 20011) {\r\n                done();\r\n                this.$toast({\r\n                  message: \"收货成功~\",\r\n                  duration: 500,\r\n                  type: \"success\",\r\n                });\r\n                this.orderList.splice(i, 1);\r\n              } else {\r\n                this.$toast(\"收货失败，请重新提交！\");\r\n              }\r\n            } else {\r\n              done();\r\n            }\r\n          },\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    // 5）去添加评论页面\r\n    toAddComment(id) {\r\n      this.$router.push({\r\n        name: \"addcomment\",\r\n        params: {\r\n          animate: \"forward\",\r\n        },\r\n        query: {\r\n          id,\r\n        },\r\n      });\r\n    },\r\n\r\n    // 删除订单\r\n    async deleteOrder(id, i) {\r\n      if (id === \"\") return;\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"是否删除订单？\",\r\n          message: \"删除后无法恢复，请谨慎操作！\",\r\n          beforeClose: async (action, done) => {\r\n            if (action === \"confirm\") {\r\n              const res = await deleteOrderById(id, this.$store.getters.token);\r\n              if (res.status === 200 && res.data.code === 20011) {\r\n                this.$toast({\r\n                  message: \"删除成功！\",\r\n                  duration: 500,\r\n                  type: \"success\",\r\n                });\r\n                this.orderList.splice(i, 1);\r\n              } else {\r\n                this.$toast(\"删除失败，稍后再试！\");\r\n              }\r\n              done();\r\n            }\r\n            done();\r\n          },\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    // 6）查看评论页面\r\n    toOrderComment(id) {\r\n      console.log(id);\r\n      this.$router.push({\r\n        name: \"commentdetail\",\r\n        params: {\r\n          animate: \"forward\",\r\n        },\r\n        query: {\r\n          id,\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 商品 */\r\n.orders-list {\r\n  margin-top: 0.2rem;\r\n  padding: 0.1rem;\r\n  transition: all 0.4s;\r\n  animation-delay: var(--router-delay) / 2;\r\n}\r\n/* 标题 */\r\n.order-card .top {\r\n  text-align: right;\r\n  padding-bottom: 0.24rem;\r\n  justify-content: space-between;\r\n}\r\n.order-card .top span {\r\n  font-size: 0.36rem;\r\n}\r\n/* 内容 */\r\n.orders-list .order-card {\r\n  width: 100%;\r\n  margin-bottom: 0.4rem;\r\n  box-shadow: var(--shadow-color3);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 10px;\r\n}\r\n.order-card .goods {\r\n  margin: 0.2rem 0;\r\n}\r\n.all-price {\r\n  /* border-top: 1px solid #eeeeee8b;\r\n  border-bottom: 1px solid #eeeeee8b; */\r\n  padding: 0.2rem;\r\n  text-align: right;\r\n}\r\n.all-price .price {\r\n  font-size: 0.56rem;\r\n}\r\n/* 按钮 */\r\n.btns {\r\n  margin-top: 0.2rem;\r\n  display: flex;\r\n  justify-content: right;\r\n}\r\n.btns .btn {\r\n  background-color: var(--tip-color2);\r\n  box-shadow: none;\r\n  border-radius: 4px;\r\n  color: var(--text-color2);\r\n  padding: 0.1rem 0.2rem;\r\n  transition: 0.2s;\r\n  font-size: 0.3rem;\r\n  margin-left: 0.2rem;\r\n}\r\n.btns .cancel {\r\n  border-radius: 4px;\r\n  background-color: var(--theme-color3);\r\n  color: var(--text-colo4);\r\n  border: 1px solid var(--text-color3);\r\n}\r\n.btns .btn:hover,\r\n.btns .btn:active {\r\n  filter: brightness(0.9);\r\n}\r\n\r\n/* 列表设置 */\r\n.orders-list >>> .van-list__loading,\r\n.orders-list >>> .van-list__finished-text,\r\n.orders-list >>> .van-list__error-text {\r\n  width: 100%;\r\n  font-size: 0.35rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderList.vue?vue&type=template&id=73de08ab&scoped=true&\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderList.vue?vue&type=style&index=0&id=73de08ab&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73de08ab\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <default-page title=\"我的订单\">\r\n    <div class=\"nav-bar\"></div>\r\n    <van-tabs\r\n      sticky\r\n      class=\"tabs\"\r\n      v-model=\"active\"\r\n      swipeable\r\n      animated\r\n      line-width=\"1.2rem\"\r\n      color=\"var(--theme-color2)\"\r\n      title-active-color=\"var(--theme-color2)\"\r\n    >\r\n      <!-- 筛选条件 -->\r\n      <van-tab v-for=\"(p, i) in option\" :key=\"i\" :title=\"p.title\">\r\n        <!-- 商品列表 -->\r\n        <order-list :reqType=\"p.type\" />\r\n      </van-tab>\r\n    </van-tabs>\r\n  </default-page>\r\n</template>\r\n<script>\r\nimport DefaultPage from \"@/components/DefaultPage.vue\";\r\nimport OrderList from \"@/components/Order/OrderList.vue\";\r\nexport default {\r\n  components: { DefaultPage, OrderList },\r\n  name: \"OrderView\",\r\n  props: { index: { required: false, default: 0 } },\r\n  data() {\r\n    return {\r\n      active: 0,\r\n      option: [\r\n        { title: \"全部\", type: \"all\" },\r\n        { title: \"待付款\", type: \"unpaid\" },\r\n        { title: \"待发货\", type: \"undeliver\" },\r\n        { title: \"待收货\", type: \"delivered\" },\r\n        { title: \"已完成\", type: \"comment\" },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    // 切换栏目\r\n    if (this.index !== undefined) {\r\n      this.active = this.index;\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.tabs {\r\n  width: 100%;\r\n  height: auto;\r\n  margin-top: -10px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderView.vue?vue&type=template&id=2fa10d14&scoped=true&\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderView.vue?vue&type=style&index=0&id=2fa10d14&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fa10d14\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('default-page',{staticClass:\"check-order\",attrs:{\"title\":_vm.getTitle}},[(!_vm.isError)?_c('div',{staticClass:\"contain\"},[(_vm.getTitle !== '订单' && _vm.$route.query?.isOrder)?_c('div',{staticClass:\"v-card flex-col order-info\"},[_c('div',{staticStyle:{\"font-weight\":\"600\"}},[_vm._v(\"订单状态\")]),_c('van-steps',{attrs:{\"active\":_vm.orderStateIndex,\"active-color\":\"var(--tip-color2)\"}},[_c('van-step',{attrs:{\"name\":\"0\"}},[_vm._v(\"待支付\")]),_c('van-step',{attrs:{\"name\":\"1\"}},[_vm._v(\"待发货\")]),_c('van-step',{attrs:{\"name\":\"2\"}},[_vm._v(\"已发货\")]),_c('van-step',{attrs:{\"name\":\"3\"}},[_vm._v(\"已完成\")]),_c('van-step',{attrs:{\"name\":\"4\"}},[_vm._v(\"已评论\")])],1),_c('span',{staticClass:\"btm\"},[_vm._v(\"订单时间：\"+_vm._s(_vm.info.time))])],1):_vm._e(),(!_vm.emptyAddress)?_c('div',{on:{\"click\":function($event){_vm.isEdit ? _vm.showAddressSelectPanel() : ''}}},[_c('address-card',{staticClass:\"v-card v-click\",attrs:{\"item\":_vm.defaultAddress,\"readonly\":true},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [_c('van-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit),expression:\"isEdit\"}],staticClass:\"icons\",attrs:{\"name\":\"arrow\",\"size\":\"0.6rem\",\"color\":\"var(--text-color3)\"}})]},proxy:true}],null,false,4009229874)})],1):_vm._e(),(_vm.emptyAddress)?_c('div',{staticClass:\"v-card address\",on:{\"click\":_vm.toAddressView}},[_c('van-icon',{staticClass:\"flex-center-center default\",attrs:{\"size\":\"1.2rem\",\"name\":\"location\"}}),_c('div',{staticClass:\"text\"},[_vm._v(\"您还未添加地址，点击新建地址！\")])],1):_vm._e(),(_vm.goodsList.length > 0)?_c('div',{staticClass:\"v-card\"},[_vm._l((_vm.goodsList),function(p){return _c('goods-info',{key:p.id,staticClass:\"goods-item\",attrs:{\"goods\":p,\"price\":p?.price,\"props\":p?.props,\"num\":p?.quantity}})}),_c('div',{staticClass:\"label\"},[_c('menu-item',{attrs:{\"title\":\"配送服务\",\"value\":`快递费${_vm.allPostage > 0 ? _vm.allPostage + '元' : '免邮'}`}}),_c('menu-item',{attrs:{\"title\":\"订单备注\"}},[_c('van-field',{staticClass:\"remarks\",attrs:{\"type\":\"text\",\"input-align\":\"right\",\"placeholder\":\"无备注\",\"disabled\":!_vm.isEdit,\"maxlength\":\"30\",\"border\":false,\"clearable\":true},model:{value:(_vm.remarks),callback:function ($$v) {_vm.remarks=$$v},expression:\"remarks\"}})],1)],1)],2):_vm._e(),_c('div',{staticClass:\"v-card all-price\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"价格明细\")]),_c('div',{staticClass:\"lable-group\"},[_c('span',[_vm._v(\" 运费\"),_c('small',[_vm._v(\"（共件\"+_vm._s(_vm.goodsLengths)+\"宝贝）\")])]),_c('div',{staticClass:\"blank\"},[_c('small',[_vm._v(\"￥\")]),_vm._v(_vm._s(_vm.getPostage))])]),_c('div',{staticClass:\"lable-group\"},[_c('span',[_vm._v(\" 商品总价\"),_c('small',[_vm._v(\"（共件\"+_vm._s(_vm.goodsLengths)+\"宝贝）\")])]),_c('div',{staticClass:\"blank\"},[_c('small',[_vm._v(\"￥\")]),_vm._v(_vm._s(_vm.prices))])]),_c('div',{staticClass:\"lable-group\"},[_c('span',[_vm._v(\" 资产\"),_c('small',[_vm._v(\"（剩余：\"+_vm._s(_vm.purseInfo?.points)+\" ）100积分抵1元\")])]),(_vm.getPointsVal !== '')?_c('div',{staticClass:\"lable\",style:(_vm.isPoints ? 'color: var(--tip-color2)' : '')},[_vm._v(\" \"+_vm._s(_vm.$store.state.purseInfo?.points > 0 ? `抵扣${_vm.getPointsVal}元` : \"无可用\")+\"  \"),(!_vm.isReadonly)?_c('van-checkbox',{attrs:{\"disabled\":_vm.$store.state.purseInfo?.points <= 0,\"checked-color\":\"var(--tip-color2)\"},model:{value:(_vm.isPoints),callback:function ($$v) {_vm.isPoints=$$v},expression:\"isPoints\"}}):_vm._e()],1):_vm._e()])]),_c('div',{staticClass:\"v-card\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isPoints),expression:\"isPoints\"}],staticClass:\"allPrice reduces\"},[_c('small',[_vm._v(\"减免：\")]),_c('small',{staticClass:\"reduce-price\"},[_vm._v(\"-￥\"+_vm._s(_vm.getPointsVal))])]),_c('div',{staticClass:\"allPrice\"},[_c('span',[_vm._v(\"总价：\")]),_c('span',{staticStyle:{\"color\":\"var(--tip-color2)\",\"font-size\":\"0.5rem\"}},[_c('small',{staticStyle:{\"color\":\"var(--tip-color2)\"}},[_vm._v(\"￥\")]),_vm._v(_vm._s(_vm.finallyPrice))])])]),(_vm.isReadonly)?_c('van-cell-group',{staticClass:\"group v-card\",attrs:{\"inset\":\"\"}},[_c('van-cell',{attrs:{\"title\":\"订单编号：\",\"value\":_vm.info?.orderId},on:{\"click\":function($event){return _vm.copyId(_vm.info?.orderId)}}}),_c('van-cell',{attrs:{\"title\":\"支付方式：\",\"value\":'钱包'}}),_c('van-cell',{attrs:{\"title\":\"下单时间：\",\"value\":_vm.info?.time}})],1):_vm._e(),(!_vm.isReadonly)?_c('van-radio-group',{staticClass:\"v-card pay-list\",model:{value:(_vm.selectPay),callback:function ($$v) {_vm.selectPay=$$v},expression:\"selectPay\"}},[_c('van-cell-group',{attrs:{\"border\":false}},_vm._l((_vm.payType),function(p){return _c('van-cell',{key:p.type,attrs:{\"title\":p.name,\"clickable\":\"\",\"border\":false},on:{\"click\":function($event){_vm.selectPay = p.type}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('img',{staticClass:\"icon\",attrs:{\"src\":require(`@/assets/image/icon/${p.icon}`)}})]},proxy:true},{key:\"right-icon\",fn:function(){return [_c('van-radio',{attrs:{\"checked-color\":\"var(--tip-color2)\",\"name\":p.type,\"disabled\":!p.open}})]},proxy:true}],null,true)})}),1)],1):_vm._e(),(!_vm.isReadonly)?_c('van-submit-bar',{staticStyle:{\"animation\":\"1.2s fadeInUp\"},attrs:{\"disabled\":_vm.emptyAddress,\"price\":Number(_vm.finallyPrice.value * 100),\"button-text\":_vm.submitText},on:{\"submit\":_vm.submitBtnFun},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('van-popover',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSubmit),expression:\"isSubmit\"}],attrs:{\"trigger\":\"click\",\"placement\":\"top-start\"},scopedSlots:_vm._u([{key:\"reference\",fn:function(){return [_c('van-icon',{staticClass:\"bar-left\",attrs:{\"name\":\"ellipsis\",\"size\":\"0.5rem\"}})]},proxy:true}],null,false,3240943591),model:{value:(_vm.showPopover),callback:function ($$v) {_vm.showPopover=$$v},expression:\"showPopover\"}},[_c('div',{staticClass:\"edot-popiup\",staticStyle:{\"padding\":\"0.2rem\",\"font-size\":\"0.5rem\"}},[_c('div',{staticClass:\"edit v-click\",staticStyle:{\"padding\":\"0.2rem\"},on:{\"click\":function($event){_vm.isEdit = !_vm.isEdit}}},[_vm._v(\" \"+_vm._s(_vm.isEdit ? \"取消修改\" : \"修改\")+\" \")]),_c('div',{staticClass:\"cancel v-click\",staticStyle:{\"padding\":\"0.2rem\"},on:{\"click\":_vm.cancelOrder}},[_vm._v(\" 取消订单 \")])])])]},proxy:true}],null,false,104948402)}):_vm._e()],1):_vm._e(),_c('select-address',{attrs:{\"addressList\":_vm.addressList,\"defaultAddress\":_vm.defaultAddress},on:{\"changeAddress\":_vm.changeAddress},model:{value:(_vm.showselect),callback:function ($$v) {_vm.showselect=$$v},expression:\"showselect\"}}),_c('van-popup',{staticClass:\"flex-col pay-panel\",attrs:{\"transition\":\"popup\",\"closeable\":\"\",\"round\":\"\",\"position\":\"center\"},model:{value:(_vm.showPayPanel),callback:function ($$v) {_vm.showPayPanel=$$v},expression:\"showPayPanel\"}},[_c('label',{staticClass:\"title\"},[_vm._v(\"待支付\")]),_c('div',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\")]),_c('span',{staticClass:\"big\"},[_vm._v(_vm._s(_vm.finallyPrice))])]),_c('div',{staticClass:\"flex-center-center purse\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require('@/assets/image/icon/balance_icon.png')}}),_vm._v(\"钱包 \"),_c('small',[_vm._v(\"（ 余额：￥\"+_vm._s(_vm.balance)+\" ）\")])]),_c('van-button',{staticClass:\"v-btn\",attrs:{\"disabled\":_vm.purseInfo.balance < _vm.finallyPrice.value},on:{\"click\":_vm.payOrder}},[_vm._v(_vm._s(_vm.purseInfo.balance < _vm.finallyPrice.value ? \"余额不足\" : \"确认付款\"))])],1),(_vm.isError)?_c('error-card',{attrs:{\"btn-text\":\"返回\",\"image\":\"error\",\"text\":\"页面刷新，请重新进入！\"},on:{\"refresh\":function($event){return _vm.$router.back()}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-popup',{staticClass:\"address-popup\",attrs:{\"transition\":\"popup\",\"value\":_vm.value,\"closeable\":\"\",\"round\":\"\",\"position\":\"center\"},on:{\"input\":(val) => this.$emit('input', val)}},[_c('div',{staticClass:\"title\"},[_vm._v(\"选择地址\")]),(_vm.addressList)?_c('van-list',{staticClass:\"list\",attrs:{\"finished\":_vm.finished},on:{\"load\":_vm.getAllAddressList},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('van-radio-group',{model:{value:(_vm.selectId),callback:function ($$v) {_vm.selectId=$$v},expression:\"selectId\"}},[_c('transition-group',{attrs:{\"name\":\"item\",\"tag\":\"div\"}},_vm._l((_vm.addresses),function(item,i){return _c('div',{key:item.id,staticClass:\"items\",on:{\"click\":function($event){return _vm.clickItem(item?.id, i)}}},[_c('address-card',{staticClass:\"v-card v-click\",attrs:{\"item\":item,\"readonly\":true},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [_c('van-radio',{attrs:{\"icon-size\":\"0.5rem\",\"name\":item.id,\"checked-color\":\"var(--tip-color2)\"}})]},proxy:true}],null,true)})],1)}),0)],1)],1):_vm._e(),_c('button',{staticClass:\"v-btn\",on:{\"click\":_vm.submitAddress}},[_vm._v(\"确定\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\r\n  <van-popup\r\n    transition=\"popup\"\r\n    :value=\"value\"\r\n    @input=\"(val) => this.$emit('input', val)\"\r\n    closeable\r\n    round\r\n    position=\"center\"\r\n    class=\"address-popup\"\r\n  >\r\n    <div class=\"title\">选择地址</div>\r\n    <!-- 列表 -->\r\n    <van-list\r\n      class=\"list\"\r\n      v-if=\"addressList\"\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      @load=\"getAllAddressList\"\r\n    >\r\n      <van-radio-group v-model=\"selectId\">\r\n        <transition-group name=\"item\" tag=\"div\">\r\n          <!-- 地址卡片 -->\r\n          <div\r\n            class=\"items\"\r\n            v-for=\"(item, i) in addresses\"\r\n            :key=\"item.id\"\r\n            @click=\"clickItem(item?.id, i)\"\r\n          >\r\n            <address-card class=\"v-card v-click\" :item=\"item\" :readonly=\"true\">\r\n              <template #right-icon>\r\n                <van-radio\r\n                  icon-size=\"0.5rem\"\r\n                  :name=\"item.id\"\r\n                  checked-color=\"var(--tip-color2)\"\r\n                ></van-radio>\r\n              </template>\r\n            </address-card>\r\n          </div>\r\n        </transition-group>\r\n      </van-radio-group>\r\n    </van-list>\r\n    <button @click=\"submitAddress\" class=\"v-btn\">确定</button>\r\n  </van-popup>\r\n</template>\r\n<script>\r\nimport AddressCard from \"./AddressCard.vue\";\r\nexport default {\r\n  components: { AddressCard },\r\n  props: [\"addressList\", \"value\", \"defaultAddress\"],\r\n  name: \"SelectAddress\",\r\n  data() {\r\n    return {\r\n      active: -1,\r\n      selectId: \"\",\r\n      // 加载\r\n      show: false,\r\n      loading: false,\r\n      finished: false,\r\n\r\n      addresses: [], // 最终的元素\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取全部地址\r\n    getAllAddressList() {\r\n      this.loading = true;\r\n      this.selectId = this.addressList[0].id;\r\n      this.addressList.forEach((p) => {\r\n        if (p.isDefault) {\r\n          this.selectId = p.id;\r\n          this.addresses.unshift(p);\r\n        } else {\r\n          this.addresses.push(p);\r\n        }\r\n      });\r\n      if (this.addressList.length === this.addresses.length) {\r\n        this.finished = true;\r\n      }\r\n    },\r\n\r\n    clickItem(id, i) {\r\n      // console.log(id, i);\r\n      this.selectId = id;\r\n      this.active = i;\r\n    },\r\n\r\n    submitAddress() {\r\n      this.$emit(\"changeAddress\", this.addresses[this.active]);\r\n      this.$emit(\"input\", false);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.address-popup {\r\n  width: 94%;\r\n  min-height: 70vh;\r\n  max-height: 90vh;\r\n  padding: 0.3rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.address-popup .list {\r\n  overflow-y: auto;\r\n  padding: 0.1rem;\r\n}\r\n.address-popup > .title {\r\n  font-size: 0.48rem;\r\n  font-weight: 600;\r\n  text-align: center;\r\n  margin-bottom: 0.5rem;\r\n}\r\n.v-click:active {\r\n  transform: scale(0.99);\r\n  box-shadow: none;\r\n}\r\n.address-popup .v-btn {\r\n  margin-bottom: 0.1rem !important;\r\n  bottom: 0.3rem;\r\n  text-align: center;\r\n  margin: 0.2rem 0;\r\n  position: absolute;\r\n  left: 4%;\r\n  width: 92%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectAddress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectAddress.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectAddress.vue?vue&type=template&id=e414d236&scoped=true&\"\nimport script from \"./SelectAddress.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectAddress.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SelectAddress.vue?vue&type=style&index=0&id=e414d236&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e414d236\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <default-page :title=\"getTitle\" class=\"check-order\">\r\n    <div class=\"contain\" v-if=\"!isError\">\r\n      <!-- 订单状态 -->\r\n      <div\r\n        class=\"v-card flex-col order-info\"\r\n        v-if=\"getTitle !== '订单' && $route.query?.isOrder\"\r\n      >\r\n        <div style=\"font-weight: 600\">订单状态</div>\r\n        <van-steps :active=\"orderStateIndex\" active-color=\"var(--tip-color2)\">\r\n          <van-step name=\"0\">待支付</van-step>\r\n          <van-step name=\"1\">待发货</van-step>\r\n          <van-step name=\"2\">已发货</van-step>\r\n          <van-step name=\"3\">已完成</van-step>\r\n          <van-step name=\"4\">已评论</van-step>\r\n        </van-steps>\r\n        <span class=\"btm\">订单时间：{{ info.time }}</span>\r\n      </div>\r\n      <!-- 1）地址卡片栏 -->\r\n      <div v-if=\"!emptyAddress\" @click=\"isEdit ? showAddressSelectPanel() : ''\">\r\n        <address-card\r\n          class=\"v-card v-click\"\r\n          :item=\"defaultAddress\"\r\n          :readonly=\"true\"\r\n        >\r\n          <template #right-icon>\r\n            <van-icon\r\n              v-show=\"isEdit\"\r\n              name=\"arrow\"\r\n              class=\"icons\"\r\n              size=\"0.6rem\"\r\n              color=\"var(--text-color3)\"\r\n            />\r\n          </template>\r\n        </address-card>\r\n      </div>\r\n      <!-- 无地址 -->\r\n      <div class=\"v-card address\" v-if=\"emptyAddress\" @click=\"toAddressView\">\r\n        <van-icon\r\n          size=\"1.2rem\"\r\n          name=\"location\"\r\n          class=\"flex-center-center default\"\r\n        />\r\n        <div class=\"text\">您还未添加地址，点击新建地址！</div>\r\n      </div>\r\n\r\n      <!-- 2）商品卡片+备注 -->\r\n      <div class=\"v-card\" v-if=\"goodsList.length > 0\">\r\n        <!-- 商品 -->\r\n        <goods-info\r\n          class=\"goods-item\"\r\n          v-for=\"p in goodsList\"\r\n          :key=\"p.id\"\r\n          :goods=\"p\"\r\n          :price=\"p?.price\"\r\n          :props=\"p?.props\"\r\n          :num=\"p?.quantity\"\r\n        />\r\n        <!-- 运费\\备注 -->\r\n        <div class=\"label\">\r\n          <menu-item\r\n            title=\"配送服务\"\r\n            :value=\"`快递费${allPostage > 0 ? allPostage + '元' : '免邮'}`\"\r\n          />\r\n          <menu-item title=\"订单备注\">\r\n            <van-field\r\n              type=\"text\"\r\n              class=\"remarks\"\r\n              input-align=\"right\"\r\n              placeholder=\"无备注\"\r\n              :disabled=\"!isEdit\"\r\n              v-model=\"remarks\"\r\n              maxlength=\"30\"\r\n              :border=\"false\"\r\n              :clearable=\"true\"\r\n            />\r\n          </menu-item>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 3）价格明细 -->\r\n      <div class=\"v-card all-price\">\r\n        <div class=\"title\">价格明细</div>\r\n        <div class=\"lable-group\">\r\n          <span>\r\n            运费<small>（共件{{ goodsLengths }}宝贝）</small>\r\n          </span>\r\n          <div class=\"blank\"><small>￥</small>{{ getPostage }}</div>\r\n        </div>\r\n        <div class=\"lable-group\">\r\n          <span>\r\n            商品总价<small>（共件{{ goodsLengths }}宝贝）</small>\r\n          </span>\r\n          <div class=\"blank\"><small>￥</small>{{ prices }}</div>\r\n        </div>\r\n        <!-- 积分抵扣 -->\r\n        <div class=\"lable-group\">\r\n          <span>\r\n            资产<small\r\n              >（剩余：{{ purseInfo?.points }} ）100积分抵1元</small\r\n            ></span\r\n          >\r\n          <div\r\n            v-if=\"getPointsVal !== ''\"\r\n            class=\"lable\"\r\n            :style=\"isPoints ? 'color: var(--tip-color2)' : ''\"\r\n          >\r\n            {{\r\n              $store.state.purseInfo?.points > 0\r\n                ? `抵扣${getPointsVal}元`\r\n                : \"无可用\"\r\n            }}&nbsp;\r\n            <van-checkbox\r\n              v-if=\"!isReadonly\"\r\n              v-model=\"isPoints\"\r\n              :disabled=\"$store.state.purseInfo?.points <= 0\"\r\n              checked-color=\"var(--tip-color2)\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 总价 -->\r\n      <div class=\"v-card\">\r\n        <div class=\"allPrice reduces\" v-show=\"isPoints\">\r\n          <small>减免：</small>\r\n          <small class=\"reduce-price\">-￥{{ getPointsVal }}</small>\r\n        </div>\r\n        <div class=\"allPrice\">\r\n          <span>总价：</span>\r\n          <span style=\"color: var(--tip-color2); font-size: 0.5rem\"\r\n            ><small style=\"color: var(--tip-color2)\">￥</small\r\n            >{{ finallyPrice }}</span\r\n          >\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 4）订单信息 -->\r\n      <van-cell-group inset class=\"group v-card\" v-if=\"isReadonly\">\r\n        <van-cell\r\n          @click=\"copyId(info?.orderId)\"\r\n          title=\"订单编号：\"\r\n          :value=\"info?.orderId\"\r\n        />\r\n        <van-cell title=\"支付方式：\" :value=\"'钱包'\" />\r\n        <van-cell title=\"下单时间：\" :value=\"info?.time\" />\r\n      </van-cell-group>\r\n\r\n      <!-- 5）选择付款方式 -->\r\n      <van-radio-group\r\n        v-if=\"!isReadonly\"\r\n        v-model=\"selectPay\"\r\n        class=\"v-card pay-list\"\r\n      >\r\n        <van-cell-group :border=\"false\">\r\n          <van-cell\r\n            v-for=\"p in payType\"\r\n            :key=\"p.type\"\r\n            :title=\"p.name\"\r\n            clickable\r\n            :border=\"false\"\r\n            @click=\"selectPay = p.type\"\r\n          >\r\n            <template #icon>\r\n              <img\r\n                :src=\"require(`@/assets/image/icon/${p.icon}`)\"\r\n                class=\"icon\"\r\n              />\r\n            </template>\r\n            <template #right-icon>\r\n              <van-radio\r\n                checked-color=\"var(--tip-color2)\"\r\n                :name=\"p.type\"\r\n                :disabled=\"!p.open\"\r\n              />\r\n            </template>\r\n          </van-cell>\r\n        </van-cell-group>\r\n      </van-radio-group>\r\n\r\n      <!-- 提交订单 -->\r\n      <van-submit-bar\r\n        style=\"animation: 1.2s fadeInUp\"\r\n        v-if=\"!isReadonly\"\r\n        :disabled=\"emptyAddress\"\r\n        :price=\"Number(finallyPrice.value * 100)\"\r\n        :button-text=\"submitText\"\r\n        @submit=\"submitBtnFun\"\r\n      >\r\n        <template #default>\r\n          <van-popover\r\n            v-show=\"isSubmit\"\r\n            v-model=\"showPopover\"\r\n            trigger=\"click\"\r\n            placement=\"top-start\"\r\n          >\r\n            <div class=\"edot-popiup\" style=\"padding: 0.2rem; font-size: 0.5rem\">\r\n              <div\r\n                class=\"edit v-click\"\r\n                style=\"padding: 0.2rem\"\r\n                @click=\"isEdit = !isEdit\"\r\n              >\r\n                {{ isEdit ? \"取消修改\" : \"修改\" }}\r\n              </div>\r\n              <div\r\n                class=\"cancel v-click\"\r\n                style=\"padding: 0.2rem\"\r\n                @click=\"cancelOrder\"\r\n              >\r\n                取消订单\r\n              </div>\r\n            </div>\r\n            <template #reference>\r\n              <van-icon name=\"ellipsis\" size=\"0.5rem\" class=\"bar-left\" />\r\n            </template>\r\n          </van-popover>\r\n        </template>\r\n      </van-submit-bar>\r\n    </div>\r\n    <!-- 地址选择 -->\r\n    <select-address\r\n      :addressList=\"addressList\"\r\n      v-model=\"showselect\"\r\n      :defaultAddress=\"defaultAddress\"\r\n      @changeAddress=\"changeAddress\"\r\n    ></select-address>\r\n    <!-- 网络支付 -->\r\n    <van-popup\r\n      transition=\"popup\"\r\n      v-model=\"showPayPanel\"\r\n      closeable\r\n      round\r\n      position=\"center\"\r\n      class=\"flex-col pay-panel\"\r\n    >\r\n      <label class=\"title\">待支付</label>\r\n      <div class=\"price\">\r\n        <span>￥</span>\r\n        <span class=\"big\">{{ finallyPrice }}</span>\r\n      </div>\r\n      <div class=\"flex-center-center purse\">\r\n        <img\r\n          :src=\"require('@/assets/image/icon/balance_icon.png')\"\r\n          class=\"icon\"\r\n        />钱包\r\n        <small>（ 余额：￥{{ balance }} ）</small>\r\n      </div>\r\n      <van-button\r\n        class=\"v-btn\"\r\n        @click=\"payOrder\"\r\n        :disabled=\"purseInfo.balance < finallyPrice.value\"\r\n        >{{\r\n          purseInfo.balance < finallyPrice.value ? \"余额不足\" : \"确认付款\"\r\n        }}</van-button\r\n      >\r\n    </van-popup>\r\n    <!-- 网络错误 -->\r\n    <error-card\r\n      v-if=\"isError\"\r\n      @refresh=\"$router.back()\"\r\n      btn-text=\"返回\"\r\n      image=\"error\"\r\n      text=\"页面刷新，请重新进入！\"\r\n    />\r\n  </default-page>\r\n</template>\r\n<script>\r\nimport DefaultPage from \"@/components/DefaultPage\";\r\nimport ErrorCard from \"@/components/ErrorCard\";\r\nimport { getResourImageByName } from \"@/api/res\";\r\nimport {\r\n  cancelOrderById,\r\n  payOrder,\r\n  submitOrder,\r\n  updateOrder,\r\n} from \"@/api/order/order\";\r\nimport { getDefaultAddress, getAllAddress } from \"@/api/user/address\";\r\nimport AddressCard from \"@/components/Address/AddressCard.vue\";\r\nimport SelectAddress from \"@/components/Address/SelectAddress\";\r\nimport GoodsInfo from \"@/components/Goods/GoodsInfo.vue\";\r\nimport MenuItem from \"@/components/My/MenuItem.vue\";\r\nimport { checkText } from \"@/util/xxsFilter\";\r\nimport currency from \"currency.js\";\r\nimport { getPurseInfo } from \"@/api/user/purse\";\r\nimport { copyTextAsync } from \"@/util/copy\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"CheckOrder\",\r\n  components: {\r\n    ErrorCard,\r\n    DefaultPage,\r\n    GoodsInfo,\r\n    AddressCard,\r\n    MenuItem,\r\n    SelectAddress,\r\n  },\r\n  data() {\r\n    return {\r\n      // 订单列表\r\n      info: [],\r\n      goodsList: [],\r\n      defaultAddress: {},\r\n      addressList: [], // 全地址\r\n      orderType: \"\",\r\n      // 商品状况\r\n      orderStateIndex: 0, // 进度条\r\n      goodsLengths: 0, // 商品总数\r\n      remarks: \"\", // 备注\r\n      allPrice: 0,\r\n      allPostage: 0,\r\n      finallyPrice: 0,\r\n      balance: 0,\r\n      // 功能\r\n      getTitle: \"订单\",\r\n      isError: false, // 网络错误\r\n      submitError: false, // 提交订单失败\r\n      showPayPanel: false, // 打开交易的钱包\r\n      showPopover: false, // 修改栏目\r\n      isReadonly: false,\r\n      isPoints: false, // 是否选用积分\r\n      // 地址\r\n      emptyAddress: false, // 是否为空地址\r\n      showselect: false, // 展示地址选择列表\r\n      // 交易\r\n      isEdit: true, // 是否可修改\r\n      isSubmit: false, // 是否提交\r\n      isPayDone: false, // 是否支付成功\r\n\r\n      orderState: [\"待支付\", \"已付款\"], // 1) isEdit f su\r\n\r\n      // 支付\r\n      submitId: \"\", // 订单id\r\n      submitText: \"提交订单\",\r\n      // 支付方式\r\n      selectPay: \"purse\",\r\n      payType: [\r\n        { type: \"purse\", icon: \"balance_icon.png\", name: \"钱包\", open: true },\r\n        { type: \"wechat\", icon: \"wechat.png\", name: \"微信\", open: false },\r\n        { type: \"zfb\", icon: \"zfb.png\", name: \"支付宝\", open: false },\r\n        { type: \"ysf\", icon: \"ysf.png\", name: \"云闪付\", open: false },\r\n      ],\r\n\r\n      // 取消订单原因\r\n      reason: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    // 初始化\r\n    this.getBalance(); // 钱包\r\n    const q = this.$route.query;\r\n    // 订单初始化\r\n    if (q.info === \"[object Object]\" || q.goodsList === \"[object Object]\") {\r\n      return (this.isError = true);\r\n    }\r\n    this.orderType = q.orderType || \"\"; // 订单类型\r\n    // 1）订单页进入\r\n    if (q.isOrder && q.info.orderId) {\r\n      this.getAddressList(); // 获取列表\r\n      this.checkOrderType(); // 确定订单状态\r\n      this.submitId = q.info.orderId; // 订单id\r\n      // console.log(q);\r\n      const { name, phone, address } = q.info;\r\n      this.defaultAddress.name = name;\r\n      this.defaultAddress.phone = phone;\r\n      this.defaultAddress.address = address;\r\n      this.defaultAddress.id = null;\r\n      this.remarks = q.info.remarks;\r\n      // 订单页面的数据\r\n      q.goodsList.forEach((goods) => {\r\n        this.goodsLengths = this.goodsLengths + goods.quantity;\r\n        goods.props =\r\n          (goods.color || \"\") +\r\n          (goods.size || \"\") +\r\n          (goods.combo || \"\") +\r\n          (goods.edition || \"\");\r\n        this.goodsList.push(goods);\r\n        this.allPostage = currency(this.allPostage).add(goods.postage);\r\n        this.allPrice = currency(this.allPrice).add(goods.price);\r\n      });\r\n      for (const key in q.info) {\r\n        this.$set(this.info, key, q.info[key]);\r\n      }\r\n      // 商品页面进入\r\n    } else {\r\n      // 获取默认地址\r\n      this.getDefaultAddress();\r\n      // 加载订单和商品 总价\r\n      q.goodsList.forEach((goods) => {\r\n        this.goodsList.push(goods);\r\n        this.goodsLengths = this.goodsLengths + goods.quantity;\r\n        this.allPrice = this.allPrice + goods.unitPrice * goods.quantity;\r\n        this.allPostage = this.allPostage + goods.postage * goods.quantity;\r\n      });\r\n      // 添加订单信息\r\n      for (const key in q?.info) {\r\n        this.$set(this.info, key, q.info[key]);\r\n      }\r\n    }\r\n    // 最总价格= 总价+运费\r\n    this.finallyPrice = currency(this.allPrice).add(this.allPostage);\r\n    this.allPrice *= 100;\r\n  },\r\n  methods: {\r\n    // 选择地址弹窗\r\n    showAddressSelectPanel() {\r\n      this.showselect = true;\r\n    },\r\n    changeAddress(p) {\r\n      for (const key in p) {\r\n        this.$set(this.defaultAddress, key, p[key]);\r\n      }\r\n    },\r\n\r\n    // 获取默认地址\r\n    async getDefaultAddress() {\r\n      const res = await getDefaultAddress(this.$store.getters.token);\r\n      if (res.status === 200) {\r\n        // 有默认地址\r\n        if (res.data.code === 20011 && res.data.data.length > 0) {\r\n          this.getAddressList(false); //获取全部地址\r\n          for (const key in res.data.data) {\r\n            this.$set(this.defaultAddress, key, res.data.data[key]);\r\n          }\r\n          // 无默认地址\r\n        } else {\r\n          this.getAddressList(true); // 获取第一个地址\r\n          return;\r\n        }\r\n      } else {\r\n        this.isError = true;\r\n      }\r\n    },\r\n\r\n    // 获取第一个地址 或全部地址\r\n    async getAddressList(getFirst = false) {\r\n      const res = await getAllAddress(this.$store.getters.token);\r\n\r\n      // 地址为空\r\n      if (\r\n        res.data.code !== 20011 ||\r\n        res.status !== 200 ||\r\n        res.data.data.length === 0\r\n      )\r\n        return (this.emptyAddress = true);\r\n      //渲染地址\r\n      const data = res.data.data;\r\n      if (data.length > 0 && getFirst) {\r\n        for (const key in data[0]) {\r\n          this.$set(this.defaultAddress, key, data[0][key]);\r\n        }\r\n      }\r\n      // 添加全部地址\r\n      this.addressList.splice(0);\r\n      data.forEach((p) => {\r\n        this.addressList.push(p);\r\n      });\r\n    },\r\n\r\n    // 初始化从订单页的订单状态\r\n    checkOrderType() {\r\n      this.isSubmit = true;\r\n      this.submitId = this.info?.orderId;\r\n      this.isEdit = false;\r\n      switch (this.orderType) {\r\n        case \"unpaid\":\r\n          this.getTitle = \"待支付\";\r\n          this.submitText = \"去支付\";\r\n          this.orderStateIndex = 0;\r\n          break;\r\n        case \"update\":\r\n          this.isEdit = true;\r\n          this.submitText = \"更新并付款\";\r\n          this.orderStateIndex = 0;\r\n          break;\r\n        case \"undeliver\":\r\n          this.getTitle = \"待发货\";\r\n          this.orderStateIndex = 1;\r\n          break;\r\n        case \"delivered\":\r\n          this.getTitle = \"已发货\";\r\n          this.orderStateIndex = 2;\r\n          break;\r\n        case \"uncomment\":\r\n          this.getTitle = \"已完成，待评论\";\r\n          this.orderStateIndex = 3;\r\n          break;\r\n        case \"commented\":\r\n          this.getTitle = \"已评论\";\r\n          this.orderStateIndex = 4;\r\n          break;\r\n        default:\r\n          this.getTitle = \"订单\";\r\n          break;\r\n      }\r\n    },\r\n\r\n    // 复制ID\r\n    copyId(text) {\r\n      copyTextAsync(text)\r\n        .then(() => {\r\n          this.$toast({ message: \"复制成功！\", position: \"bottom\" });\r\n        })\r\n        .catch(() => {\r\n          this.$toast({ message: \"用户取消了复制！\", position: \"bottom\" });\r\n        });\r\n    },\r\n\r\n    // 提交按钮\r\n    submitBtnFun() {\r\n      if (this.orderType && this.isSubmit != \"\") {\r\n        switch (this.orderType) {\r\n          case \"unpaid\":\r\n            this.showPayPanel = true;\r\n            break;\r\n          case \"update\":\r\n            this.updateOrders(); // 更新\r\n            break;\r\n          case \"undeliver\":\r\n            this.submitText = \"undeliver\";\r\n            break;\r\n          case \"delivered\":\r\n            this.submitText = \"delivered\";\r\n            break;\r\n          case \"comment\":\r\n            break;\r\n        }\r\n      } else {\r\n        // 修改或提交订单\r\n        this.isSubmit ? this.updateOrders() : this.onPutOrder();\r\n      }\r\n    },\r\n\r\n    // 1）提交订单\r\n    onPutOrder() {\r\n      if (this.emptyAddress || !this.defaultAddress.id || this.isSubmit)\r\n        return this.$toast(\"地址不能为空！\");\r\n      const aid = this.defaultAddress.id; // 地址id\r\n      const items = [];\r\n      // 属性id * 数量\r\n      this.goodsList.forEach((p) => {\r\n        items.push({ gid: p.id, quantity: p.quantity });\r\n      });\r\n      this.$toast.loading({\r\n        message: \"提交中...\",\r\n        forbidClick: true,\r\n        onOpened: async () => {\r\n          // 提交订单\r\n          const res = await submitOrder(\r\n            aid,\r\n            items,\r\n            checkText(this.remarks),\r\n            this.$store.getters.token\r\n          );\r\n          if (res.status === 200 && res.data.code === 20011) {\r\n            this.submitId = res.data.data;\r\n            this.isEdit = false; // 关闭编辑\r\n            this.isSubmit = true;\r\n            this.submitError = false;\r\n            this.submitText = \"待支付\";\r\n          } else {\r\n            this.submitError = true;\r\n          }\r\n        },\r\n        // 拉起支付面板\r\n        onClose: () => {\r\n          if (this.submitError) {\r\n            this.showPayPanel = false;\r\n            this.$toast({ type: \"fail\", message: \"提交失败！\" });\r\n          } else {\r\n            this.showPayPanel = true;\r\n          }\r\n        },\r\n      });\r\n    },\r\n\r\n    // 2) 发起支付订单\r\n    payOrder() {\r\n      this.showPayPanel = false;\r\n\r\n      if (this.submitId === \"\") return;\r\n      this.$toast.loading({\r\n        message: \"支付中...\",\r\n        forbidClick: true,\r\n        onOpened: async () => {\r\n          let ponits = 0;\r\n          if (this.isPoints) {\r\n            ponits =\r\n              this.getPointsVal.intValue > this.allPrice\r\n                ? this.allPrice\r\n                : this.getPointsVal.intValue / 100;\r\n          }\r\n          const res = await payOrder(\r\n            this.submitId,\r\n            ponits,\r\n            this.$store.getters.token\r\n          );\r\n          this.isPayDone = res.data.code === 20011;\r\n          this.showPayPanel = false;\r\n        },\r\n        onClose: () => {\r\n          if (this.isPayDone) {\r\n            this.$toast({\r\n              type: \"success\",\r\n              message: \"支付成功!\",\r\n              forbidClick: true,\r\n            });\r\n            this.$router.replace({\r\n              name: \"order\",\r\n              params: { animate: \"forward\" },\r\n            });\r\n          } else {\r\n            this.$toast({\r\n              type: \"fail\",\r\n              message: \"余额不足\",\r\n              forbidClick: true,\r\n            });\r\n          }\r\n        },\r\n      });\r\n    },\r\n\r\n    // 3) 修改订单\r\n    async updateOrders() {\r\n      if (this.isEdit) {\r\n        if (this.submitId === \"\") return;\r\n        const res = await updateOrder(\r\n          this.submitId,\r\n          this.defaultAddress.id || null,\r\n          checkText(this.remarks) || null,\r\n          this.$store.getters.token\r\n        );\r\n        if (res.status === 200 && res.data.code === 20011) {\r\n          this.showPayPanel = true;\r\n          this.submitId = res.data.data?.orderId;\r\n        } else {\r\n          this.$toast(\"修改失败，请重新提交！\");\r\n        }\r\n      } else {\r\n        this.showPayPanel = true;\r\n      }\r\n    },\r\n    // 4) 取消订单\r\n    async cancelOrder() {\r\n      if (this.submitId === \"\") return;\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"是否取消订单？\",\r\n          beforeClose: (action, done) => {\r\n            if (action === \"confirm\") {\r\n              setTimeout(async () => {\r\n                const res = await cancelOrderById(\r\n                  this.submitId,\r\n                  this.reason, // 原因\r\n                  this.$store.getters.token\r\n                );\r\n                if (res.status === 200 && res.data.code === 20011) {\r\n                  this.$toast({ message: \"取消成功！\", type: \"success\" });\r\n                  this.$router.back();\r\n                } else {\r\n                  this.$toast(\"取消失败，稍后再试！\");\r\n                }\r\n                done();\r\n              }, 1000);\r\n            }\r\n            done();\r\n          },\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    // 获取钱包\r\n    getBalance() {\r\n      getPurseInfo(this.$store.getters.token)\r\n        .then((res) => {\r\n          if (res.data.code === 20011) {\r\n            this.balance = currency(res.data.data.balance);\r\n            this.$store.commit(\"setPurseInfo\", res.data.data);\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    // 跳转到地址页面\r\n    toAddressView() {\r\n      this.$router.push({\r\n        name: \"address\",\r\n        params: {\r\n          animate: \"forward\",\r\n          toBack: true,\r\n        },\r\n      });\r\n    },\r\n    // 获取图像地址\r\n    getImgUrl(url) {\r\n      return getResourImageByName(url);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"purseInfo\"]),\r\n    // 计算价格\r\n    prices() {\r\n      return currency(this.allPrice / 100);\r\n    },\r\n\r\n    // 计算运费\r\n    getPostage() {\r\n      if (this.allPostage) {\r\n        return currency(this.allPostage);\r\n      } else {\r\n        return \"免运费\";\r\n      }\r\n    },\r\n\r\n    // 计算积分抵扣\r\n    getPointsVal() {\r\n      if (this.$route.query.isOrder && this.isReadonly) {\r\n        return \"\";\r\n      } else {\r\n        if (\r\n          this.purseInfo.points >\r\n          (this.allPrice / 100 + this.allPostage) * 100\r\n        ) {\r\n          return currency(this.allPrice / 100).add(this.allPostage);\r\n        } else {\r\n          return currency(this.purseInfo.points / 100);\r\n        }\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    defaultAddress: {\r\n      deep: true,\r\n      immediate: true,\r\n      handler() {\r\n        this.emptyAddress = this.defaultAddress?.id === \"\";\r\n      },\r\n    },\r\n\r\n    // 只读\r\n    orderType(val) {\r\n      if (val !== \"\") {\r\n        this.isReadonly = !(val === \"update\" || val === \"unpaid\");\r\n      } else {\r\n        this.isReadonly = false;\r\n      }\r\n    },\r\n\r\n    // 积分抵扣\r\n    isPoints(val) {\r\n      if (val) {\r\n        this.finallyPrice = currency(this.finallyPrice).subtract(\r\n          this.getPointsVal\r\n        );\r\n      } else {\r\n        this.finallyPrice = currency(this.allPrice / 100).add(this.allPostage);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.check-order {\r\n  background-color: #eeeeee5e;\r\n  min-height: 100vh;\r\n  padding: 0;\r\n}\r\n.contain {\r\n  padding: 0.1rem;\r\n  margin-bottom: 1.4rem;\r\n}\r\n.v-card {\r\n  transition: all 0.3s;\r\n  border-radius: 10px;\r\n  box-shadow: var(--shadow-color3);\r\n  background-color: var(--theme-color);\r\n}\r\n.address {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0.4rem;\r\n  font-size: 0.42rem;\r\n  font-size: 600;\r\n  cursor: pointer;\r\n}\r\n\r\n.contain .address-card {\r\n  margin-bottom: 0.36rem;\r\n}\r\n.address .default {\r\n  margin: 0 0.2rem;\r\n  color: var(--tip-color2);\r\n}\r\n.order-info >>> .van-steps {\r\n  padding: 0;\r\n  margin-top: 0.3rem;\r\n}\r\n.order-info >>> .van-step__title {\r\n  font-size: 0.3rem;\r\n}\r\n.order-info .btm {\r\n  font-size: 0.35rem;\r\n  color: var(--text-color3);\r\n}\r\n.top-order {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.top-order .left {\r\n  margin: 0.2rem;\r\n}\r\n.top-order .right div {\r\n  margin-bottom: 0.2rem;\r\n}\r\n.top-order .right .top {\r\n  color: var(--tip-color2);\r\n}\r\n\r\n/* 商品 */\r\n.v-card {\r\n  margin-bottom: 0.36rem;\r\n}\r\n/* 留言 */\r\n.remarks {\r\n  float: left;\r\n  width: 3rem;\r\n  background-color: transparent;\r\n  padding: 0;\r\n}\r\n.remarks >>> input::placeholder {\r\n  text-align: right;\r\n  padding-right: 0.2rem;\r\n  letter-spacing: 0.05rem;\r\n  font-size: 0.36rem;\r\n  color: var(--text-color3);\r\n}\r\n.goods-item {\r\n  margin: 0.2rem 0;\r\n}\r\n/* 价格明细 */\r\n.all-price .title {\r\n  font-weight: 600;\r\n  margin-bottom: 0.2rem;\r\n}\r\n\r\n/* 支付 */\r\n.pay-list >>> .van-cell {\r\n  padding: 0.2rem 0;\r\n}\r\n.pay-list .icon {\r\n  display: block;\r\n  width: 0.6rem;\r\n  height: 0.6rem;\r\n  object-fit: cover;\r\n  margin-right: 0.3rem;\r\n}\r\n.van-cell__title >>> span {\r\n  font-size: 0.4rem;\r\n}\r\n\r\n/* pay-panel */\r\n.pay-panel {\r\n  height: 7rem;\r\n  width: 90%;\r\n  padding: 0.4rem 0.3rem;\r\n  padding-bottom: 0.6rem;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.pay-panel .title {\r\n  display: block;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 0.55rem;\r\n  margin: 0.4rem 0;\r\n}\r\n.pay-panel >>> .van-popup__close-icon {\r\n  top: 0.4rem;\r\n  right: 0.4rem;\r\n}\r\n.pay-panel .price {\r\n  margin: 0.2rem 0;\r\n  text-align: center;\r\n}\r\n.pay-panel .price span {\r\n  font-weight: 600;\r\n  font-size: 0.8rem;\r\n}\r\n.pay-panel .price .big {\r\n  font-size: 1.2rem;\r\n}\r\n.pay-panel .icon {\r\n  height: 2em;\r\n  margin: 0.2rem;\r\n}\r\n\r\n/* 修改 */\r\n.bar-left {\r\n  cursor: pointer;\r\n  padding: 0 0.2rem;\r\n}\r\n.check-order >>> .edit-popup >>> .item {\r\n  padding: 0.2rem;\r\n}\r\n\r\n/* 订单信息 */\r\n.group {\r\n  width: 100%;\r\n  margin: 0.4rem 0;\r\n}\r\n.reduces {\r\n  padding: 0.1rem;\r\n}\r\n.reduce-price {\r\n  padding: 0.1rem 0;\r\n}\r\n.allPrice {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.group >>> .van-cell {\r\n  padding: 0.2rem 0;\r\n}\r\n.check-order >>> .van-submit-bar__button {\r\n  width: auto;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CheckOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CheckOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckOrder.vue?vue&type=template&id=1625b7cc&scoped=true&\"\nimport script from \"./CheckOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckOrder.vue?vue&type=style&index=0&id=1625b7cc&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1625b7cc\",\n  null\n  \n)\n\nexport default component.exports","import { exitLogin } from \"@/api/user/users\";\r\nimport router from \"@/router\";\r\nimport Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\n\r\nVue.use(Vuex);\r\n// Store\r\nexport default new Vuex.Store({\r\n  state: {\r\n    token: \"\", // token\r\n    loginTime: +localStorage.getItem(\"loginTime\"),\r\n    tokenLife: 1 * 3600 * 1000, //一小时\r\n    TOKEN_NAME: \"SD_SHOP_TOKEN\", // 本地存储的key值\r\n    isLoginState: false, // 登录状态\r\n    userInfo: {}, // 用户信息\r\n\r\n    purseInfo: {}, // 钱包信息\r\n\r\n    addressList: {}, // 地址集合\r\n\r\n    commentId: \"\",\r\n    showCommentPopup: false, // 地址评价栏\r\n  },\r\n  getters: {\r\n    // 获取token 并校验\r\n    token(state) {\r\n      if (state.token !== \"\") {\r\n        // 续签\r\n        const date = new Date().getTime();\r\n        const delay = date - +state.loginTime;\r\n        console.log(delay);\r\n        // 登录有效\r\n        if (delay <= state.tokenLife) {\r\n          localStorage.setItem(\"loginTime\", `${date}`);\r\n          return state.token; // 返回token\r\n        } else {\r\n          // 清空vuex\r\n          for (const key in state.userInfo) {\r\n            Vue.set(state.userInfo, key, \"\");\r\n          }\r\n          state.isLoginState = false;\r\n          state.token = \"\";\r\n          state.loginTime = -1;\r\n          // 清空本地存储\r\n          localStorage.removeItem(state.TOKEN_NAME);\r\n          sessionStorage.removeItem(state.TOKEN_NAME);\r\n          localStorage.removeItem(\"loginTime\");\r\n          // 跳转登录\r\n          router.push({\r\n            name: \"login\",\r\n            params: { animate: \"forward\", toBack: true },\r\n          });\r\n          return \"\";\r\n        }\r\n      } else {\r\n        // 跳转登录\r\n        router.push({\r\n          name: \"login\",\r\n          params: { animate: \"forward\", toBack: true },\r\n        });\r\n        return \"\";\r\n      }\r\n    },\r\n  },\r\n  mutations: {\r\n    // 登录\r\n    setToken(state, { token, savePwd }) {\r\n      const date = new Date().getTime();\r\n      state.loginTime = date;\r\n      localStorage.setItem(\"loginTime\", date);\r\n      if (savePwd) {\r\n        localStorage.setItem(state.TOKEN_NAME, token);\r\n      } else {\r\n        sessionStorage.setItem(state.TOKEN_NAME, token);\r\n      }\r\n      state.token = token;\r\n    },\r\n    // 登录状态\r\n    setLoginState(state, val) {\r\n      state.isLoginState = val;\r\n    },\r\n    setLoginTime(state, val) {\r\n      state.loginTime = val;\r\n    },\r\n    // 添加个人信息\r\n    setUserInfo(state, userInfo) {\r\n      for (const key in userInfo) {\r\n        Vue.set(state.userInfo, key, userInfo[key]);\r\n      }\r\n    },\r\n    // 添加钱包信息\r\n    setPurseInfo(state, purseInfo) {\r\n      for (const key in purseInfo) {\r\n        Vue.set(state.purseInfo, key, purseInfo[key]);\r\n      }\r\n    },\r\n    // 添加地址信息\r\n    setAddressList(state, addressList) {\r\n      for (const key in addressList) {\r\n        Vue.set(state.addressList, key, addressList[key]);\r\n      }\r\n    },\r\n\r\n    // 设置地址弹窗\r\n    setShowCommentPopup(state, { show, commentId }) {\r\n      state.showCommentPopup = show;\r\n      state.commentId = commentId;\r\n    },\r\n    // 登出\r\n    loginOut(state) {\r\n      // 退出登录请求loginOut\r\n      exitLogin(state.token)\r\n        .then(res => {\r\n          if (res.status === 200 && res.data.code === 20011) {\r\n            // console.log(\"退出成功！\");\r\n          } else {\r\n            console.log(\"退出失败！\");\r\n          }\r\n        })\r\n        .catch(() => {\r\n          console.log(\"退出失败！\");\r\n        });\r\n      // 清空vuex\r\n      state.isLoginState = false;\r\n      for (const key in state.userInfo) {\r\n        Vue.set(state.userInfo, key, \"\");\r\n      }\r\n      for (const key in state.purseInfo) {\r\n        Vue.set(state.purseInfo, key, \"\");\r\n      }\r\n      state.token = \"\";\r\n      state.loginTime = -1;\r\n      // 清空本地存储\r\n      localStorage.removeItem(state.TOKEN_NAME);\r\n      sessionStorage.removeItem(state.TOKEN_NAME);\r\n      localStorage.removeItem(\"loginTime\");\r\n    },\r\n  },\r\n  actions: {},\r\n  modules: {},\r\n});\r\n","import Vue from \"vue\";\r\n// home\r\nimport VueRouter from \"vue-router\";\r\nimport HomeView from \"@/views/home/HomeView\";\r\nimport MyView from \"@/views/home/MyView.vue\";\r\nimport ShopcartView from \"@/views/home/ShopcartView.vue\";\r\nimport CategoryView from \"@/views/home/CategoryView.vue\";\r\n// 登录注册\r\nimport LoginView from \"@/views/login/LoginView.vue\";\r\nimport RegisterView from \"@/views/login/RegisterView.vue\";\r\n// 二级页面\r\nimport CollectView from \"@/views/second/CollectView.vue\";\r\nimport SearchView from \"@/views/second/SearchView.vue\";\r\nimport EventView from \"@/views/second/EventView.vue\";\r\nimport RechargeView from \"@/views/second/RechargeView\";\r\nimport PurseView from \"@/views/second/PurseView\";\r\nimport UserView from \"@/views/second/UserView\";\r\nimport InfoView from \"@/views/second/InfoView\";\r\nimport SigninView from \"@/views/second/SigninView\";\r\nimport AddressView from \"@/views/second/AddressView\";\r\nimport BillsView from \"@/views/second/BillsView\";\r\nimport BillsDetailView from \"@/views/second/BillsDetailView\";\r\n// 商品详情\r\nimport GoodsDetail from \"@/views/goods/GoodsDetail.vue\";\r\n// 评论\r\nimport CommentDetail from \"@/views/comment/CommentDetail\";\r\nimport CommentView from \"@/views/comment/CommentView\";\r\nimport AddCommentView from \"@/views/comment/AddCommentView\";\r\n\r\n// 订单\r\nimport OrderView from \"@/views/orders/OrderView.vue\";\r\nimport CheckOrder from \"@/views/orders/CheckOrder\";\r\n\r\nimport store from \"@/store\";\r\nVue.use(VueRouter);\r\nconst routes = [\r\n  // 1.主页\r\n  {\r\n    path: \"/\",\r\n    component: HomeView,\r\n    children: [\r\n      {\r\n        path: \"\",\r\n        redirect: \"/home\",\r\n        meta: {\r\n          title: \"美宜购掌上商城 \",\r\n          lv: 1,\r\n          keepAlive: true,\r\n        },\r\n      },\r\n      {\r\n        path: \"home\",\r\n        name: \"home\",\r\n        meta: {\r\n          title: \"美宜购掌上商城 \",\r\n          lv: 1,\r\n          keepAlive: true,\r\n        },\r\n      },\r\n    ],\r\n\r\n    meta: {\r\n      title: \"美宜购掌上商城 \",\r\n      lv: 1,\r\n      keepAlive: true,\r\n    },\r\n  },\r\n  // 1.1 搜索页面\r\n  {\r\n    path: \"/search\",\r\n    name: \"search\",\r\n    component: SearchView,\r\n    meta: {\r\n      title: \"搜索\",\r\n      lv: 2,\r\n    },\r\n  },\r\n  // 1.2 活动页面\r\n  {\r\n    name: \"active\",\r\n    path: \"/events\",\r\n    component: EventView,\r\n    meta: {\r\n      title: \"活动\",\r\n      lv: 2,\r\n    },\r\n  },\r\n  // 2.分类页面\r\n  {\r\n    name: \"category\",\r\n    path: \"/category\",\r\n    component: CategoryView,\r\n    meta: {\r\n      title: \"分类\",\r\n      lv: 1,\r\n      keepAlive: true,\r\n    },\r\n  },\r\n\r\n  // 3.购物车页面\r\n  {\r\n    name: \"shopcar\",\r\n    path: \"/shopcar\",\r\n    component: ShopcartView,\r\n    meta: {\r\n      title: \"购物车\",\r\n      lv: 1,\r\n      keepAlive: true,\r\n    },\r\n  },\r\n\r\n  // 4.我的页面\r\n  {\r\n    name: \"my\",\r\n    path: \"/my\",\r\n    component: MyView,\r\n    meta: {\r\n      title: \"个人中心\",\r\n      lv: 1,\r\n      keepAlive: true,\r\n    },\r\n  },\r\n  // 4.1 订单页面\r\n  {\r\n    name: \"order\",\r\n    path: \"/my/order\",\r\n    component: OrderView,\r\n    meta: {\r\n      title: \"订单\",\r\n      lv: 2,\r\n      keepAlive: true,\r\n      permission: true,\r\n    },\r\n  },\r\n  // 4.2 收藏页面\r\n  {\r\n    name: \"collect\",\r\n    path: \"/my/collect\",\r\n    component: CollectView,\r\n    meta: {\r\n      title: \"收藏\",\r\n      lv: 2,\r\n      keepAlive: true,\r\n      permission: true,\r\n    },\r\n  },\r\n  // 4.3.积分页面\r\n  {\r\n    name: \"recharge\",\r\n    path: \"/my/recharge\",\r\n    component: RechargeView,\r\n    meta: {\r\n      title: \"积分页面\",\r\n      lv: 2,\r\n      keepAlive: true,\r\n      permission: true,\r\n    },\r\n  },\r\n  // 4.4 签到页面\r\n  {\r\n    path: \"/my/signin\",\r\n    name: \"signin\",\r\n    component: SigninView,\r\n    meta: {\r\n      title: \"签到\",\r\n      lv: 2,\r\n      permission: true,\r\n    },\r\n  },\r\n  // 4.4.钱包页面\r\n  {\r\n    name: \"purse\",\r\n    path: \"/my/purse\",\r\n    component: PurseView,\r\n    meta: {\r\n      title: \"钱包\",\r\n      lv: 2,\r\n      keepAlive: true,\r\n      permission: true,\r\n    },\r\n  },\r\n  // 4.5 个人信息页面\r\n  {\r\n    name: \"user\",\r\n    path: \"/my/user\",\r\n    component: UserView,\r\n    meta: {\r\n      title: \"账号与安全\",\r\n      lv: 2,\r\n      permission: true,\r\n    },\r\n  },\r\n  {\r\n    name: \"userinfo\",\r\n    path: \"/my/info\",\r\n    component: InfoView,\r\n    meta: {\r\n      title: \"基本信息\",\r\n      lv: 2,\r\n      permission: true,\r\n    },\r\n  },\r\n  // 4.6 账单页面\r\n  {\r\n    name: \"bills\",\r\n    path: \"/my/bills\",\r\n    component: BillsView,\r\n    meta: {\r\n      title: \"账单\",\r\n      lv: 2,\r\n      keepAlive: true,\r\n      permission: true,\r\n    },\r\n  },\r\n  // 4.6.2 账单详细页\r\n  {\r\n    name: \"billsdetail\",\r\n    path: \"/my/bills/detial\",\r\n    component: BillsDetailView,\r\n    meta: {\r\n      title: \"账单详细\",\r\n      lv: 2,\r\n      permission: true,\r\n    },\r\n  },\r\n  // 4.7 地址集合页面\r\n  {\r\n    name: \"address\",\r\n    path: \"/address\",\r\n    component: AddressView,\r\n    meta: {\r\n      title: \"收获地址\",\r\n      lv: 2,\r\n      permission: true,\r\n    },\r\n  },\r\n\r\n  // 1）登录页面\r\n  {\r\n    name: \"login\",\r\n    path: \"/login\",\r\n    component: LoginView,\r\n    meta: {\r\n      title: \"登录\",\r\n      lv: 2, // 二级页面\r\n    },\r\n  },\r\n  // 2）注册页面\r\n  {\r\n    name: \"regist\",\r\n    path: \"/regist\",\r\n    component: RegisterView,\r\n    meta: {\r\n      title: \"注册新用户\",\r\n      lv: 2,\r\n      keepAlive: true,\r\n    },\r\n  },\r\n\r\n  // 5.商品详情页\r\n  {\r\n    name: \"detail\",\r\n    path: \"/detail\",\r\n    component: GoodsDetail,\r\n    meta: {\r\n      title: \"商品详情\",\r\n      lv: 2,\r\n      // permission: true,\r\n    },\r\n  },\r\n\r\n  // 5.1 评论详情页面\r\n  {\r\n    name: \"commentdetail\",\r\n    path: \"/comments/detail\",\r\n    component: CommentDetail,\r\n    meta: {\r\n      title: \"评论\",\r\n      lv: 2,\r\n      permission: true,\r\n    },\r\n  },\r\n  // 5.1.b 评论列表页面\r\n  {\r\n    name: \"comment\",\r\n    path: \"/comments\",\r\n    component: CommentView,\r\n    meta: {\r\n      title: \"评论列表\",\r\n      lv: 2,\r\n      keepAlive: true,\r\n      permission: true,\r\n    },\r\n  },\r\n\r\n  // 5.2 提交订单页面\r\n  {\r\n    path: \"/checkorder\",\r\n    name: \"checkorder\",\r\n    component: CheckOrder,\r\n    meta: {\r\n      title: \"提交订单\",\r\n      lv: 2,\r\n      permission: true,\r\n    },\r\n  },\r\n\r\n  // 6 去评论页面\r\n  {\r\n    path: \"/comment/add\",\r\n    name: \"addcomment\",\r\n    component: AddCommentView,\r\n    meta: {\r\n      title: \"评论\",\r\n      lv: 2,\r\n      permission: true,\r\n    },\r\n  },\r\n\r\n  // 404页面\r\n  {\r\n    name: \"notFund\",\r\n    path: \"/404\",\r\n    component: res => require([\"@/views/NotFund.vue\"], res),\r\n  },\r\n];\r\n\r\nconst router = new VueRouter({\r\n  // mode: \"history\",\r\n  mode: \"hash\",\r\n  base: process.env.BASE_URL,\r\n  routes,\r\n});\r\n// 拦截器\r\nrouter.beforeEach((to, from, next) => {\r\n  // 浏览器标题设置\r\n  document.title = to.meta?.title || \"美宜购掌上商城 \";\r\n  // 权限设置\r\n  if (to.meta.permission) {\r\n    // 权限验证\r\n    if (store.getters.token) {\r\n      next();\r\n    } else {\r\n      next({\r\n        name: \"login\",\r\n        params: {\r\n          animate: \"forward\",\r\n          toBack: true,\r\n        },\r\n      });\r\n    }\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n","<template>\r\n  <div class=\"animate__animated animate__fadeIn nav-bar\">\r\n    <div\r\n      class=\"item\"\r\n      v-for=\"(p, i) in option\"\r\n      :key=\"p.path\"\r\n      @click=\"toPage(i)\"\r\n      :class=\"active === i ? 'active' : ''\"\r\n    >\r\n      <img :src=\"active === i ? p.onIcon : p.icon\" class=\"icon\" />\r\n      <span>{{ p.title }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport router from \"@/router\";\r\nexport default {\r\n  name: \"NavBar\",\r\n  data() {\r\n    return {\r\n      option: [\r\n        {\r\n          title: \"首页\",\r\n          icon: require(\"../assets/image/icon/home.png\"),\r\n          onIcon: require(\"../assets/image/icon/onHome.png\"),\r\n          path: \"home\",\r\n        },\r\n        {\r\n          title: \"分类\",\r\n          icon: require(\"../assets/image/icon/categoty.png\"),\r\n          onIcon: require(\"../assets/image/icon/onCategoty.png\"),\r\n          path: \"category\",\r\n        },\r\n        {\r\n          title: \"购物车\",\r\n          icon: require(\"../assets/image/icon/shopcar.png\"),\r\n          onIcon: require(\"../assets/image/icon/onShopcar.png\"),\r\n          path: \"shopcar\",\r\n        },\r\n        {\r\n          title: \"个人中心\",\r\n          icon: require(\"../assets/image/icon/my.png\"),\r\n          onIcon: require(\"../assets/image/icon/onMy.png\"),\r\n          path: \"my\",\r\n        },\r\n      ],\r\n      active: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    // 导航切换\r\n    toPage(i) {\r\n      if (i !== this.active) {\r\n        router.push({\r\n          name: this.option[i].path,\r\n          params: {\r\n            animate: this.active < i ? \"forward\" : \"toback\",\r\n          },\r\n        });\r\n        this.active = i;\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    $route: {\r\n      immediate: true,\r\n      handler(to) {\r\n        // 初始化地址\r\n        for (let i = 0; i < this.option.length; i++) {\r\n          if (to.name === this.option[i].path) {\r\n            return (this.active = i);\r\n          }\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.nav-bar {\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\r\n  display: inline-flex;\r\n  /* background-image: radial-gradient(transparent 1px, var(--theme-color) 1px);\r\n  background-size: 4px 4px;\r\n  backdrop-filter: saturate(50%) blur(10px);\r\n  border-bottom: 1px solid var(--theme-color); */\r\n  background-color: var(--theme-color3);\r\n  box-shadow: var(--shadow-color2);\r\n  z-index: 999;\r\n}\r\n.nav-bar > .item {\r\n  flex: 1;\r\n  padding: 0.1rem 0;\r\n  text-align: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: 600;\r\n  color: rgba(128, 128, 128, 0.8);\r\n  cursor: pointer;\r\n}\r\n.item span {\r\n  font-size: 0.32rem;\r\n}\r\n.item.active {\r\n  color: black;\r\n  color: var(--theme-color4);\r\n  font-weight: 600;\r\n}\r\n.item .icon {\r\n  width: 0.6rem;\r\n  transition: 0.5s;\r\n  display: block;\r\n  margin: 0.2rem 0;\r\n}\r\n.item.active .icon {\r\n  animation: swing;\r\n  animation-duration: 1s;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavBar.vue?vue&type=template&id=416714cf&scoped=true&\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavBar.vue?vue&type=style&index=0&id=416714cf&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"416714cf\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <!-- 过渡动画 -->\r\n    <transition :name=\"routerAnimate\">\r\n      <!-- 1)需缓存页面 -->\r\n      <keep-alive v-if=\"keepAlive\">\r\n        <router-view />\r\n      </keep-alive>\r\n      <!-- 2)无需缓存页面 -->\r\n      <router-view v-if=\"!keepAlive\" />\r\n    </transition>\r\n    <!-- 底部导航栏 -->\r\n    <NavBar v-show=\"isNavBar\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport NavBar from \"./components/NavBar.vue\";\r\nimport { checkUser } from \"@/api/user/users\";\r\nimport { getPurseInfo } from \"@/api/user/purse\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  components: { NavBar },\r\n  data() {\r\n    return {\r\n      routerAnimate: \"toback\",\r\n      keepAlive: false,\r\n      isNavBar: false,\r\n    };\r\n  },\r\n  created() {\r\n    // 控制台HELLO\r\n    console.log(\r\n      \"%c    欢迎你来到该商城！\",\r\n      [\r\n        \"padding:10px 10px;\",\r\n        \"padding-left:0;\",\r\n        `background:url(${require(\"@/assets/image/favicon.png\")}) left center no-repeat;`,\r\n      ].join(\"\")\r\n    );\r\n\r\n    // 导航栏显示\r\n    this.isNavBar = !(this.$route.meta.lv !== 1);\r\n    // 验证用户登录状态\r\n    const locationToken =\r\n      localStorage.getItem(this.$store.state.TOKEN_NAME) || \"\";\r\n    const sessionToken =\r\n      sessionStorage.getItem(this.$store.state.TOKEN_NAME) || \"\";\r\n    if (locationToken === \"\" && sessionToken === \"\") return;\r\n    let token = locationToken || sessionToken;\r\n    // 验证token\r\n    checkUser(token)\r\n      .then((res) => {\r\n        if (res.data.code === 20011) {\r\n          // 登录状态\r\n          this.$store.commit(\"setLoginState\", true);\r\n          this.$store.commit(\"setToken\", {\r\n            token,\r\n            savePwd: locationToken !== \"\",\r\n          });\r\n          // 初始化store\r\n          this.$store.commit(\"setUserInfo\", res.data.data);\r\n          // 钱包信息\r\n          this.reqPurseInfo();\r\n        }\r\n      })\r\n      .catch(() => {\r\n        this.$store.commit(\"loginOut\");\r\n      });\r\n  },\r\n\r\n  watch: {\r\n    // 监控路由并添加动画\r\n    $route(to, from) {\r\n      // 修改标题\r\n      this.keepAlive = to.meta?.keepAlive ?? false;\r\n      // 导航栏显示\r\n      this.isNavBar = !(to.meta.lv !== 1);\r\n\r\n      if (to.params?.animate) {\r\n        switch (to.params?.animate) {\r\n          // 向前\r\n          case \"forward\":\r\n            this.routerAnimate =\r\n              to.meta?.lv > from.meta?.lv\r\n                ? `${to.params.animate}2`\r\n                : to.params.animate;\r\n            break;\r\n          case \"toup\":\r\n            this.routerAnimate = to.params.animate;\r\n            break;\r\n          // 自定义进入动画\r\n          default:\r\n            this.routerAnimate = to.params.animate;\r\n            break;\r\n        }\r\n\r\n        // 返回\r\n      } else {\r\n        switch (this.routerAnimate) {\r\n          // 上下拉\r\n          case \"toup\":\r\n            this.routerAnimate = \"toDown\";\r\n            break;\r\n          default:\r\n            // 普通返回动画 2->1\r\n            this.routerAnimate =\r\n              to.meta?.lv < from.meta?.lv ? \"toback2\" : \"toback\";\r\n            break;\r\n        }\r\n      }\r\n    },\r\n\r\n    token(value) {\r\n      if (!value) {\r\n        this.$store.commit(\"setLoginState\", false);\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // 请求钱包信息\r\n    async reqPurseInfo() {\r\n      const res = await getPurseInfo(this.$store.getters.token);\r\n      // console.log(res);\r\n      if (res.status == 200 && res.data.code === 20011) {\r\n        this.$store.commit(\"setPurseInfo\", res.data.data);\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"token\"]),\r\n  },\r\n};\r\n</script>\r\n<style>\r\n@import url(\"/public/css/default.css\");\r\n.animate_animated {\r\n  will-change: transition aniamtion;\r\n}\r\n/* 前进 */\r\n.forward-enter-active,\r\n.forward-leave-active {\r\n  width: 100%;\r\n  transition: all var(--router-delay);\r\n  position: absolute;\r\n  opacity: 1;\r\n}\r\n.forward-leave-to {\r\n  opacity: 0;\r\n  transform: translateX(-100%);\r\n}\r\n.forward-enter {\r\n  opacity: 0;\r\n  transform: translateX(100%);\r\n}\r\n\r\n/* 二级前进 */\r\n.forward2-enter-active,\r\n.forward2-leave-active {\r\n  width: 100%;\r\n  transition: all var(--router-delay);\r\n  position: absolute;\r\n  opacity: 1;\r\n}\r\n.forward2-leave-to {\r\n  opacity: 0;\r\n  filter: blur(8px) grayscale(60%);\r\n  transform: translateX(0);\r\n}\r\n.forward2-enter {\r\n  opacity: 1;\r\n  transform: translateX(100%);\r\n}\r\n\r\n/* 返回动画 */\r\n.toback-enter-active,\r\n.toback-leave-active {\r\n  opacity: 1;\r\n  transition: all var(--router-delay);\r\n  position: absolute;\r\n  width: 100%;\r\n}\r\n.toback-leave-to {\r\n  transform: translateX(100%);\r\n}\r\n.toback-enter {\r\n  opacity: 0;\r\n  transform: translateX(-100%);\r\n}\r\n/* 二级返回 */\r\n.toback2-enter-active,\r\n.toback2-leave-active {\r\n  opacity: 1;\r\n  transition: all var(--router-delay);\r\n  position: absolute;\r\n  width: 100%;\r\n}\r\n.toback2-leave-to {\r\n  opacity: 0.8;\r\n  filter: blur(4px);\r\n  transform: translateX(100%);\r\n}\r\n.toback2-enter {\r\n  opacity: 0;\r\n  transform: translateX(0%);\r\n}\r\n\r\n/* 上拉 */\r\n.toup-enter-active,\r\n.toup-leave-active {\r\n  opacity: 1;\r\n  transition: all calc(var(--router-delay));\r\n  position: absolute;\r\n  width: 100%;\r\n}\r\n.toup-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(-10%) scale(0.8);\r\n  filter: blur(10px);\r\n  box-shadow: var(--shadow-color2);\r\n}\r\n.toup-enter {\r\n  opacity: 0;\r\n  transform: translateY(100%) scale(1);\r\n}\r\n/* 下拉 */\r\n.toDown-leave-active {\r\n  z-index: 2000;\r\n  transition: all calc(var(--router-delay)) ease-in;\r\n  position: absolute;\r\n  transform: scale(0.8);\r\n  width: 100%;\r\n}\r\n.toDown-enter-active {\r\n  transition: all calc(var(--router-delay)) ease;\r\n  position: absolute;\r\n  transform: none;\r\n  width: 100%;\r\n}\r\n.toDown-leave-to {\r\n  opacity: 0;\r\n  backdrop-filter: blur(20px);\r\n  filter: blur(6px);\r\n  transform: translateY(100%);\r\n  box-shadow: var(--shadow-color2);\r\n}\r\n.toDown-enter {\r\n  transform: scale(1);\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2e251e10&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=2e251e10&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import currency from \"currency.js\";\r\n\r\n/**\r\n * 价格计算\r\n */\r\nexport function price(val) {\r\n  return currency(val);\r\n}\r\n/**\r\n * 隐藏手机哈\r\n */\r\nexport function hidePhone(val) {\r\n  return val.replace(/(\\d{3})(\\d{4})(\\d{4})/, \"$1****$3\");\r\n}\r\n\r\n/**\r\n * 获取时间 MM-dd\r\n */\r\nexport function timeTomds(val) {\r\n  const date = new Date(val);\r\n  return `${date.getMonth() + 1}月${date.getDate()}日 ${date.getHours()}:${date.getMinutes()}`;\r\n}\r\n","import Vue from \"vue\";\r\n\r\n// 长按事件\r\nVue.directive(\"longpress\", function (el, binding) {\r\n  let timer = null;\r\n  let start = e => {\r\n    e.preventDefault();\r\n    if (e.type === \"click\") return; // 点击停止\r\n    if (timer === null) {\r\n      timer = setTimeout(() => {\r\n        binding.value(e);\r\n      }, 600);\r\n    }\r\n  };\r\n  let cancel = e => {\r\n    e.preventDefault();\r\n    if (timer !== null) {\r\n      clearTimeout(timer);\r\n      timer = null;\r\n    }\r\n  };\r\n\r\n  // 开始\r\n  el.addEventListener(\"mousedown\", start);\r\n  el.addEventListener(\"touchstart\", start);\r\n  // 取消\r\n  el.addEventListener(\"mouseout\", cancel);\r\n  el.addEventListener(\"touchend\", cancel);\r\n  el.addEventListener(\"click\", cancel);\r\n});\r\n","import Vue from \"vue\";\r\nimport App from \"./App.vue\"; // App.js\r\nimport router from \"./router\"; // vue-router\r\nimport store from \"./store\"; // vuex\r\nimport * as filters from \"@/util/filters\";\r\nimport BaiduMap from \"vue-baidu-map\";\r\nimport \"amfe-flexible\"; // 移动端适配\r\nimport \"@/assets/css/animate.min.css\"; // 动画库\r\n// 指令\r\nimport \"@/util/directive\";\r\n// 按需ui库\r\nimport {\r\n  Button,\r\n  Tabbar,\r\n  TabbarItem,\r\n  Form,\r\n  Field,\r\n  Toast,\r\n  NavBar,\r\n  Notify,\r\n  Switch,\r\n  Checkbox,\r\n  Icon,\r\n  Dialog,\r\n  Loading,\r\n  Swipe,\r\n  SwipeItem,\r\n  Lazyload,\r\n  Empty,\r\n  Tabs,\r\n  Tab,\r\n  List,\r\n  Image as VanImage,\r\n  Badge,\r\n  Sidebar,\r\n  SidebarItem,\r\n  PullRefresh,\r\n  ShareSheet,\r\n  ImagePreview,\r\n  GoodsAction,\r\n  GoodsActionButton,\r\n  GoodsActionIcon,\r\n  Sku,\r\n  Tag,\r\n  Rate,\r\n  Uploader,\r\n  Popup,\r\n  Cell,\r\n  CellGroup,\r\n  Calendar,\r\n  Area,\r\n  RadioGroup,\r\n  Radio,\r\n  CheckboxGroup,\r\n  Card,\r\n  SubmitBar,\r\n  Popover,\r\n  Steps,\r\n  Step,\r\n  Stepper,\r\n  NoticeBar,\r\n  Picker,\r\n} from \"vant\";\r\n\r\n// 全局过滤器\r\nfor (const key in filters) {\r\n  Vue.filter(key, filters[key]);\r\n}\r\n// van按需t注册组件\r\nVue.use(Button)\r\n  .use(Tabbar)\r\n  .use(TabbarItem)\r\n  .use(Form)\r\n  .use(Icon)\r\n  .use(Field)\r\n  .use(Toast)\r\n  .use(NavBar)\r\n  .use(Notify)\r\n  .use(Switch)\r\n  .use(Checkbox)\r\n  .use(Dialog)\r\n  .use(Swipe)\r\n  .use(SwipeItem)\r\n  .use(Loading)\r\n  .use(Lazyload)\r\n  .use(Tabs)\r\n  .use(Tab)\r\n  .use(List)\r\n  .use(Empty)\r\n  .use(VanImage)\r\n  .use(Badge)\r\n  .use(Sidebar)\r\n  .use(SidebarItem)\r\n  .use(PullRefresh)\r\n  .use(ShareSheet)\r\n  .use(ImagePreview)\r\n  .use(GoodsAction)\r\n  .use(GoodsActionButton)\r\n  .use(GoodsActionIcon)\r\n  .use(Sku)\r\n  .use(Tag)\r\n  .use(Rate)\r\n  .use(Uploader)\r\n  .use(Popup)\r\n  .use(Cell)\r\n  .use(CellGroup)\r\n  .use(Calendar)\r\n  .use(Area)\r\n  .use(CheckboxGroup)\r\n  .use(Radio)\r\n  .use(RadioGroup)\r\n  .use(Card)\r\n  .use(SubmitBar)\r\n  .use(Popover)\r\n  .use(Steps)\r\n  .use(Stepper)\r\n  .use(Rate)\r\n  .use(NoticeBar)\r\n  .use(Picker)\r\n  .use(Step);\r\n\r\n// 配置\r\nVue.config.productionTip = false;\r\nDialog.setDefaultOptions({\r\n  transition: \"popup\",\r\n});\r\n\r\n// 百度地图\r\nVue.use(BaiduMap, {\r\n  ak: \"xxxxxxxxxxxx\",\r\n  enableDragging: true,\r\n});\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App),\r\n}).$mount(\"#app\");\r\n","var map = {\n\t\"./balance_icon.png\": 4290,\n\t\"./camera.png\": 3347,\n\t\"./categoty.png\": 9346,\n\t\"./coins_icon.png\": 7598,\n\t\"./home.png\": 8309,\n\t\"./location.png\": 1558,\n\t\"./logo.png\": 8987,\n\t\"./my.png\": 7450,\n\t\"./onCategoty.png\": 3881,\n\t\"./onHome.png\": 3105,\n\t\"./onMy.png\": 5322,\n\t\"./onShopcar.png\": 2775,\n\t\"./phonebill.png\": 9545,\n\t\"./rechagebill.png\": 5698,\n\t\"./shopbill.png\": 136,\n\t\"./shopcar.png\": 1072,\n\t\"./tuku.png\": 2239,\n\t\"./wechat.png\": 3705,\n\t\"./ysf.png\": 3702,\n\t\"./zfb.png\": 7313\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 331;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + \"bda7249e\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"shop_front_mobile:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t};\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkshop_front_mobile\"] = self[\"webpackChunkshop_front_mobile\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2905); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","routerAnimate","keepAlive","_e","directives","name","rawName","value","isNavBar","expression","staticRenderFns","staticClass","_l","option","p","i","key","path","class","active","on","$event","toPage","onIcon","icon","_v","_s","title","toSearchView","eventData","toEventView","getImgSrc","baseURL","request","axios","timeout","headers","getResourImageByName","url","getEventActives","method","getEventGoodsById","page","size","id","asyncCacheData","async","oldList","asyncFn","asyncParams","uuid","list","JSON","parse","sessionStorage","getItem","length","forEach","push","res","stringify","data","console","log","setItem","created","methods","params","animate","query","eid","event","component","firstSortList","toCategoryView","getGoodsListByPageSize","type","getGoodDetailById","getFirstSortList","getSecondSortList","fTitle","model","callback","$$v","isHttpError","finished","onLoad","loading","goodsList","item","toGoodsDetail","goods","images","scopedSlots","_u","fn","proxy","price","sale","props","computed","components","GoodCard","reqType","required","default","currentPage","reqGoodsByType","then","catch","reqGoodsByEid","reStart","watch","GoodsList","recommend","isNew","saleSort","mainNotice","content","noticeList","notice","getNoticeByPage","getIndexNotice","SwipeCard","SortClass","ToggleGoods","NoticeBar","isLoginState","showIconPanel","userInfo","getImage","require","toLoginPage","toView","nickname","copyID","username","style","width","height","margin","open","show","closeable","uploadIcon","overSizeFile","imgList","updateIconPathInfo","register","phone","password","code","getRegisterCode","loginByCode","loginType","loginByPwd","getLoginCode","checkUser","token","Authorization","getUpdatePwdCode","checkUpdatePwdCode","updatePwd","newPassword","updateUserIcon","fromData","updateNickName","updateUserName","getIsNotUpdateUsername","updatePhone","getUpdateCode","changeUserPwd","oldPassword","exitLogin","uploadPath","isUpload","file","message","userIcon","copyText","text","textarea","document","createElement","readOnly","position","opacity","left","body","appendChild","select","result","execCommand","removeChild","copyTextAsync","navigator","clipboard","writeText","Promise","rej","router","toBack","ChangeIcon","purseInfo","_m","points","reqPurseInfo","isLodaing","_f","balance","getPurseInfo","reChargeByBombo","chargeType","rechargeComboId","reChargeByValue","rechargeAmount","getBills","year","month","getRechargeCombo","timer","mounted","target","staticStyle","targetName","cannelLogin","_t","MenuItem","beforeClose","setTimeout","done","MyTop","PurseCard","CardGroup","MenuList","$store","state","getCartCount","deleteAllCart","isEdit","ref","selectAll","changeSelectArr","getCartLength","changeSelectAll","getFinallPrices","onSubmitOrder","onChangeSelectAll","deleteShopCart","toLogin","onReflesh","isRefresh","isEmpty","getAllShopCartList","selectList","cartList","_b","showSku","onSelectProps","goodsId","deleteCartByOne","$attrs","GOOD_ID","shopcartId","updataShopcart","toGoodsView","onselectProps","isItem","unitPrice","deleteShopCartById","showCount","Number","stock","quantity","onSubChange","getAllShopCart","addShopCart","gid","updateShopCartProps","goodsItemId","deleteOneShopCart","deleteShopcartByIds","ids","paramsSerializer","serialize","qs","indices","clearAllShopCart","num","forbidClick","duration","newVal","initSku","picture","goodProps","defaultOption","skuDefault","selectedSku","changeShorCartProps","getGoodPropsById","getGoodProps","color","combo","edition","cartId","nums","prop","allStock","selectProps","combos","sizes","colors","editions","rows","selectPropsName","initProps","colorAndIcon","tree","stock_num","listIndex","hide_stock","row","k","k_s","v","largeImageMode","row1","row2","imgUrl","previewImgUrl","row3","isSellOut","row4","group","indexCol","callBack","obj","selectedNum","info","getOption","immediate","handler","CartCard","GoodsSku","count","clearInterval","deep","CartList","finallPrice","counts","confirm","activeKey","secondSortList","toSortView","getSecondList","cid","$route","onClickLeft","toSubmit","isUpdatePwd","user","isUserPwd","phoneCheck","codeFont","codeFontDis","domProps","composing","isUpdateCodeCheck","savePwd","onClickRight","rTitle","TopNav","phoneReg","times","onClose","reqUserInfo","localStorage","alert","confirmButtonText","second","disabled","toRegister","checkUsername","usernameReg","$router","back","collectList","deleteCollect","getAllCollectByGid","getTheCollectByGid","addCollectByGid","deleteCollectByGid","getPrice","updataIsCollect","index","arr","GoodRowcard","CollectList","isResult","submitSearch","focusKeywords","clearKeywords","keyWords","indexOf","_k","keyCode","toSearchGoods","apply","arguments","deleteHistory","searchHistory","touchStartHistory","touchEndHistory","clickHistory","touchTime","changeNav","isSaleDes","isPriceDes","priceSort","SearchNav","SearchToggle","themeColor","showShare","options","onSelect","showDialog","sqrcode","correctLevel","ShareNav","analyze","scale","rtitle","clickRight","ltitle","DefaultPage","isError","toFixed","chargeCombo","toReCharge","showCustomCharge","customValues","window","reload","image","reqHttp","isLoading","btnText","ErrorCard","copyId","openInfoPanel","showInfoPanel","$set","isDisUsername","oldPwd","newPwd","updateUser","isUser","getPhoneFormat","oldCode","toLoginByReg","newPhone","newCode","codeBtnInit","reCodeBtnInit","init","ChangePhone","disabledUpdatePwd","clickFn","saveChangeInfo","Object","keys","infoText","rules","getBaseInfo","updateBaseInfo","fullName","gender","age","email","birthday","qq","validator","pattern","changeAge","changeSex","d","signInText","isSignin","addSignin","siginDays","setUserSignIn","isTodaySignIn","getSignDays","getAllSigninDays","isSelectAll","getAllAddressList","addressList","toEdit","deleteAddressByIndex","onAddress","deleteAddressByIdsArray","showAddress","address","showArea","area","onLocation","isDefault","deleteAddress","areaList","setArea","showMaps","newAddress","allAddress","mapZoom","mapsAreas","clickMap","mapReady","searchAddressText","city","getSelectMapPointRes","locationSuccess","selectPoint","getLocationPositon","disableBtn","makeMaps","slice","province","getArea","readonly","getDefaultAddress","getAllAddress","putAddres","addressInfo","district","updateAddress","uid","deleteAddressById","getPosition","resolve","reject","geolocation","getCurrentPosition","latitude","coords","longitude","AddressCard","lng","lat","searchNnearby","center","radius","clearAddresFrom","finally","selects","reorderAddressList","point","street","streetNumber","map","AddressList","showSelectDate","getBillListByPage","mounthList","m","mounth","allOut","allIn","billList","toDetailView","time","monetaryUnit","amount","selectDate","onSelectDate","nowDate","mounthRes","values","defaultIndex","bill","getTypeIcon","status","merchantName","remark","onChangeGoodImg","current","img","showProps","postage","getSafeInfo","comments","toMakeOder","addShopCar","$toast","isCollect","addCollect","location","getGoodCommentById","sort","addCommentLiked","comment","disableComment","toCommentView","isMe","src","showPreImg","stars","deleteOrderComment","addCommentPick","isLiked","liked","changeCommentPopup","pickTimer","commentId","startPosition","CommentCard","newOption","finalSelectVal","getGoodDetail","selectedSkuComb","_this","getTheCollect","getCommentList","blurCommentObj","comment_child","deleteComment","changeCommentObj","childComments","son","j","formatInput","getHiddentText","commentText","addComment","getCommentSons","fid","addCommentChild","evaluationId","addCommentlikedByfid","deleteCommentByfid","onDelete","isAuthor","initTime","toComment","pickLike","first","sid","firstIndex","secondIndex","checkText","replace","CommentChildCard","commentNickName","touchStart","clearTimeout","touchEnd","commentLength","activeBar","goodId","commentList","deleteOneOrderComment","uploadOrderImgById","orderItemId","addOrderComment","delteOrderComment","reqCommentListBySort","showPopup","isAnimate","clearCommentObj","placeText","showCommentPopup","CommentList","CommentPopup","submitComment","orderInfo","orderItems","refInFor","goodsName","changeRate","rate","rateText","formData","getOrderById","getAllOrder","getUnPaidOrder","getUnDeliverOrder","getDeliveredOrder","getDoneOrder","submitOrder","aid","items","remarks","payOrder","updateOrder","doneOrder","deleteOrderById","cancelOrderById","reason","CommentForm","orderId","isRefreshing","orderList","order","getState","isPay","getPorps","cancelOrder","toastDeliver","checkDeliverd","deleteOrder","toAddComment","tips","GoodsInfo","typeColor","getStateEn","orderType","isOrder","toOrderComment","OrderList","getTitle","orderStateIndex","emptyAddress","showAddressSelectPanel","defaultAddress","toAddressView","allPostage","goodsLengths","getPostage","prices","getPointsVal","isPoints","isReadonly","finallyPrice","selectPay","payType","submitText","submitBtnFun","isSubmit","showPopover","changeAddress","showselect","showPayPanel","val","$emit","selectId","addresses","clickItem","submitAddress","SelectAddress","allPrice","submitError","isPayDone","orderState","submitId","q","checkOrderType","onPutOrder","onOpened","ponits","getBalance","getImgUrl","Vue","Vuex","loginTime","tokenLife","TOKEN_NAME","getters","date","Date","getTime","delay","removeItem","mutations","setToken","setLoginState","setLoginTime","setUserInfo","setPurseInfo","setAddressList","setShowCommentPopup","loginOut","actions","modules","VueRouter","routes","HomeView","children","redirect","meta","lv","SearchView","EventView","CategoryView","ShopcartView","MyView","OrderView","permission","CollectView","RechargeView","SigninView","PurseView","UserView","InfoView","BillsView","BillsDetailView","AddressView","LoginView","RegisterView","GoodsDetail","CommentDetail","CommentView","CheckOrder","AddCommentView","mode","base","process","beforeEach","to","from","next","store","NavBar","currency","hidePhone","timeTomds","getMonth","getDate","getHours","getMinutes","el","binding","start","e","preventDefault","cancel","addEventListener","filters","use","transition","BaiduMap","ak","enableDragging","h","App","$mount","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","module","exports","__webpack_module_cache__","moduleId","cachedModule","undefined","__webpack_modules__","call","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","every","splice","r","n","getter","__esModule","a","definition","defineProperty","enumerable","get","f","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","Function","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","setAttribute","onScriptComplete","prev","onerror","onload","doneFns","parentNode","bind","head","Symbol","toStringTag","installedChunks","installedChunkData","promise","error","loadingEnded","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}